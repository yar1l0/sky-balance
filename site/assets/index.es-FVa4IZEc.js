const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "assets/index-kiaA3-eT.js",
      "assets/index-CSbDQnF_.js",
      "assets/index-D-hCz38O.css",
      "assets/index-CgqXENQe.js",
    ]),
) => i.map((i) => d[i]);
import {
  x as kl,
  q as o8,
  C as vn,
  D as hp,
  _ as c8,
} from "./index-CSbDQnF_.js";
import { r as u8 } from "./events-DQ172AOg.js";
import { g as mt } from "./index-BbP3371Q.js";
import { B as Xi } from "./index-CgqXENQe.js";
import {
  r as Tv,
  a as f8,
  b as Ou,
} from "./___vite-browser-external_commonjs-proxy-aBVGrB6-.js";
var gi = u8();
const jl = kl(gi);
var lp = function (r, e, t) {
    if (t || arguments.length === 2)
      for (var i = 0, s = e.length, a; i < s; i++)
        (a || !(i in e)) &&
          (a || (a = Array.prototype.slice.call(e, 0, i)), (a[i] = e[i]));
    return r.concat(a || Array.prototype.slice.call(e));
  },
  h8 = (function () {
    function r(e, t, i) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.type = "browser");
    }
    return r;
  })(),
  l8 = (function () {
    function r(e) {
      (this.version = e),
        (this.type = "node"),
        (this.name = "node"),
        (this.os = process.platform);
    }
    return r;
  })(),
  d8 = (function () {
    function r(e, t, i, s) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.bot = s),
        (this.type = "bot-device");
    }
    return r;
  })(),
  p8 = (function () {
    function r() {
      (this.type = "bot"),
        (this.bot = !0),
        (this.name = "bot"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  g8 = (function () {
    function r() {
      (this.type = "react-native"),
        (this.name = "react-native"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  v8 =
    /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,
  b8 =
    /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,
  dp = 3,
  m8 = [
    ["aol", /AOLShield\/([0-9\._]+)/],
    ["edge", /Edge\/([0-9\._]+)/],
    ["edge-ios", /EdgiOS\/([0-9\._]+)/],
    ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
    ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
    ["samsung", /SamsungBrowser\/([0-9\.]+)/],
    ["silk", /\bSilk\/([0-9._-]+)\b/],
    ["miui", /MiuiBrowser\/([0-9\.]+)$/],
    ["beaker", /BeakerBrowser\/([0-9\.]+)/],
    ["edge-chromium", /EdgA?\/([0-9\.]+)/],
    [
      "chromium-webview",
      /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,
    ],
    ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
    ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
    ["fxios", /FxiOS\/([0-9\.]+)/],
    ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
    ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
    ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
    ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
    [
      "pie",
      /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/,
    ],
    ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
    ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ["ie", /MSIE\s(7\.0)/],
    ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ["android", /Android\s([0-9\.]+)/],
    ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ["safari", /Version\/([0-9\._]+).*Safari/],
    ["facebook", /FB[AS]V\/([0-9\.]+)/],
    ["instagram", /Instagram\s([0-9\.]+)/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
    ["curl", /^curl\/([0-9\.]+)$/],
    ["searchbot", v8],
  ],
  pp = [
    ["iOS", /iP(hone|od|ad)/],
    ["Android OS", /Android/],
    ["BlackBerry OS", /BlackBerry|BB10/],
    ["Windows Mobile", /IEMobile/],
    ["Amazon OS", /Kindle/],
    ["Windows 3.11", /Win16/],
    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
    ["Windows 98", /(Windows 98)|(Win98)/],
    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
    ["Windows Server 2003", /(Windows NT 5.2)/],
    ["Windows Vista", /(Windows NT 6.0)/],
    ["Windows 7", /(Windows NT 6.1)/],
    ["Windows 8", /(Windows NT 6.2)/],
    ["Windows 8.1", /(Windows NT 6.3)/],
    ["Windows 10", /(Windows NT 10.0)/],
    ["Windows ME", /Windows ME/],
    ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
    ["Open BSD", /OpenBSD/],
    ["Sun OS", /SunOS/],
    ["Chrome OS", /CrOS/],
    ["Linux", /(Linux)|(X11)/],
    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
    ["QNX", /QNX/],
    ["BeOS", /BeOS/],
    ["OS/2", /OS\/2/],
  ];
function y8(r) {
  return typeof document > "u" &&
    typeof navigator < "u" &&
    navigator.product === "ReactNative"
    ? new g8()
    : typeof navigator < "u"
      ? _8(navigator.userAgent)
      : E8();
}
function w8(r) {
  return (
    r !== "" &&
    m8.reduce(function (e, t) {
      var i = t[0],
        s = t[1];
      if (e) return e;
      var a = s.exec(r);
      return !!a && [i, a];
    }, !1)
  );
}
function _8(r) {
  var e = w8(r);
  if (!e) return null;
  var t = e[0],
    i = e[1];
  if (t === "searchbot") return new p8();
  var s = i[1] && i[1].split(".").join("_").split("_").slice(0, 3);
  s
    ? s.length < dp && (s = lp(lp([], s, !0), x8(dp - s.length), !0))
    : (s = []);
  var a = s.join("."),
    f = A8(r),
    h = b8.exec(r);
  return h && h[1] ? new d8(t, a, f, h[1]) : new h8(t, a, f);
}
function A8(r) {
  for (var e = 0, t = pp.length; e < t; e++) {
    var i = pp[e],
      s = i[0],
      a = i[1],
      f = a.exec(r);
    if (f) return s;
  }
  return null;
}
function E8() {
  var r = typeof process < "u" && process.version;
  return r ? new l8(process.version.slice(1)) : null;
}
function x8(r) {
  for (var e = [], t = 0; t < r; t++) e.push("0");
  return e;
}
var Zf = {};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var Al =
  function (r, e) {
    return (
      (Al =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (t, i) {
            t.__proto__ = i;
          }) ||
        function (t, i) {
          for (var s in i) i.hasOwnProperty(s) && (t[s] = i[s]);
        }),
      Al(r, e)
    );
  };
function S8(r, e) {
  Al(r, e);
  function t() {
    this.constructor = r;
  }
  r.prototype =
    e === null ? Object.create(e) : ((t.prototype = e.prototype), new t());
}
var El = function () {
  return (
    (El =
      Object.assign ||
      function (e) {
        for (var t, i = 1, s = arguments.length; i < s; i++) {
          t = arguments[i];
          for (var a in t)
            Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);
        }
        return e;
      }),
    El.apply(this, arguments)
  );
};
function M8(r, e) {
  var t = {};
  for (var i in r)
    Object.prototype.hasOwnProperty.call(r, i) &&
      e.indexOf(i) < 0 &&
      (t[i] = r[i]);
  if (r != null && typeof Object.getOwnPropertySymbols == "function")
    for (var s = 0, i = Object.getOwnPropertySymbols(r); s < i.length; s++)
      e.indexOf(i[s]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(r, i[s]) &&
        (t[i[s]] = r[i[s]]);
  return t;
}
function I8(r, e, t, i) {
  var s = arguments.length,
    a =
      s < 3 ? e : i === null ? (i = Object.getOwnPropertyDescriptor(e, t)) : i,
    f;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    a = Reflect.decorate(r, e, t, i);
  else
    for (var h = r.length - 1; h >= 0; h--)
      (f = r[h]) && (a = (s < 3 ? f(a) : s > 3 ? f(e, t, a) : f(e, t)) || a);
  return s > 3 && a && Object.defineProperty(e, t, a), a;
}
function D8(r, e) {
  return function (t, i) {
    e(t, i, r);
  };
}
function P8(r, e) {
  if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
    return Reflect.metadata(r, e);
}
function C8(r, e, t, i) {
  function s(a) {
    return a instanceof t
      ? a
      : new t(function (f) {
          f(a);
        });
  }
  return new (t || (t = Promise))(function (a, f) {
    function h(b) {
      try {
        u(i.next(b));
      } catch (_) {
        f(_);
      }
    }
    function d(b) {
      try {
        u(i.throw(b));
      } catch (_) {
        f(_);
      }
    }
    function u(b) {
      b.done ? a(b.value) : s(b.value).then(h, d);
    }
    u((i = i.apply(r, e || [])).next());
  });
}
function O8(r, e) {
  var t = {
      label: 0,
      sent: function () {
        if (a[0] & 1) throw a[1];
        return a[1];
      },
      trys: [],
      ops: [],
    },
    i,
    s,
    a,
    f;
  return (
    (f = { next: h(0), throw: h(1), return: h(2) }),
    typeof Symbol == "function" &&
      (f[Symbol.iterator] = function () {
        return this;
      }),
    f
  );
  function h(u) {
    return function (b) {
      return d([u, b]);
    };
  }
  function d(u) {
    if (i) throw new TypeError("Generator is already executing.");
    for (; t; )
      try {
        if (
          ((i = 1),
          s &&
            (a =
              u[0] & 2
                ? s.return
                : u[0]
                  ? s.throw || ((a = s.return) && a.call(s), 0)
                  : s.next) &&
            !(a = a.call(s, u[1])).done)
        )
          return a;
        switch (((s = 0), a && (u = [u[0] & 2, a.value]), u[0])) {
          case 0:
          case 1:
            a = u;
            break;
          case 4:
            return t.label++, { value: u[1], done: !1 };
          case 5:
            t.label++, (s = u[1]), (u = [0]);
            continue;
          case 7:
            (u = t.ops.pop()), t.trys.pop();
            continue;
          default:
            if (
              ((a = t.trys),
              !(a = a.length > 0 && a[a.length - 1]) &&
                (u[0] === 6 || u[0] === 2))
            ) {
              t = 0;
              continue;
            }
            if (u[0] === 3 && (!a || (u[1] > a[0] && u[1] < a[3]))) {
              t.label = u[1];
              break;
            }
            if (u[0] === 6 && t.label < a[1]) {
              (t.label = a[1]), (a = u);
              break;
            }
            if (a && t.label < a[2]) {
              (t.label = a[2]), t.ops.push(u);
              break;
            }
            a[2] && t.ops.pop(), t.trys.pop();
            continue;
        }
        u = e.call(r, t);
      } catch (b) {
        (u = [6, b]), (s = 0);
      } finally {
        i = a = 0;
      }
    if (u[0] & 5) throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}
function R8(r, e, t, i) {
  i === void 0 && (i = t), (r[i] = e[t]);
}
function N8(r, e) {
  for (var t in r) t !== "default" && !e.hasOwnProperty(t) && (e[t] = r[t]);
}
function xl(r) {
  var e = typeof Symbol == "function" && Symbol.iterator,
    t = e && r[e],
    i = 0;
  if (t) return t.call(r);
  if (r && typeof r.length == "number")
    return {
      next: function () {
        return (
          r && i >= r.length && (r = void 0), { value: r && r[i++], done: !r }
        );
      },
    };
  throw new TypeError(
    e ? "Object is not iterable." : "Symbol.iterator is not defined.",
  );
}
function qv(r, e) {
  var t = typeof Symbol == "function" && r[Symbol.iterator];
  if (!t) return r;
  var i = t.call(r),
    s,
    a = [],
    f;
  try {
    for (; (e === void 0 || e-- > 0) && !(s = i.next()).done; ) a.push(s.value);
  } catch (h) {
    f = { error: h };
  } finally {
    try {
      s && !s.done && (t = i.return) && t.call(i);
    } finally {
      if (f) throw f.error;
    }
  }
  return a;
}
function T8() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r = r.concat(qv(arguments[e]));
  return r;
}
function q8() {
  for (var r = 0, e = 0, t = arguments.length; e < t; e++)
    r += arguments[e].length;
  for (var i = Array(r), s = 0, e = 0; e < t; e++)
    for (var a = arguments[e], f = 0, h = a.length; f < h; f++, s++)
      i[s] = a[f];
  return i;
}
function So(r) {
  return this instanceof So ? ((this.v = r), this) : new So(r);
}
function F8(r, e, t) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var i = t.apply(r, e || []),
    s,
    a = [];
  return (
    (s = {}),
    f("next"),
    f("throw"),
    f("return"),
    (s[Symbol.asyncIterator] = function () {
      return this;
    }),
    s
  );
  function f(I) {
    i[I] &&
      (s[I] = function (M) {
        return new Promise(function (C, R) {
          a.push([I, M, C, R]) > 1 || h(I, M);
        });
      });
  }
  function h(I, M) {
    try {
      d(i[I](M));
    } catch (C) {
      _(a[0][3], C);
    }
  }
  function d(I) {
    I.value instanceof So
      ? Promise.resolve(I.value.v).then(u, b)
      : _(a[0][2], I);
  }
  function u(I) {
    h("next", I);
  }
  function b(I) {
    h("throw", I);
  }
  function _(I, M) {
    I(M), a.shift(), a.length && h(a[0][0], a[0][1]);
  }
}
function B8(r) {
  var e, t;
  return (
    (e = {}),
    i("next"),
    i("throw", function (s) {
      throw s;
    }),
    i("return"),
    (e[Symbol.iterator] = function () {
      return this;
    }),
    e
  );
  function i(s, a) {
    e[s] = r[s]
      ? function (f) {
          return (t = !t)
            ? { value: So(r[s](f)), done: s === "return" }
            : a
              ? a(f)
              : f;
        }
      : a;
  }
}
function L8(r) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var e = r[Symbol.asyncIterator],
    t;
  return e
    ? e.call(r)
    : ((r = typeof xl == "function" ? xl(r) : r[Symbol.iterator]()),
      (t = {}),
      i("next"),
      i("throw"),
      i("return"),
      (t[Symbol.asyncIterator] = function () {
        return this;
      }),
      t);
  function i(a) {
    t[a] =
      r[a] &&
      function (f) {
        return new Promise(function (h, d) {
          (f = r[a](f)), s(h, d, f.done, f.value);
        });
      };
  }
  function s(a, f, h, d) {
    Promise.resolve(d).then(function (u) {
      a({ value: u, done: h });
    }, f);
  }
}
function U8(r, e) {
  return (
    Object.defineProperty
      ? Object.defineProperty(r, "raw", { value: e })
      : (r.raw = e),
    r
  );
}
function z8(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null)
    for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return (e.default = r), e;
}
function k8(r) {
  return r && r.__esModule ? r : { default: r };
}
function j8(r, e) {
  if (!e.has(r))
    throw new TypeError("attempted to get private field on non-instance");
  return e.get(r);
}
function $8(r, e, t) {
  if (!e.has(r))
    throw new TypeError("attempted to set private field on non-instance");
  return e.set(r, t), t;
}
const H8 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        get __assign() {
          return El;
        },
        __asyncDelegator: B8,
        __asyncGenerator: F8,
        __asyncValues: L8,
        __await: So,
        __awaiter: C8,
        __classPrivateFieldGet: j8,
        __classPrivateFieldSet: $8,
        __createBinding: R8,
        __decorate: I8,
        __exportStar: N8,
        __extends: S8,
        __generator: O8,
        __importDefault: k8,
        __importStar: z8,
        __makeTemplateObject: U8,
        __metadata: P8,
        __param: D8,
        __read: qv,
        __rest: M8,
        __spread: T8,
        __spreadArrays: q8,
        __values: xl,
      },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  Co = o8(H8);
var eh = {},
  Qa = {},
  gp;
function K8() {
  if (gp) return Qa;
  (gp = 1),
    Object.defineProperty(Qa, "__esModule", { value: !0 }),
    (Qa.delay = void 0);
  function r(e) {
    return new Promise((t) => {
      setTimeout(() => {
        t(!0);
      }, e);
    });
  }
  return (Qa.delay = r), Qa;
}
var Is = {},
  th = {},
  Ds = {},
  vp;
function V8() {
  return (
    vp ||
      ((vp = 1),
      Object.defineProperty(Ds, "__esModule", { value: !0 }),
      (Ds.ONE_THOUSAND = Ds.ONE_HUNDRED = void 0),
      (Ds.ONE_HUNDRED = 100),
      (Ds.ONE_THOUSAND = 1e3)),
    Ds
  );
}
var rh = {},
  bp;
function G8() {
  return (
    bp ||
      ((bp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.ONE_YEAR =
            r.FOUR_WEEKS =
            r.THREE_WEEKS =
            r.TWO_WEEKS =
            r.ONE_WEEK =
            r.THIRTY_DAYS =
            r.SEVEN_DAYS =
            r.FIVE_DAYS =
            r.THREE_DAYS =
            r.ONE_DAY =
            r.TWENTY_FOUR_HOURS =
            r.TWELVE_HOURS =
            r.SIX_HOURS =
            r.THREE_HOURS =
            r.ONE_HOUR =
            r.SIXTY_MINUTES =
            r.THIRTY_MINUTES =
            r.TEN_MINUTES =
            r.FIVE_MINUTES =
            r.ONE_MINUTE =
            r.SIXTY_SECONDS =
            r.THIRTY_SECONDS =
            r.TEN_SECONDS =
            r.FIVE_SECONDS =
            r.ONE_SECOND =
              void 0),
          (r.ONE_SECOND = 1),
          (r.FIVE_SECONDS = 5),
          (r.TEN_SECONDS = 10),
          (r.THIRTY_SECONDS = 30),
          (r.SIXTY_SECONDS = 60),
          (r.ONE_MINUTE = r.SIXTY_SECONDS),
          (r.FIVE_MINUTES = r.ONE_MINUTE * 5),
          (r.TEN_MINUTES = r.ONE_MINUTE * 10),
          (r.THIRTY_MINUTES = r.ONE_MINUTE * 30),
          (r.SIXTY_MINUTES = r.ONE_MINUTE * 60),
          (r.ONE_HOUR = r.SIXTY_MINUTES),
          (r.THREE_HOURS = r.ONE_HOUR * 3),
          (r.SIX_HOURS = r.ONE_HOUR * 6),
          (r.TWELVE_HOURS = r.ONE_HOUR * 12),
          (r.TWENTY_FOUR_HOURS = r.ONE_HOUR * 24),
          (r.ONE_DAY = r.TWENTY_FOUR_HOURS),
          (r.THREE_DAYS = r.ONE_DAY * 3),
          (r.FIVE_DAYS = r.ONE_DAY * 5),
          (r.SEVEN_DAYS = r.ONE_DAY * 7),
          (r.THIRTY_DAYS = r.ONE_DAY * 30),
          (r.ONE_WEEK = r.SEVEN_DAYS),
          (r.TWO_WEEKS = r.ONE_WEEK * 2),
          (r.THREE_WEEKS = r.ONE_WEEK * 3),
          (r.FOUR_WEEKS = r.ONE_WEEK * 4),
          (r.ONE_YEAR = r.ONE_DAY * 365);
      })(rh)),
    rh
  );
}
var mp;
function Fv() {
  return (
    mp ||
      ((mp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = Co;
        e.__exportStar(V8(), r), e.__exportStar(G8(), r);
      })(th)),
    th
  );
}
var yp;
function W8() {
  if (yp) return Is;
  (yp = 1),
    Object.defineProperty(Is, "__esModule", { value: !0 }),
    (Is.fromMiliseconds = Is.toMiliseconds = void 0);
  const r = Fv();
  function e(i) {
    return i * r.ONE_THOUSAND;
  }
  Is.toMiliseconds = e;
  function t(i) {
    return Math.floor(i / r.ONE_THOUSAND);
  }
  return (Is.fromMiliseconds = t), Is;
}
var wp;
function J8() {
  return (
    wp ||
      ((wp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = Co;
        e.__exportStar(K8(), r), e.__exportStar(W8(), r);
      })(eh)),
    eh
  );
}
var ha = {},
  _p;
function Y8() {
  if (_p) return ha;
  (_p = 1),
    Object.defineProperty(ha, "__esModule", { value: !0 }),
    (ha.Watch = void 0);
  class r {
    constructor() {
      this.timestamps = new Map();
    }
    start(t) {
      if (this.timestamps.has(t))
        throw new Error(`Watch already started for label: ${t}`);
      this.timestamps.set(t, { started: Date.now() });
    }
    stop(t) {
      const i = this.get(t);
      if (typeof i.elapsed < "u")
        throw new Error(`Watch already stopped for label: ${t}`);
      const s = Date.now() - i.started;
      this.timestamps.set(t, { started: i.started, elapsed: s });
    }
    get(t) {
      const i = this.timestamps.get(t);
      if (typeof i > "u") throw new Error(`No timestamp found for label: ${t}`);
      return i;
    }
    elapsed(t) {
      const i = this.get(t);
      return i.elapsed || Date.now() - i.started;
    }
  }
  return (ha.Watch = r), (ha.default = r), ha;
}
var ih = {},
  Xa = {},
  Ap;
function Q8() {
  if (Ap) return Xa;
  (Ap = 1),
    Object.defineProperty(Xa, "__esModule", { value: !0 }),
    (Xa.IWatch = void 0);
  class r {}
  return (Xa.IWatch = r), Xa;
}
var Ep;
function X8() {
  return (
    Ep ||
      ((Ep = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          Co.__exportStar(Q8(), r);
      })(ih)),
    ih
  );
}
var xp;
function Z8() {
  return (
    xp ||
      ((xp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = Co;
        e.__exportStar(J8(), r),
          e.__exportStar(Y8(), r),
          e.__exportStar(X8(), r),
          e.__exportStar(Fv(), r);
      })(Zf)),
    Zf
  );
}
var Me = Z8(),
  Vt = {},
  Sp;
function Bv() {
  if (Sp) return Vt;
  (Sp = 1),
    Object.defineProperty(Vt, "__esModule", { value: !0 }),
    (Vt.getLocalStorage =
      Vt.getLocalStorageOrThrow =
      Vt.getCrypto =
      Vt.getCryptoOrThrow =
      Vt.getLocation =
      Vt.getLocationOrThrow =
      Vt.getNavigator =
      Vt.getNavigatorOrThrow =
      Vt.getDocument =
      Vt.getDocumentOrThrow =
      Vt.getFromWindowOrThrow =
      Vt.getFromWindow =
        void 0);
  function r(I) {
    let M;
    return typeof window < "u" && typeof window[I] < "u" && (M = window[I]), M;
  }
  Vt.getFromWindow = r;
  function e(I) {
    const M = r(I);
    if (!M) throw new Error(`${I} is not defined in Window`);
    return M;
  }
  Vt.getFromWindowOrThrow = e;
  function t() {
    return e("document");
  }
  Vt.getDocumentOrThrow = t;
  function i() {
    return r("document");
  }
  Vt.getDocument = i;
  function s() {
    return e("navigator");
  }
  Vt.getNavigatorOrThrow = s;
  function a() {
    return r("navigator");
  }
  Vt.getNavigator = a;
  function f() {
    return e("location");
  }
  Vt.getLocationOrThrow = f;
  function h() {
    return r("location");
  }
  Vt.getLocation = h;
  function d() {
    return e("crypto");
  }
  Vt.getCryptoOrThrow = d;
  function u() {
    return r("crypto");
  }
  Vt.getCrypto = u;
  function b() {
    return e("localStorage");
  }
  Vt.getLocalStorageOrThrow = b;
  function _() {
    return r("localStorage");
  }
  return (Vt.getLocalStorage = _), Vt;
}
var _a = Bv(),
  Za = {},
  Mp;
function e4() {
  if (Mp) return Za;
  (Mp = 1),
    Object.defineProperty(Za, "__esModule", { value: !0 }),
    (Za.getWindowMetadata = void 0);
  const r = Bv();
  function e() {
    let t, i;
    try {
      (t = r.getDocumentOrThrow()), (i = r.getLocationOrThrow());
    } catch {
      return null;
    }
    function s() {
      const M = t.getElementsByTagName("link"),
        C = [];
      for (let R = 0; R < M.length; R++) {
        const L = M[R],
          V = L.getAttribute("rel");
        if (V && V.toLowerCase().indexOf("icon") > -1) {
          const F = L.getAttribute("href");
          if (F)
            if (
              F.toLowerCase().indexOf("https:") === -1 &&
              F.toLowerCase().indexOf("http:") === -1 &&
              F.indexOf("//") !== 0
            ) {
              let K = i.protocol + "//" + i.host;
              if (F.indexOf("/") === 0) K += F;
              else {
                const B = i.pathname.split("/");
                B.pop();
                const z = B.join("/");
                K += z + "/" + F;
              }
              C.push(K);
            } else if (F.indexOf("//") === 0) {
              const K = i.protocol + F;
              C.push(K);
            } else C.push(F);
        }
      }
      return C;
    }
    function a(...M) {
      const C = t.getElementsByTagName("meta");
      for (let R = 0; R < C.length; R++) {
        const L = C[R],
          V = ["itemprop", "property", "name"]
            .map((F) => L.getAttribute(F))
            .filter((F) => (F ? M.includes(F) : !1));
        if (V.length && V) {
          const F = L.getAttribute("content");
          if (F) return F;
        }
      }
      return "";
    }
    function f() {
      let M = a("name", "og:site_name", "og:title", "twitter:title");
      return M || (M = t.title), M;
    }
    function h() {
      return a(
        "description",
        "og:description",
        "twitter:description",
        "keywords",
      );
    }
    const d = f(),
      u = h(),
      b = i.origin,
      _ = s();
    return { description: u, url: b, icons: _, name: d };
  }
  return (Za.getWindowMetadata = e), Za;
}
var t4 = e4(),
  nh = {},
  sh,
  Ip;
function r4() {
  return (
    Ip ||
      ((Ip = 1),
      (sh = (r) =>
        encodeURIComponent(r).replace(
          /[!'()*]/g,
          (e) => `%${e.charCodeAt(0).toString(16).toUpperCase()}`,
        ))),
    sh
  );
}
var ah, Dp;
function i4() {
  if (Dp) return ah;
  Dp = 1;
  var r = "%[a-f0-9]{2}",
    e = new RegExp("(" + r + ")|([^%]+?)", "gi"),
    t = new RegExp("(" + r + ")+", "gi");
  function i(f, h) {
    try {
      return [decodeURIComponent(f.join(""))];
    } catch {}
    if (f.length === 1) return f;
    h = h || 1;
    var d = f.slice(0, h),
      u = f.slice(h);
    return Array.prototype.concat.call([], i(d), i(u));
  }
  function s(f) {
    try {
      return decodeURIComponent(f);
    } catch {
      for (var h = f.match(e) || [], d = 1; d < h.length; d++)
        (f = i(h, d).join("")), (h = f.match(e) || []);
      return f;
    }
  }
  function a(f) {
    for (var h = { "%FE%FF": "��", "%FF%FE": "��" }, d = t.exec(f); d; ) {
      try {
        h[d[0]] = decodeURIComponent(d[0]);
      } catch {
        var u = s(d[0]);
        u !== d[0] && (h[d[0]] = u);
      }
      d = t.exec(f);
    }
    h["%C2"] = "�";
    for (var b = Object.keys(h), _ = 0; _ < b.length; _++) {
      var I = b[_];
      f = f.replace(new RegExp(I, "g"), h[I]);
    }
    return f;
  }
  return (
    (ah = function (f) {
      if (typeof f != "string")
        throw new TypeError(
          "Expected `encodedURI` to be of type `string`, got `" +
            typeof f +
            "`",
        );
      try {
        return (f = f.replace(/\+/g, " ")), decodeURIComponent(f);
      } catch {
        return a(f);
      }
    }),
    ah
  );
}
var oh, Pp;
function n4() {
  return (
    Pp ||
      ((Pp = 1),
      (oh = (r, e) => {
        if (!(typeof r == "string" && typeof e == "string"))
          throw new TypeError("Expected the arguments to be of type `string`");
        if (e === "") return [r];
        const t = r.indexOf(e);
        return t === -1 ? [r] : [r.slice(0, t), r.slice(t + e.length)];
      })),
    oh
  );
}
var ch, Cp;
function s4() {
  return (
    Cp ||
      ((Cp = 1),
      (ch = function (r, e) {
        for (
          var t = {}, i = Object.keys(r), s = Array.isArray(e), a = 0;
          a < i.length;
          a++
        ) {
          var f = i[a],
            h = r[f];
          (s ? e.indexOf(f) !== -1 : e(f, h, r)) && (t[f] = h);
        }
        return t;
      })),
    ch
  );
}
var Op;
function a4() {
  return (
    Op ||
      ((Op = 1),
      (function (r) {
        const e = r4(),
          t = i4(),
          i = n4(),
          s = s4(),
          a = (F) => F == null,
          f = Symbol("encodeFragmentIdentifier");
        function h(F) {
          switch (F.arrayFormat) {
            case "index":
              return (K) => (B, z) => {
                const q = B.length;
                return z === void 0 ||
                  (F.skipNull && z === null) ||
                  (F.skipEmptyString && z === "")
                  ? B
                  : z === null
                    ? [...B, [b(K, F), "[", q, "]"].join("")]
                    : [...B, [b(K, F), "[", b(q, F), "]=", b(z, F)].join("")];
              };
            case "bracket":
              return (K) => (B, z) =>
                z === void 0 ||
                (F.skipNull && z === null) ||
                (F.skipEmptyString && z === "")
                  ? B
                  : z === null
                    ? [...B, [b(K, F), "[]"].join("")]
                    : [...B, [b(K, F), "[]=", b(z, F)].join("")];
            case "colon-list-separator":
              return (K) => (B, z) =>
                z === void 0 ||
                (F.skipNull && z === null) ||
                (F.skipEmptyString && z === "")
                  ? B
                  : z === null
                    ? [...B, [b(K, F), ":list="].join("")]
                    : [...B, [b(K, F), ":list=", b(z, F)].join("")];
            case "comma":
            case "separator":
            case "bracket-separator": {
              const K = F.arrayFormat === "bracket-separator" ? "[]=" : "=";
              return (B) => (z, q) =>
                q === void 0 ||
                (F.skipNull && q === null) ||
                (F.skipEmptyString && q === "")
                  ? z
                  : ((q = q === null ? "" : q),
                    z.length === 0
                      ? [[b(B, F), K, b(q, F)].join("")]
                      : [[z, b(q, F)].join(F.arrayFormatSeparator)]);
            }
            default:
              return (K) => (B, z) =>
                z === void 0 ||
                (F.skipNull && z === null) ||
                (F.skipEmptyString && z === "")
                  ? B
                  : z === null
                    ? [...B, b(K, F)]
                    : [...B, [b(K, F), "=", b(z, F)].join("")];
          }
        }
        function d(F) {
          let K;
          switch (F.arrayFormat) {
            case "index":
              return (B, z, q) => {
                if (
                  ((K = /\[(\d*)\]$/.exec(B)),
                  (B = B.replace(/\[\d*\]$/, "")),
                  !K)
                ) {
                  q[B] = z;
                  return;
                }
                q[B] === void 0 && (q[B] = {}), (q[B][K[1]] = z);
              };
            case "bracket":
              return (B, z, q) => {
                if (
                  ((K = /(\[\])$/.exec(B)), (B = B.replace(/\[\]$/, "")), !K)
                ) {
                  q[B] = z;
                  return;
                }
                if (q[B] === void 0) {
                  q[B] = [z];
                  return;
                }
                q[B] = [].concat(q[B], z);
              };
            case "colon-list-separator":
              return (B, z, q) => {
                if (
                  ((K = /(:list)$/.exec(B)), (B = B.replace(/:list$/, "")), !K)
                ) {
                  q[B] = z;
                  return;
                }
                if (q[B] === void 0) {
                  q[B] = [z];
                  return;
                }
                q[B] = [].concat(q[B], z);
              };
            case "comma":
            case "separator":
              return (B, z, q) => {
                const E =
                    typeof z == "string" && z.includes(F.arrayFormatSeparator),
                  U =
                    typeof z == "string" &&
                    !E &&
                    _(z, F).includes(F.arrayFormatSeparator);
                z = U ? _(z, F) : z;
                const te =
                  E || U
                    ? z.split(F.arrayFormatSeparator).map((oe) => _(oe, F))
                    : z === null
                      ? z
                      : _(z, F);
                q[B] = te;
              };
            case "bracket-separator":
              return (B, z, q) => {
                const E = /(\[\])$/.test(B);
                if (((B = B.replace(/\[\]$/, "")), !E)) {
                  q[B] = z && _(z, F);
                  return;
                }
                const U =
                  z === null
                    ? []
                    : z.split(F.arrayFormatSeparator).map((te) => _(te, F));
                if (q[B] === void 0) {
                  q[B] = U;
                  return;
                }
                q[B] = [].concat(q[B], U);
              };
            default:
              return (B, z, q) => {
                if (q[B] === void 0) {
                  q[B] = z;
                  return;
                }
                q[B] = [].concat(q[B], z);
              };
          }
        }
        function u(F) {
          if (typeof F != "string" || F.length !== 1)
            throw new TypeError(
              "arrayFormatSeparator must be single character string",
            );
        }
        function b(F, K) {
          return K.encode ? (K.strict ? e(F) : encodeURIComponent(F)) : F;
        }
        function _(F, K) {
          return K.decode ? t(F) : F;
        }
        function I(F) {
          return Array.isArray(F)
            ? F.sort()
            : typeof F == "object"
              ? I(Object.keys(F))
                  .sort((K, B) => Number(K) - Number(B))
                  .map((K) => F[K])
              : F;
        }
        function M(F) {
          const K = F.indexOf("#");
          return K !== -1 && (F = F.slice(0, K)), F;
        }
        function C(F) {
          let K = "";
          const B = F.indexOf("#");
          return B !== -1 && (K = F.slice(B)), K;
        }
        function R(F) {
          F = M(F);
          const K = F.indexOf("?");
          return K === -1 ? "" : F.slice(K + 1);
        }
        function L(F, K) {
          return (
            K.parseNumbers &&
            !Number.isNaN(Number(F)) &&
            typeof F == "string" &&
            F.trim() !== ""
              ? (F = Number(F))
              : K.parseBooleans &&
                F !== null &&
                (F.toLowerCase() === "true" || F.toLowerCase() === "false") &&
                (F = F.toLowerCase() === "true"),
            F
          );
        }
        function V(F, K) {
          (K = Object.assign(
            {
              decode: !0,
              sort: !0,
              arrayFormat: "none",
              arrayFormatSeparator: ",",
              parseNumbers: !1,
              parseBooleans: !1,
            },
            K,
          )),
            u(K.arrayFormatSeparator);
          const B = d(K),
            z = Object.create(null);
          if (
            typeof F != "string" ||
            ((F = F.trim().replace(/^[?#&]/, "")), !F)
          )
            return z;
          for (const q of F.split("&")) {
            if (q === "") continue;
            let [E, U] = i(K.decode ? q.replace(/\+/g, " ") : q, "=");
            (U =
              U === void 0
                ? null
                : ["comma", "separator", "bracket-separator"].includes(
                      K.arrayFormat,
                    )
                  ? U
                  : _(U, K)),
              B(_(E, K), U, z);
          }
          for (const q of Object.keys(z)) {
            const E = z[q];
            if (typeof E == "object" && E !== null)
              for (const U of Object.keys(E)) E[U] = L(E[U], K);
            else z[q] = L(E, K);
          }
          return K.sort === !1
            ? z
            : (K.sort === !0
                ? Object.keys(z).sort()
                : Object.keys(z).sort(K.sort)
              ).reduce((q, E) => {
                const U = z[E];
                return (
                  U && typeof U == "object" && !Array.isArray(U)
                    ? (q[E] = I(U))
                    : (q[E] = U),
                  q
                );
              }, Object.create(null));
        }
        (r.extract = R),
          (r.parse = V),
          (r.stringify = (F, K) => {
            if (!F) return "";
            (K = Object.assign(
              {
                encode: !0,
                strict: !0,
                arrayFormat: "none",
                arrayFormatSeparator: ",",
              },
              K,
            )),
              u(K.arrayFormatSeparator);
            const B = (U) =>
                (K.skipNull && a(F[U])) || (K.skipEmptyString && F[U] === ""),
              z = h(K),
              q = {};
            for (const U of Object.keys(F)) B(U) || (q[U] = F[U]);
            const E = Object.keys(q);
            return (
              K.sort !== !1 && E.sort(K.sort),
              E.map((U) => {
                const te = F[U];
                return te === void 0
                  ? ""
                  : te === null
                    ? b(U, K)
                    : Array.isArray(te)
                      ? te.length === 0 && K.arrayFormat === "bracket-separator"
                        ? b(U, K) + "[]"
                        : te.reduce(z(U), []).join("&")
                      : b(U, K) + "=" + b(te, K);
              })
                .filter((U) => U.length > 0)
                .join("&")
            );
          }),
          (r.parseUrl = (F, K) => {
            K = Object.assign({ decode: !0 }, K);
            const [B, z] = i(F, "#");
            return Object.assign(
              { url: B.split("?")[0] || "", query: V(R(F), K) },
              K && K.parseFragmentIdentifier && z
                ? { fragmentIdentifier: _(z, K) }
                : {},
            );
          }),
          (r.stringifyUrl = (F, K) => {
            K = Object.assign({ encode: !0, strict: !0, [f]: !0 }, K);
            const B = M(F.url).split("?")[0] || "",
              z = r.extract(F.url),
              q = r.parse(z, { sort: !1 }),
              E = Object.assign(q, F.query);
            let U = r.stringify(E, K);
            U && (U = `?${U}`);
            let te = C(F.url);
            return (
              F.fragmentIdentifier &&
                (te = `#${K[f] ? b(F.fragmentIdentifier, K) : F.fragmentIdentifier}`),
              `${B}${U}${te}`
            );
          }),
          (r.pick = (F, K, B) => {
            B = Object.assign({ parseFragmentIdentifier: !0, [f]: !1 }, B);
            const {
              url: z,
              query: q,
              fragmentIdentifier: E,
            } = r.parseUrl(F, B);
            return r.stringifyUrl(
              { url: z, query: s(q, K), fragmentIdentifier: E },
              B,
            );
          }),
          (r.exclude = (F, K, B) => {
            const z = Array.isArray(K)
              ? (q) => !K.includes(q)
              : (q, E) => !K(q, E);
            return r.pick(F, z, B);
          });
      })(nh)),
    nh
  );
}
var mu = a4(),
  uh = {},
  eo = {},
  Et = {},
  fh = {},
  Rp;
function o4() {
  return (
    Rp ||
      ((Rp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        function e(h, d) {
          var u = (h >>> 16) & 65535,
            b = h & 65535,
            _ = (d >>> 16) & 65535,
            I = d & 65535;
          return (b * I + (((u * I + b * _) << 16) >>> 0)) | 0;
        }
        r.mul = Math.imul || e;
        function t(h, d) {
          return (h + d) | 0;
        }
        r.add = t;
        function i(h, d) {
          return (h - d) | 0;
        }
        r.sub = i;
        function s(h, d) {
          return (h << d) | (h >>> (32 - d));
        }
        r.rotl = s;
        function a(h, d) {
          return (h << (32 - d)) | (h >>> d);
        }
        r.rotr = a;
        function f(h) {
          return typeof h == "number" && isFinite(h) && Math.floor(h) === h;
        }
        (r.isInteger = Number.isInteger || f),
          (r.MAX_SAFE_INTEGER = 9007199254740991),
          (r.isSafeInteger = function (h) {
            return (
              r.isInteger(h) &&
              h >= -r.MAX_SAFE_INTEGER &&
              h <= r.MAX_SAFE_INTEGER
            );
          });
      })(fh)),
    fh
  );
}
var Np;
function Oo() {
  if (Np) return Et;
  (Np = 1), Object.defineProperty(Et, "__esModule", { value: !0 });
  var r = o4();
  function e(p, w) {
    return w === void 0 && (w = 0), (((p[w + 0] << 8) | p[w + 1]) << 16) >> 16;
  }
  Et.readInt16BE = e;
  function t(p, w) {
    return w === void 0 && (w = 0), ((p[w + 0] << 8) | p[w + 1]) >>> 0;
  }
  Et.readUint16BE = t;
  function i(p, w) {
    return w === void 0 && (w = 0), (((p[w + 1] << 8) | p[w]) << 16) >> 16;
  }
  Et.readInt16LE = i;
  function s(p, w) {
    return w === void 0 && (w = 0), ((p[w + 1] << 8) | p[w]) >>> 0;
  }
  Et.readUint16LE = s;
  function a(p, w, A) {
    return (
      w === void 0 && (w = new Uint8Array(2)),
      A === void 0 && (A = 0),
      (w[A + 0] = p >>> 8),
      (w[A + 1] = p >>> 0),
      w
    );
  }
  (Et.writeUint16BE = a), (Et.writeInt16BE = a);
  function f(p, w, A) {
    return (
      w === void 0 && (w = new Uint8Array(2)),
      A === void 0 && (A = 0),
      (w[A + 0] = p >>> 0),
      (w[A + 1] = p >>> 8),
      w
    );
  }
  (Et.writeUint16LE = f), (Et.writeInt16LE = f);
  function h(p, w) {
    return (
      w === void 0 && (w = 0),
      (p[w] << 24) | (p[w + 1] << 16) | (p[w + 2] << 8) | p[w + 3]
    );
  }
  Et.readInt32BE = h;
  function d(p, w) {
    return (
      w === void 0 && (w = 0),
      ((p[w] << 24) | (p[w + 1] << 16) | (p[w + 2] << 8) | p[w + 3]) >>> 0
    );
  }
  Et.readUint32BE = d;
  function u(p, w) {
    return (
      w === void 0 && (w = 0),
      (p[w + 3] << 24) | (p[w + 2] << 16) | (p[w + 1] << 8) | p[w]
    );
  }
  Et.readInt32LE = u;
  function b(p, w) {
    return (
      w === void 0 && (w = 0),
      ((p[w + 3] << 24) | (p[w + 2] << 16) | (p[w + 1] << 8) | p[w]) >>> 0
    );
  }
  Et.readUint32LE = b;
  function _(p, w, A) {
    return (
      w === void 0 && (w = new Uint8Array(4)),
      A === void 0 && (A = 0),
      (w[A + 0] = p >>> 24),
      (w[A + 1] = p >>> 16),
      (w[A + 2] = p >>> 8),
      (w[A + 3] = p >>> 0),
      w
    );
  }
  (Et.writeUint32BE = _), (Et.writeInt32BE = _);
  function I(p, w, A) {
    return (
      w === void 0 && (w = new Uint8Array(4)),
      A === void 0 && (A = 0),
      (w[A + 0] = p >>> 0),
      (w[A + 1] = p >>> 8),
      (w[A + 2] = p >>> 16),
      (w[A + 3] = p >>> 24),
      w
    );
  }
  (Et.writeUint32LE = I), (Et.writeInt32LE = I);
  function M(p, w) {
    w === void 0 && (w = 0);
    var A = h(p, w),
      P = h(p, w + 4);
    return A * 4294967296 + P - (P >> 31) * 4294967296;
  }
  Et.readInt64BE = M;
  function C(p, w) {
    w === void 0 && (w = 0);
    var A = d(p, w),
      P = d(p, w + 4);
    return A * 4294967296 + P;
  }
  Et.readUint64BE = C;
  function R(p, w) {
    w === void 0 && (w = 0);
    var A = u(p, w),
      P = u(p, w + 4);
    return P * 4294967296 + A - (A >> 31) * 4294967296;
  }
  Et.readInt64LE = R;
  function L(p, w) {
    w === void 0 && (w = 0);
    var A = b(p, w),
      P = b(p, w + 4);
    return P * 4294967296 + A;
  }
  Et.readUint64LE = L;
  function V(p, w, A) {
    return (
      w === void 0 && (w = new Uint8Array(8)),
      A === void 0 && (A = 0),
      _((p / 4294967296) >>> 0, w, A),
      _(p >>> 0, w, A + 4),
      w
    );
  }
  (Et.writeUint64BE = V), (Et.writeInt64BE = V);
  function F(p, w, A) {
    return (
      w === void 0 && (w = new Uint8Array(8)),
      A === void 0 && (A = 0),
      I(p >>> 0, w, A),
      I((p / 4294967296) >>> 0, w, A + 4),
      w
    );
  }
  (Et.writeUint64LE = F), (Et.writeInt64LE = F);
  function K(p, w, A) {
    if ((A === void 0 && (A = 0), p % 8 !== 0))
      throw new Error("readUintBE supports only bitLengths divisible by 8");
    if (p / 8 > w.length - A)
      throw new Error("readUintBE: array is too short for the given bitLength");
    for (var P = 0, S = 1, g = p / 8 + A - 1; g >= A; g--)
      (P += w[g] * S), (S *= 256);
    return P;
  }
  Et.readUintBE = K;
  function B(p, w, A) {
    if ((A === void 0 && (A = 0), p % 8 !== 0))
      throw new Error("readUintLE supports only bitLengths divisible by 8");
    if (p / 8 > w.length - A)
      throw new Error("readUintLE: array is too short for the given bitLength");
    for (var P = 0, S = 1, g = A; g < A + p / 8; g++)
      (P += w[g] * S), (S *= 256);
    return P;
  }
  Et.readUintLE = B;
  function z(p, w, A, P) {
    if (
      (A === void 0 && (A = new Uint8Array(p / 8)),
      P === void 0 && (P = 0),
      p % 8 !== 0)
    )
      throw new Error("writeUintBE supports only bitLengths divisible by 8");
    if (!r.isSafeInteger(w))
      throw new Error("writeUintBE value must be an integer");
    for (var S = 1, g = p / 8 + P - 1; g >= P; g--)
      (A[g] = (w / S) & 255), (S *= 256);
    return A;
  }
  Et.writeUintBE = z;
  function q(p, w, A, P) {
    if (
      (A === void 0 && (A = new Uint8Array(p / 8)),
      P === void 0 && (P = 0),
      p % 8 !== 0)
    )
      throw new Error("writeUintLE supports only bitLengths divisible by 8");
    if (!r.isSafeInteger(w))
      throw new Error("writeUintLE value must be an integer");
    for (var S = 1, g = P; g < P + p / 8; g++)
      (A[g] = (w / S) & 255), (S *= 256);
    return A;
  }
  Et.writeUintLE = q;
  function E(p, w) {
    w === void 0 && (w = 0);
    var A = new DataView(p.buffer, p.byteOffset, p.byteLength);
    return A.getFloat32(w);
  }
  Et.readFloat32BE = E;
  function U(p, w) {
    w === void 0 && (w = 0);
    var A = new DataView(p.buffer, p.byteOffset, p.byteLength);
    return A.getFloat32(w, !0);
  }
  Et.readFloat32LE = U;
  function te(p, w) {
    w === void 0 && (w = 0);
    var A = new DataView(p.buffer, p.byteOffset, p.byteLength);
    return A.getFloat64(w);
  }
  Et.readFloat64BE = te;
  function oe(p, w) {
    w === void 0 && (w = 0);
    var A = new DataView(p.buffer, p.byteOffset, p.byteLength);
    return A.getFloat64(w, !0);
  }
  Et.readFloat64LE = oe;
  function k(p, w, A) {
    w === void 0 && (w = new Uint8Array(4)), A === void 0 && (A = 0);
    var P = new DataView(w.buffer, w.byteOffset, w.byteLength);
    return P.setFloat32(A, p), w;
  }
  Et.writeFloat32BE = k;
  function y(p, w, A) {
    w === void 0 && (w = new Uint8Array(4)), A === void 0 && (A = 0);
    var P = new DataView(w.buffer, w.byteOffset, w.byteLength);
    return P.setFloat32(A, p, !0), w;
  }
  Et.writeFloat32LE = y;
  function c(p, w, A) {
    w === void 0 && (w = new Uint8Array(8)), A === void 0 && (A = 0);
    var P = new DataView(w.buffer, w.byteOffset, w.byteLength);
    return P.setFloat64(A, p), w;
  }
  Et.writeFloat64BE = c;
  function l(p, w, A) {
    w === void 0 && (w = new Uint8Array(8)), A === void 0 && (A = 0);
    var P = new DataView(w.buffer, w.byteOffset, w.byteLength);
    return P.setFloat64(A, p, !0), w;
  }
  return (Et.writeFloat64LE = l), Et;
}
var Vc = {},
  Tp;
function en() {
  if (Tp) return Vc;
  (Tp = 1), Object.defineProperty(Vc, "__esModule", { value: !0 });
  function r(e) {
    for (var t = 0; t < e.length; t++) e[t] = 0;
    return e;
  }
  return (Vc.wipe = r), Vc;
}
var qp;
function c4() {
  if (qp) return eo;
  (qp = 1), Object.defineProperty(eo, "__esModule", { value: !0 });
  var r = Oo(),
    e = en(),
    t = 20;
  function i(h, d, u) {
    for (
      var b = 1634760805,
        _ = 857760878,
        I = 2036477234,
        M = 1797285236,
        C = (u[3] << 24) | (u[2] << 16) | (u[1] << 8) | u[0],
        R = (u[7] << 24) | (u[6] << 16) | (u[5] << 8) | u[4],
        L = (u[11] << 24) | (u[10] << 16) | (u[9] << 8) | u[8],
        V = (u[15] << 24) | (u[14] << 16) | (u[13] << 8) | u[12],
        F = (u[19] << 24) | (u[18] << 16) | (u[17] << 8) | u[16],
        K = (u[23] << 24) | (u[22] << 16) | (u[21] << 8) | u[20],
        B = (u[27] << 24) | (u[26] << 16) | (u[25] << 8) | u[24],
        z = (u[31] << 24) | (u[30] << 16) | (u[29] << 8) | u[28],
        q = (d[3] << 24) | (d[2] << 16) | (d[1] << 8) | d[0],
        E = (d[7] << 24) | (d[6] << 16) | (d[5] << 8) | d[4],
        U = (d[11] << 24) | (d[10] << 16) | (d[9] << 8) | d[8],
        te = (d[15] << 24) | (d[14] << 16) | (d[13] << 8) | d[12],
        oe = b,
        k = _,
        y = I,
        c = M,
        l = C,
        p = R,
        w = L,
        A = V,
        P = F,
        S = K,
        g = B,
        m = z,
        N = q,
        Q = E,
        re = U,
        O = te,
        Z = 0;
      Z < t;
      Z += 2
    )
      (oe = (oe + l) | 0),
        (N ^= oe),
        (N = (N >>> 16) | (N << 16)),
        (P = (P + N) | 0),
        (l ^= P),
        (l = (l >>> 20) | (l << 12)),
        (k = (k + p) | 0),
        (Q ^= k),
        (Q = (Q >>> 16) | (Q << 16)),
        (S = (S + Q) | 0),
        (p ^= S),
        (p = (p >>> 20) | (p << 12)),
        (y = (y + w) | 0),
        (re ^= y),
        (re = (re >>> 16) | (re << 16)),
        (g = (g + re) | 0),
        (w ^= g),
        (w = (w >>> 20) | (w << 12)),
        (c = (c + A) | 0),
        (O ^= c),
        (O = (O >>> 16) | (O << 16)),
        (m = (m + O) | 0),
        (A ^= m),
        (A = (A >>> 20) | (A << 12)),
        (y = (y + w) | 0),
        (re ^= y),
        (re = (re >>> 24) | (re << 8)),
        (g = (g + re) | 0),
        (w ^= g),
        (w = (w >>> 25) | (w << 7)),
        (c = (c + A) | 0),
        (O ^= c),
        (O = (O >>> 24) | (O << 8)),
        (m = (m + O) | 0),
        (A ^= m),
        (A = (A >>> 25) | (A << 7)),
        (k = (k + p) | 0),
        (Q ^= k),
        (Q = (Q >>> 24) | (Q << 8)),
        (S = (S + Q) | 0),
        (p ^= S),
        (p = (p >>> 25) | (p << 7)),
        (oe = (oe + l) | 0),
        (N ^= oe),
        (N = (N >>> 24) | (N << 8)),
        (P = (P + N) | 0),
        (l ^= P),
        (l = (l >>> 25) | (l << 7)),
        (oe = (oe + p) | 0),
        (O ^= oe),
        (O = (O >>> 16) | (O << 16)),
        (g = (g + O) | 0),
        (p ^= g),
        (p = (p >>> 20) | (p << 12)),
        (k = (k + w) | 0),
        (N ^= k),
        (N = (N >>> 16) | (N << 16)),
        (m = (m + N) | 0),
        (w ^= m),
        (w = (w >>> 20) | (w << 12)),
        (y = (y + A) | 0),
        (Q ^= y),
        (Q = (Q >>> 16) | (Q << 16)),
        (P = (P + Q) | 0),
        (A ^= P),
        (A = (A >>> 20) | (A << 12)),
        (c = (c + l) | 0),
        (re ^= c),
        (re = (re >>> 16) | (re << 16)),
        (S = (S + re) | 0),
        (l ^= S),
        (l = (l >>> 20) | (l << 12)),
        (y = (y + A) | 0),
        (Q ^= y),
        (Q = (Q >>> 24) | (Q << 8)),
        (P = (P + Q) | 0),
        (A ^= P),
        (A = (A >>> 25) | (A << 7)),
        (c = (c + l) | 0),
        (re ^= c),
        (re = (re >>> 24) | (re << 8)),
        (S = (S + re) | 0),
        (l ^= S),
        (l = (l >>> 25) | (l << 7)),
        (k = (k + w) | 0),
        (N ^= k),
        (N = (N >>> 24) | (N << 8)),
        (m = (m + N) | 0),
        (w ^= m),
        (w = (w >>> 25) | (w << 7)),
        (oe = (oe + p) | 0),
        (O ^= oe),
        (O = (O >>> 24) | (O << 8)),
        (g = (g + O) | 0),
        (p ^= g),
        (p = (p >>> 25) | (p << 7));
    r.writeUint32LE((oe + b) | 0, h, 0),
      r.writeUint32LE((k + _) | 0, h, 4),
      r.writeUint32LE((y + I) | 0, h, 8),
      r.writeUint32LE((c + M) | 0, h, 12),
      r.writeUint32LE((l + C) | 0, h, 16),
      r.writeUint32LE((p + R) | 0, h, 20),
      r.writeUint32LE((w + L) | 0, h, 24),
      r.writeUint32LE((A + V) | 0, h, 28),
      r.writeUint32LE((P + F) | 0, h, 32),
      r.writeUint32LE((S + K) | 0, h, 36),
      r.writeUint32LE((g + B) | 0, h, 40),
      r.writeUint32LE((m + z) | 0, h, 44),
      r.writeUint32LE((N + q) | 0, h, 48),
      r.writeUint32LE((Q + E) | 0, h, 52),
      r.writeUint32LE((re + U) | 0, h, 56),
      r.writeUint32LE((O + te) | 0, h, 60);
  }
  function s(h, d, u, b, _) {
    if ((_ === void 0 && (_ = 0), h.length !== 32))
      throw new Error("ChaCha: key size must be 32 bytes");
    if (b.length < u.length)
      throw new Error("ChaCha: destination is shorter than source");
    var I, M;
    if (_ === 0) {
      if (d.length !== 8 && d.length !== 12)
        throw new Error("ChaCha nonce must be 8 or 12 bytes");
      (I = new Uint8Array(16)), (M = I.length - d.length), I.set(d, M);
    } else {
      if (d.length !== 16)
        throw new Error("ChaCha nonce with counter must be 16 bytes");
      (I = d), (M = _);
    }
    for (var C = new Uint8Array(64), R = 0; R < u.length; R += 64) {
      i(C, I, h);
      for (var L = R; L < R + 64 && L < u.length; L++) b[L] = u[L] ^ C[L - R];
      f(I, 0, M);
    }
    return e.wipe(C), _ === 0 && e.wipe(I), b;
  }
  eo.streamXOR = s;
  function a(h, d, u, b) {
    return b === void 0 && (b = 0), e.wipe(u), s(h, d, u, u, b);
  }
  eo.stream = a;
  function f(h, d, u) {
    for (var b = 1; u--; )
      (b = (b + (h[d] & 255)) | 0), (h[d] = b & 255), (b >>>= 8), d++;
    if (b > 0) throw new Error("ChaCha: counter overflow");
  }
  return eo;
}
var hh = {},
  Ps = {},
  Fp;
function $l() {
  if (Fp) return Ps;
  (Fp = 1), Object.defineProperty(Ps, "__esModule", { value: !0 });
  function r(s, a, f) {
    return (~(s - 1) & a) | ((s - 1) & f);
  }
  Ps.select = r;
  function e(s, a) {
    return (((s | 0) - (a | 0) - 1) >>> 31) & 1;
  }
  Ps.lessOrEqual = e;
  function t(s, a) {
    if (s.length !== a.length) return 0;
    for (var f = 0, h = 0; h < s.length; h++) f |= s[h] ^ a[h];
    return 1 & ((f - 1) >>> 8);
  }
  Ps.compare = t;
  function i(s, a) {
    return s.length === 0 || a.length === 0 ? !1 : t(s, a) !== 0;
  }
  return (Ps.equal = i), Ps;
}
var Bp;
function u4() {
  return (
    Bp ||
      ((Bp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        var e = $l(),
          t = en();
        r.DIGEST_LENGTH = 16;
        var i = (function () {
          function f(h) {
            (this.digestLength = r.DIGEST_LENGTH),
              (this._buffer = new Uint8Array(16)),
              (this._r = new Uint16Array(10)),
              (this._h = new Uint16Array(10)),
              (this._pad = new Uint16Array(8)),
              (this._leftover = 0),
              (this._fin = 0),
              (this._finished = !1);
            var d = h[0] | (h[1] << 8);
            this._r[0] = d & 8191;
            var u = h[2] | (h[3] << 8);
            this._r[1] = ((d >>> 13) | (u << 3)) & 8191;
            var b = h[4] | (h[5] << 8);
            this._r[2] = ((u >>> 10) | (b << 6)) & 7939;
            var _ = h[6] | (h[7] << 8);
            this._r[3] = ((b >>> 7) | (_ << 9)) & 8191;
            var I = h[8] | (h[9] << 8);
            (this._r[4] = ((_ >>> 4) | (I << 12)) & 255),
              (this._r[5] = (I >>> 1) & 8190);
            var M = h[10] | (h[11] << 8);
            this._r[6] = ((I >>> 14) | (M << 2)) & 8191;
            var C = h[12] | (h[13] << 8);
            this._r[7] = ((M >>> 11) | (C << 5)) & 8065;
            var R = h[14] | (h[15] << 8);
            (this._r[8] = ((C >>> 8) | (R << 8)) & 8191),
              (this._r[9] = (R >>> 5) & 127),
              (this._pad[0] = h[16] | (h[17] << 8)),
              (this._pad[1] = h[18] | (h[19] << 8)),
              (this._pad[2] = h[20] | (h[21] << 8)),
              (this._pad[3] = h[22] | (h[23] << 8)),
              (this._pad[4] = h[24] | (h[25] << 8)),
              (this._pad[5] = h[26] | (h[27] << 8)),
              (this._pad[6] = h[28] | (h[29] << 8)),
              (this._pad[7] = h[30] | (h[31] << 8));
          }
          return (
            (f.prototype._blocks = function (h, d, u) {
              for (
                var b = this._fin ? 0 : 2048,
                  _ = this._h[0],
                  I = this._h[1],
                  M = this._h[2],
                  C = this._h[3],
                  R = this._h[4],
                  L = this._h[5],
                  V = this._h[6],
                  F = this._h[7],
                  K = this._h[8],
                  B = this._h[9],
                  z = this._r[0],
                  q = this._r[1],
                  E = this._r[2],
                  U = this._r[3],
                  te = this._r[4],
                  oe = this._r[5],
                  k = this._r[6],
                  y = this._r[7],
                  c = this._r[8],
                  l = this._r[9];
                u >= 16;

              ) {
                var p = h[d + 0] | (h[d + 1] << 8);
                _ += p & 8191;
                var w = h[d + 2] | (h[d + 3] << 8);
                I += ((p >>> 13) | (w << 3)) & 8191;
                var A = h[d + 4] | (h[d + 5] << 8);
                M += ((w >>> 10) | (A << 6)) & 8191;
                var P = h[d + 6] | (h[d + 7] << 8);
                C += ((A >>> 7) | (P << 9)) & 8191;
                var S = h[d + 8] | (h[d + 9] << 8);
                (R += ((P >>> 4) | (S << 12)) & 8191), (L += (S >>> 1) & 8191);
                var g = h[d + 10] | (h[d + 11] << 8);
                V += ((S >>> 14) | (g << 2)) & 8191;
                var m = h[d + 12] | (h[d + 13] << 8);
                F += ((g >>> 11) | (m << 5)) & 8191;
                var N = h[d + 14] | (h[d + 15] << 8);
                (K += ((m >>> 8) | (N << 8)) & 8191), (B += (N >>> 5) | b);
                var Q = 0,
                  re = Q;
                (re += _ * z),
                  (re += I * (5 * l)),
                  (re += M * (5 * c)),
                  (re += C * (5 * y)),
                  (re += R * (5 * k)),
                  (Q = re >>> 13),
                  (re &= 8191),
                  (re += L * (5 * oe)),
                  (re += V * (5 * te)),
                  (re += F * (5 * U)),
                  (re += K * (5 * E)),
                  (re += B * (5 * q)),
                  (Q += re >>> 13),
                  (re &= 8191);
                var O = Q;
                (O += _ * q),
                  (O += I * z),
                  (O += M * (5 * l)),
                  (O += C * (5 * c)),
                  (O += R * (5 * y)),
                  (Q = O >>> 13),
                  (O &= 8191),
                  (O += L * (5 * k)),
                  (O += V * (5 * oe)),
                  (O += F * (5 * te)),
                  (O += K * (5 * U)),
                  (O += B * (5 * E)),
                  (Q += O >>> 13),
                  (O &= 8191);
                var Z = Q;
                (Z += _ * E),
                  (Z += I * q),
                  (Z += M * z),
                  (Z += C * (5 * l)),
                  (Z += R * (5 * c)),
                  (Q = Z >>> 13),
                  (Z &= 8191),
                  (Z += L * (5 * y)),
                  (Z += V * (5 * k)),
                  (Z += F * (5 * oe)),
                  (Z += K * (5 * te)),
                  (Z += B * (5 * U)),
                  (Q += Z >>> 13),
                  (Z &= 8191);
                var $ = Q;
                ($ += _ * U),
                  ($ += I * E),
                  ($ += M * q),
                  ($ += C * z),
                  ($ += R * (5 * l)),
                  (Q = $ >>> 13),
                  ($ &= 8191),
                  ($ += L * (5 * c)),
                  ($ += V * (5 * y)),
                  ($ += F * (5 * k)),
                  ($ += K * (5 * oe)),
                  ($ += B * (5 * te)),
                  (Q += $ >>> 13),
                  ($ &= 8191);
                var W = Q;
                (W += _ * te),
                  (W += I * U),
                  (W += M * E),
                  (W += C * q),
                  (W += R * z),
                  (Q = W >>> 13),
                  (W &= 8191),
                  (W += L * (5 * l)),
                  (W += V * (5 * c)),
                  (W += F * (5 * y)),
                  (W += K * (5 * k)),
                  (W += B * (5 * oe)),
                  (Q += W >>> 13),
                  (W &= 8191);
                var J = Q;
                (J += _ * oe),
                  (J += I * te),
                  (J += M * U),
                  (J += C * E),
                  (J += R * q),
                  (Q = J >>> 13),
                  (J &= 8191),
                  (J += L * z),
                  (J += V * (5 * l)),
                  (J += F * (5 * c)),
                  (J += K * (5 * y)),
                  (J += B * (5 * k)),
                  (Q += J >>> 13),
                  (J &= 8191);
                var x = Q;
                (x += _ * k),
                  (x += I * oe),
                  (x += M * te),
                  (x += C * U),
                  (x += R * E),
                  (Q = x >>> 13),
                  (x &= 8191),
                  (x += L * q),
                  (x += V * z),
                  (x += F * (5 * l)),
                  (x += K * (5 * c)),
                  (x += B * (5 * y)),
                  (Q += x >>> 13),
                  (x &= 8191);
                var G = Q;
                (G += _ * y),
                  (G += I * k),
                  (G += M * oe),
                  (G += C * te),
                  (G += R * U),
                  (Q = G >>> 13),
                  (G &= 8191),
                  (G += L * E),
                  (G += V * q),
                  (G += F * z),
                  (G += K * (5 * l)),
                  (G += B * (5 * c)),
                  (Q += G >>> 13),
                  (G &= 8191);
                var ae = Q;
                (ae += _ * c),
                  (ae += I * y),
                  (ae += M * k),
                  (ae += C * oe),
                  (ae += R * te),
                  (Q = ae >>> 13),
                  (ae &= 8191),
                  (ae += L * U),
                  (ae += V * E),
                  (ae += F * q),
                  (ae += K * z),
                  (ae += B * (5 * l)),
                  (Q += ae >>> 13),
                  (ae &= 8191);
                var ce = Q;
                (ce += _ * l),
                  (ce += I * c),
                  (ce += M * y),
                  (ce += C * k),
                  (ce += R * oe),
                  (Q = ce >>> 13),
                  (ce &= 8191),
                  (ce += L * te),
                  (ce += V * U),
                  (ce += F * E),
                  (ce += K * q),
                  (ce += B * z),
                  (Q += ce >>> 13),
                  (ce &= 8191),
                  (Q = ((Q << 2) + Q) | 0),
                  (Q = (Q + re) | 0),
                  (re = Q & 8191),
                  (Q = Q >>> 13),
                  (O += Q),
                  (_ = re),
                  (I = O),
                  (M = Z),
                  (C = $),
                  (R = W),
                  (L = J),
                  (V = x),
                  (F = G),
                  (K = ae),
                  (B = ce),
                  (d += 16),
                  (u -= 16);
              }
              (this._h[0] = _),
                (this._h[1] = I),
                (this._h[2] = M),
                (this._h[3] = C),
                (this._h[4] = R),
                (this._h[5] = L),
                (this._h[6] = V),
                (this._h[7] = F),
                (this._h[8] = K),
                (this._h[9] = B);
            }),
            (f.prototype.finish = function (h, d) {
              d === void 0 && (d = 0);
              var u = new Uint16Array(10),
                b,
                _,
                I,
                M;
              if (this._leftover) {
                for (M = this._leftover, this._buffer[M++] = 1; M < 16; M++)
                  this._buffer[M] = 0;
                (this._fin = 1), this._blocks(this._buffer, 0, 16);
              }
              for (
                b = this._h[1] >>> 13, this._h[1] &= 8191, M = 2;
                M < 10;
                M++
              )
                (this._h[M] += b),
                  (b = this._h[M] >>> 13),
                  (this._h[M] &= 8191);
              for (
                this._h[0] += b * 5,
                  b = this._h[0] >>> 13,
                  this._h[0] &= 8191,
                  this._h[1] += b,
                  b = this._h[1] >>> 13,
                  this._h[1] &= 8191,
                  this._h[2] += b,
                  u[0] = this._h[0] + 5,
                  b = u[0] >>> 13,
                  u[0] &= 8191,
                  M = 1;
                M < 10;
                M++
              )
                (u[M] = this._h[M] + b), (b = u[M] >>> 13), (u[M] &= 8191);
              for (u[9] -= 8192, _ = (b ^ 1) - 1, M = 0; M < 10; M++) u[M] &= _;
              for (_ = ~_, M = 0; M < 10; M++)
                this._h[M] = (this._h[M] & _) | u[M];
              for (
                this._h[0] = (this._h[0] | (this._h[1] << 13)) & 65535,
                  this._h[1] =
                    ((this._h[1] >>> 3) | (this._h[2] << 10)) & 65535,
                  this._h[2] = ((this._h[2] >>> 6) | (this._h[3] << 7)) & 65535,
                  this._h[3] = ((this._h[3] >>> 9) | (this._h[4] << 4)) & 65535,
                  this._h[4] =
                    ((this._h[4] >>> 12) |
                      (this._h[5] << 1) |
                      (this._h[6] << 14)) &
                    65535,
                  this._h[5] =
                    ((this._h[6] >>> 2) | (this._h[7] << 11)) & 65535,
                  this._h[6] = ((this._h[7] >>> 5) | (this._h[8] << 8)) & 65535,
                  this._h[7] = ((this._h[8] >>> 8) | (this._h[9] << 5)) & 65535,
                  I = this._h[0] + this._pad[0],
                  this._h[0] = I & 65535,
                  M = 1;
                M < 8;
                M++
              )
                (I = (((this._h[M] + this._pad[M]) | 0) + (I >>> 16)) | 0),
                  (this._h[M] = I & 65535);
              return (
                (h[d + 0] = this._h[0] >>> 0),
                (h[d + 1] = this._h[0] >>> 8),
                (h[d + 2] = this._h[1] >>> 0),
                (h[d + 3] = this._h[1] >>> 8),
                (h[d + 4] = this._h[2] >>> 0),
                (h[d + 5] = this._h[2] >>> 8),
                (h[d + 6] = this._h[3] >>> 0),
                (h[d + 7] = this._h[3] >>> 8),
                (h[d + 8] = this._h[4] >>> 0),
                (h[d + 9] = this._h[4] >>> 8),
                (h[d + 10] = this._h[5] >>> 0),
                (h[d + 11] = this._h[5] >>> 8),
                (h[d + 12] = this._h[6] >>> 0),
                (h[d + 13] = this._h[6] >>> 8),
                (h[d + 14] = this._h[7] >>> 0),
                (h[d + 15] = this._h[7] >>> 8),
                (this._finished = !0),
                this
              );
            }),
            (f.prototype.update = function (h) {
              var d = 0,
                u = h.length,
                b;
              if (this._leftover) {
                (b = 16 - this._leftover), b > u && (b = u);
                for (var _ = 0; _ < b; _++)
                  this._buffer[this._leftover + _] = h[d + _];
                if (
                  ((u -= b),
                  (d += b),
                  (this._leftover += b),
                  this._leftover < 16)
                )
                  return this;
                this._blocks(this._buffer, 0, 16), (this._leftover = 0);
              }
              if (
                (u >= 16 &&
                  ((b = u - (u % 16)),
                  this._blocks(h, d, b),
                  (d += b),
                  (u -= b)),
                u)
              ) {
                for (var _ = 0; _ < u; _++)
                  this._buffer[this._leftover + _] = h[d + _];
                this._leftover += u;
              }
              return this;
            }),
            (f.prototype.digest = function () {
              if (this._finished) throw new Error("Poly1305 was finished");
              var h = new Uint8Array(16);
              return this.finish(h), h;
            }),
            (f.prototype.clean = function () {
              return (
                t.wipe(this._buffer),
                t.wipe(this._r),
                t.wipe(this._h),
                t.wipe(this._pad),
                (this._leftover = 0),
                (this._fin = 0),
                (this._finished = !0),
                this
              );
            }),
            f
          );
        })();
        r.Poly1305 = i;
        function s(f, h) {
          var d = new i(f);
          d.update(h);
          var u = d.digest();
          return d.clean(), u;
        }
        r.oneTimeAuth = s;
        function a(f, h) {
          return f.length !== r.DIGEST_LENGTH || h.length !== r.DIGEST_LENGTH
            ? !1
            : e.equal(f, h);
        }
        r.equal = a;
      })(hh)),
    hh
  );
}
var Lp;
function f4() {
  return (
    Lp ||
      ((Lp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        var e = c4(),
          t = u4(),
          i = en(),
          s = Oo(),
          a = $l();
        (r.KEY_LENGTH = 32), (r.NONCE_LENGTH = 12), (r.TAG_LENGTH = 16);
        var f = new Uint8Array(16),
          h = (function () {
            function d(u) {
              if (
                ((this.nonceLength = r.NONCE_LENGTH),
                (this.tagLength = r.TAG_LENGTH),
                u.length !== r.KEY_LENGTH)
              )
                throw new Error("ChaCha20Poly1305 needs 32-byte key");
              this._key = new Uint8Array(u);
            }
            return (
              (d.prototype.seal = function (u, b, _, I) {
                if (u.length > 16)
                  throw new Error("ChaCha20Poly1305: incorrect nonce length");
                var M = new Uint8Array(16);
                M.set(u, M.length - u.length);
                var C = new Uint8Array(32);
                e.stream(this._key, M, C, 4);
                var R = b.length + this.tagLength,
                  L;
                if (I) {
                  if (I.length !== R)
                    throw new Error(
                      "ChaCha20Poly1305: incorrect destination length",
                    );
                  L = I;
                } else L = new Uint8Array(R);
                return (
                  e.streamXOR(this._key, M, b, L, 4),
                  this._authenticate(
                    L.subarray(L.length - this.tagLength, L.length),
                    C,
                    L.subarray(0, L.length - this.tagLength),
                    _,
                  ),
                  i.wipe(M),
                  L
                );
              }),
              (d.prototype.open = function (u, b, _, I) {
                if (u.length > 16)
                  throw new Error("ChaCha20Poly1305: incorrect nonce length");
                if (b.length < this.tagLength) return null;
                var M = new Uint8Array(16);
                M.set(u, M.length - u.length);
                var C = new Uint8Array(32);
                e.stream(this._key, M, C, 4);
                var R = new Uint8Array(this.tagLength);
                if (
                  (this._authenticate(
                    R,
                    C,
                    b.subarray(0, b.length - this.tagLength),
                    _,
                  ),
                  !a.equal(R, b.subarray(b.length - this.tagLength, b.length)))
                )
                  return null;
                var L = b.length - this.tagLength,
                  V;
                if (I) {
                  if (I.length !== L)
                    throw new Error(
                      "ChaCha20Poly1305: incorrect destination length",
                    );
                  V = I;
                } else V = new Uint8Array(L);
                return (
                  e.streamXOR(
                    this._key,
                    M,
                    b.subarray(0, b.length - this.tagLength),
                    V,
                    4,
                  ),
                  i.wipe(M),
                  V
                );
              }),
              (d.prototype.clean = function () {
                return i.wipe(this._key), this;
              }),
              (d.prototype._authenticate = function (u, b, _, I) {
                var M = new t.Poly1305(b);
                I &&
                  (M.update(I),
                  I.length % 16 > 0 && M.update(f.subarray(I.length % 16))),
                  M.update(_),
                  _.length % 16 > 0 && M.update(f.subarray(_.length % 16));
                var C = new Uint8Array(8);
                I && s.writeUint64LE(I.length, C),
                  M.update(C),
                  s.writeUint64LE(_.length, C),
                  M.update(C);
                for (var R = M.digest(), L = 0; L < R.length; L++) u[L] = R[L];
                M.clean(), i.wipe(R), i.wipe(C);
              }),
              d
            );
          })();
        r.ChaCha20Poly1305 = h;
      })(uh)),
    uh
  );
}
var Lv = f4(),
  Gc = {},
  la = {},
  Wc = {},
  Up;
function h4() {
  if (Up) return Wc;
  (Up = 1), Object.defineProperty(Wc, "__esModule", { value: !0 });
  function r(e) {
    return (
      typeof e.saveState < "u" &&
      typeof e.restoreState < "u" &&
      typeof e.cleanSavedState < "u"
    );
  }
  return (Wc.isSerializableHash = r), Wc;
}
var zp;
function l4() {
  if (zp) return la;
  (zp = 1), Object.defineProperty(la, "__esModule", { value: !0 });
  var r = h4(),
    e = $l(),
    t = en(),
    i = (function () {
      function a(f, h) {
        (this._finished = !1),
          (this._inner = new f()),
          (this._outer = new f()),
          (this.blockSize = this._outer.blockSize),
          (this.digestLength = this._outer.digestLength);
        var d = new Uint8Array(this.blockSize);
        h.length > this.blockSize
          ? this._inner.update(h).finish(d).clean()
          : d.set(h);
        for (var u = 0; u < d.length; u++) d[u] ^= 54;
        this._inner.update(d);
        for (var u = 0; u < d.length; u++) d[u] ^= 106;
        this._outer.update(d),
          r.isSerializableHash(this._inner) &&
            r.isSerializableHash(this._outer) &&
            ((this._innerKeyedState = this._inner.saveState()),
            (this._outerKeyedState = this._outer.saveState())),
          t.wipe(d);
      }
      return (
        (a.prototype.reset = function () {
          if (
            !r.isSerializableHash(this._inner) ||
            !r.isSerializableHash(this._outer)
          )
            throw new Error(
              "hmac: can't reset() because hash doesn't implement restoreState()",
            );
          return (
            this._inner.restoreState(this._innerKeyedState),
            this._outer.restoreState(this._outerKeyedState),
            (this._finished = !1),
            this
          );
        }),
        (a.prototype.clean = function () {
          r.isSerializableHash(this._inner) &&
            this._inner.cleanSavedState(this._innerKeyedState),
            r.isSerializableHash(this._outer) &&
              this._outer.cleanSavedState(this._outerKeyedState),
            this._inner.clean(),
            this._outer.clean();
        }),
        (a.prototype.update = function (f) {
          return this._inner.update(f), this;
        }),
        (a.prototype.finish = function (f) {
          return this._finished
            ? (this._outer.finish(f), this)
            : (this._inner.finish(f),
              this._outer.update(f.subarray(0, this.digestLength)).finish(f),
              (this._finished = !0),
              this);
        }),
        (a.prototype.digest = function () {
          var f = new Uint8Array(this.digestLength);
          return this.finish(f), f;
        }),
        (a.prototype.saveState = function () {
          if (!r.isSerializableHash(this._inner))
            throw new Error(
              "hmac: can't saveState() because hash doesn't implement it",
            );
          return this._inner.saveState();
        }),
        (a.prototype.restoreState = function (f) {
          if (
            !r.isSerializableHash(this._inner) ||
            !r.isSerializableHash(this._outer)
          )
            throw new Error(
              "hmac: can't restoreState() because hash doesn't implement it",
            );
          return (
            this._inner.restoreState(f),
            this._outer.restoreState(this._outerKeyedState),
            (this._finished = !1),
            this
          );
        }),
        (a.prototype.cleanSavedState = function (f) {
          if (!r.isSerializableHash(this._inner))
            throw new Error(
              "hmac: can't cleanSavedState() because hash doesn't implement it",
            );
          this._inner.cleanSavedState(f);
        }),
        a
      );
    })();
  la.HMAC = i;
  function s(a, f, h) {
    var d = new i(a, f);
    d.update(h);
    var u = d.digest();
    return d.clean(), u;
  }
  return (la.hmac = s), (la.equal = e.equal), la;
}
var kp;
function d4() {
  if (kp) return Gc;
  (kp = 1), Object.defineProperty(Gc, "__esModule", { value: !0 });
  var r = l4(),
    e = en(),
    t = (function () {
      function i(s, a, f, h) {
        f === void 0 && (f = new Uint8Array(0)),
          (this._counter = new Uint8Array(1)),
          (this._hash = s),
          (this._info = h);
        var d = r.hmac(this._hash, f, a);
        (this._hmac = new r.HMAC(s, d)),
          (this._buffer = new Uint8Array(this._hmac.digestLength)),
          (this._bufpos = this._buffer.length);
      }
      return (
        (i.prototype._fillBuffer = function () {
          this._counter[0]++;
          var s = this._counter[0];
          if (s === 0) throw new Error("hkdf: cannot expand more");
          this._hmac.reset(),
            s > 1 && this._hmac.update(this._buffer),
            this._info && this._hmac.update(this._info),
            this._hmac.update(this._counter),
            this._hmac.finish(this._buffer),
            (this._bufpos = 0);
        }),
        (i.prototype.expand = function (s) {
          for (var a = new Uint8Array(s), f = 0; f < a.length; f++)
            this._bufpos === this._buffer.length && this._fillBuffer(),
              (a[f] = this._buffer[this._bufpos++]);
          return a;
        }),
        (i.prototype.clean = function () {
          this._hmac.clean(),
            e.wipe(this._buffer),
            e.wipe(this._counter),
            (this._bufpos = 0);
        }),
        i
      );
    })();
  return (Gc.HKDF = t), Gc;
}
var p4 = d4(),
  lh = {},
  to = {},
  ro = {},
  jp;
function g4() {
  if (jp) return ro;
  (jp = 1),
    Object.defineProperty(ro, "__esModule", { value: !0 }),
    (ro.BrowserRandomSource = void 0);
  const r = 65536;
  class e {
    constructor() {
      (this.isAvailable = !1), (this.isInstantiated = !1);
      const i = typeof self < "u" ? self.crypto || self.msCrypto : null;
      i &&
        i.getRandomValues !== void 0 &&
        ((this._crypto = i),
        (this.isAvailable = !0),
        (this.isInstantiated = !0));
    }
    randomBytes(i) {
      if (!this.isAvailable || !this._crypto)
        throw new Error("Browser random byte generator is not available.");
      const s = new Uint8Array(i);
      for (let a = 0; a < s.length; a += r)
        this._crypto.getRandomValues(
          s.subarray(a, a + Math.min(s.length - a, r)),
        );
      return s;
    }
  }
  return (ro.BrowserRandomSource = e), ro;
}
function v4(r) {
  throw new Error(
    'Could not dynamically require "' +
      r +
      '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.',
  );
}
var io = {},
  $p;
function b4() {
  if ($p) return io;
  ($p = 1),
    Object.defineProperty(io, "__esModule", { value: !0 }),
    (io.NodeRandomSource = void 0);
  const r = en();
  class e {
    constructor() {
      if (
        ((this.isAvailable = !1), (this.isInstantiated = !1), typeof v4 < "u")
      ) {
        const i = Tv;
        i &&
          i.randomBytes &&
          ((this._crypto = i),
          (this.isAvailable = !0),
          (this.isInstantiated = !0));
      }
    }
    randomBytes(i) {
      if (!this.isAvailable || !this._crypto)
        throw new Error("Node.js random byte generator is not available.");
      let s = this._crypto.randomBytes(i);
      if (s.length !== i)
        throw new Error("NodeRandomSource: got fewer bytes than requested");
      const a = new Uint8Array(i);
      for (let f = 0; f < a.length; f++) a[f] = s[f];
      return (0, r.wipe)(s), a;
    }
  }
  return (io.NodeRandomSource = e), io;
}
var Hp;
function m4() {
  if (Hp) return to;
  (Hp = 1),
    Object.defineProperty(to, "__esModule", { value: !0 }),
    (to.SystemRandomSource = void 0);
  const r = g4(),
    e = b4();
  class t {
    constructor() {
      if (
        ((this.isAvailable = !1),
        (this.name = ""),
        (this._source = new r.BrowserRandomSource()),
        this._source.isAvailable)
      ) {
        (this.isAvailable = !0), (this.name = "Browser");
        return;
      }
      if (
        ((this._source = new e.NodeRandomSource()), this._source.isAvailable)
      ) {
        (this.isAvailable = !0), (this.name = "Node");
        return;
      }
    }
    randomBytes(s) {
      if (!this.isAvailable)
        throw new Error("System random byte generator is not available.");
      return this._source.randomBytes(s);
    }
  }
  return (to.SystemRandomSource = t), to;
}
var Kp;
function Hl() {
  return (
    Kp ||
      ((Kp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.randomStringForEntropy =
            r.randomString =
            r.randomUint32 =
            r.randomBytes =
            r.defaultRandomSource =
              void 0);
        const e = m4(),
          t = Oo(),
          i = en();
        r.defaultRandomSource = new e.SystemRandomSource();
        function s(u, b = r.defaultRandomSource) {
          return b.randomBytes(u);
        }
        r.randomBytes = s;
        function a(u = r.defaultRandomSource) {
          const b = s(4, u),
            _ = (0, t.readUint32LE)(b);
          return (0, i.wipe)(b), _;
        }
        r.randomUint32 = a;
        const f =
          "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
        function h(u, b = f, _ = r.defaultRandomSource) {
          if (b.length < 2)
            throw new Error("randomString charset is too short");
          if (b.length > 256)
            throw new Error("randomString charset is too long");
          let I = "";
          const M = b.length,
            C = 256 - (256 % M);
          for (; u > 0; ) {
            const R = s(Math.ceil((u * 256) / C), _);
            for (let L = 0; L < R.length && u > 0; L++) {
              const V = R[L];
              V < C && ((I += b.charAt(V % M)), u--);
            }
            (0, i.wipe)(R);
          }
          return I;
        }
        r.randomString = h;
        function d(u, b = f, _ = r.defaultRandomSource) {
          const I = Math.ceil(u / (Math.log(b.length) / Math.LN2));
          return h(I, b, _);
        }
        r.randomStringForEntropy = d;
      })(lh)),
    lh
  );
}
var Ro = Hl(),
  dh = {},
  Vp;
function y4() {
  return (
    Vp ||
      ((Vp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        var e = Oo(),
          t = en();
        (r.DIGEST_LENGTH = 32), (r.BLOCK_SIZE = 64);
        var i = (function () {
          function h() {
            (this.digestLength = r.DIGEST_LENGTH),
              (this.blockSize = r.BLOCK_SIZE),
              (this._state = new Int32Array(8)),
              (this._temp = new Int32Array(64)),
              (this._buffer = new Uint8Array(128)),
              (this._bufferLength = 0),
              (this._bytesHashed = 0),
              (this._finished = !1),
              this.reset();
          }
          return (
            (h.prototype._initState = function () {
              (this._state[0] = 1779033703),
                (this._state[1] = 3144134277),
                (this._state[2] = 1013904242),
                (this._state[3] = 2773480762),
                (this._state[4] = 1359893119),
                (this._state[5] = 2600822924),
                (this._state[6] = 528734635),
                (this._state[7] = 1541459225);
            }),
            (h.prototype.reset = function () {
              return (
                this._initState(),
                (this._bufferLength = 0),
                (this._bytesHashed = 0),
                (this._finished = !1),
                this
              );
            }),
            (h.prototype.clean = function () {
              t.wipe(this._buffer), t.wipe(this._temp), this.reset();
            }),
            (h.prototype.update = function (d, u) {
              if ((u === void 0 && (u = d.length), this._finished))
                throw new Error(
                  "SHA256: can't update because hash was finished.",
                );
              var b = 0;
              if (((this._bytesHashed += u), this._bufferLength > 0)) {
                for (; this._bufferLength < this.blockSize && u > 0; )
                  (this._buffer[this._bufferLength++] = d[b++]), u--;
                this._bufferLength === this.blockSize &&
                  (a(this._temp, this._state, this._buffer, 0, this.blockSize),
                  (this._bufferLength = 0));
              }
              for (
                u >= this.blockSize &&
                ((b = a(this._temp, this._state, d, b, u)),
                (u %= this.blockSize));
                u > 0;

              )
                (this._buffer[this._bufferLength++] = d[b++]), u--;
              return this;
            }),
            (h.prototype.finish = function (d) {
              if (!this._finished) {
                var u = this._bytesHashed,
                  b = this._bufferLength,
                  _ = (u / 536870912) | 0,
                  I = u << 3,
                  M = u % 64 < 56 ? 64 : 128;
                this._buffer[b] = 128;
                for (var C = b + 1; C < M - 8; C++) this._buffer[C] = 0;
                e.writeUint32BE(_, this._buffer, M - 8),
                  e.writeUint32BE(I, this._buffer, M - 4),
                  a(this._temp, this._state, this._buffer, 0, M),
                  (this._finished = !0);
              }
              for (var C = 0; C < this.digestLength / 4; C++)
                e.writeUint32BE(this._state[C], d, C * 4);
              return this;
            }),
            (h.prototype.digest = function () {
              var d = new Uint8Array(this.digestLength);
              return this.finish(d), d;
            }),
            (h.prototype.saveState = function () {
              if (this._finished)
                throw new Error("SHA256: cannot save finished state");
              return {
                state: new Int32Array(this._state),
                buffer:
                  this._bufferLength > 0
                    ? new Uint8Array(this._buffer)
                    : void 0,
                bufferLength: this._bufferLength,
                bytesHashed: this._bytesHashed,
              };
            }),
            (h.prototype.restoreState = function (d) {
              return (
                this._state.set(d.state),
                (this._bufferLength = d.bufferLength),
                d.buffer && this._buffer.set(d.buffer),
                (this._bytesHashed = d.bytesHashed),
                (this._finished = !1),
                this
              );
            }),
            (h.prototype.cleanSavedState = function (d) {
              t.wipe(d.state),
                d.buffer && t.wipe(d.buffer),
                (d.bufferLength = 0),
                (d.bytesHashed = 0);
            }),
            h
          );
        })();
        r.SHA256 = i;
        var s = new Int32Array([
          1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
          2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
          1925078388, 2162078206, 2614888103, 3248222580, 3835390401,
          4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692,
          1996064986, 2554220882, 2821834349, 2952996808, 3210313671,
          3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912,
          1294757372, 1396182291, 1695183700, 1986661051, 2177026350,
          2456956037, 2730485921, 2820302411, 3259730800, 3345764771,
          3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616,
          659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779,
          1955562222, 2024104815, 2227730452, 2361852424, 2428436474,
          2756734187, 3204031479, 3329325298,
        ]);
        function a(h, d, u, b, _) {
          for (; _ >= 64; ) {
            for (
              var I = d[0],
                M = d[1],
                C = d[2],
                R = d[3],
                L = d[4],
                V = d[5],
                F = d[6],
                K = d[7],
                B = 0;
              B < 16;
              B++
            ) {
              var z = b + B * 4;
              h[B] = e.readUint32BE(u, z);
            }
            for (var B = 16; B < 64; B++) {
              var q = h[B - 2],
                E =
                  ((q >>> 17) | (q << 15)) ^
                  ((q >>> 19) | (q << 13)) ^
                  (q >>> 10);
              q = h[B - 15];
              var U =
                ((q >>> 7) | (q << 25)) ^ ((q >>> 18) | (q << 14)) ^ (q >>> 3);
              h[B] = ((E + h[B - 7]) | 0) + ((U + h[B - 16]) | 0);
            }
            for (var B = 0; B < 64; B++) {
              var E =
                  ((((((L >>> 6) | (L << 26)) ^
                    ((L >>> 11) | (L << 21)) ^
                    ((L >>> 25) | (L << 7))) +
                    ((L & V) ^ (~L & F))) |
                    0) +
                    ((K + ((s[B] + h[B]) | 0)) | 0)) |
                  0,
                U =
                  ((((I >>> 2) | (I << 30)) ^
                    ((I >>> 13) | (I << 19)) ^
                    ((I >>> 22) | (I << 10))) +
                    ((I & M) ^ (I & C) ^ (M & C))) |
                  0;
              (K = F),
                (F = V),
                (V = L),
                (L = (R + E) | 0),
                (R = C),
                (C = M),
                (M = I),
                (I = (E + U) | 0);
            }
            (d[0] += I),
              (d[1] += M),
              (d[2] += C),
              (d[3] += R),
              (d[4] += L),
              (d[5] += V),
              (d[6] += F),
              (d[7] += K),
              (b += 64),
              (_ -= 64);
          }
          return b;
        }
        function f(h) {
          var d = new i();
          d.update(h);
          var u = d.digest();
          return d.clean(), u;
        }
        r.hash = f;
      })(dh)),
    dh
  );
}
var Ru = y4(),
  ph = {},
  Gp;
function w4() {
  return (
    Gp ||
      ((Gp = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.sharedKey =
            r.generateKeyPair =
            r.generateKeyPairFromSeed =
            r.scalarMultBase =
            r.scalarMult =
            r.SHARED_KEY_LENGTH =
            r.SECRET_KEY_LENGTH =
            r.PUBLIC_KEY_LENGTH =
              void 0);
        const e = Hl(),
          t = en();
        (r.PUBLIC_KEY_LENGTH = 32),
          (r.SECRET_KEY_LENGTH = 32),
          (r.SHARED_KEY_LENGTH = 32);
        function i(B) {
          const z = new Float64Array(16);
          if (B) for (let q = 0; q < B.length; q++) z[q] = B[q];
          return z;
        }
        const s = new Uint8Array(32);
        s[0] = 9;
        const a = i([56129, 1]);
        function f(B) {
          let z = 1;
          for (let q = 0; q < 16; q++) {
            let E = B[q] + z + 65535;
            (z = Math.floor(E / 65536)), (B[q] = E - z * 65536);
          }
          B[0] += z - 1 + 37 * (z - 1);
        }
        function h(B, z, q) {
          const E = ~(q - 1);
          for (let U = 0; U < 16; U++) {
            const te = E & (B[U] ^ z[U]);
            (B[U] ^= te), (z[U] ^= te);
          }
        }
        function d(B, z) {
          const q = i(),
            E = i();
          for (let U = 0; U < 16; U++) E[U] = z[U];
          f(E), f(E), f(E);
          for (let U = 0; U < 2; U++) {
            q[0] = E[0] - 65517;
            for (let oe = 1; oe < 15; oe++)
              (q[oe] = E[oe] - 65535 - ((q[oe - 1] >> 16) & 1)),
                (q[oe - 1] &= 65535);
            q[15] = E[15] - 32767 - ((q[14] >> 16) & 1);
            const te = (q[15] >> 16) & 1;
            (q[14] &= 65535), h(E, q, 1 - te);
          }
          for (let U = 0; U < 16; U++)
            (B[2 * U] = E[U] & 255), (B[2 * U + 1] = E[U] >> 8);
        }
        function u(B, z) {
          for (let q = 0; q < 16; q++) B[q] = z[2 * q] + (z[2 * q + 1] << 8);
          B[15] &= 32767;
        }
        function b(B, z, q) {
          for (let E = 0; E < 16; E++) B[E] = z[E] + q[E];
        }
        function _(B, z, q) {
          for (let E = 0; E < 16; E++) B[E] = z[E] - q[E];
        }
        function I(B, z, q) {
          let E,
            U,
            te = 0,
            oe = 0,
            k = 0,
            y = 0,
            c = 0,
            l = 0,
            p = 0,
            w = 0,
            A = 0,
            P = 0,
            S = 0,
            g = 0,
            m = 0,
            N = 0,
            Q = 0,
            re = 0,
            O = 0,
            Z = 0,
            $ = 0,
            W = 0,
            J = 0,
            x = 0,
            G = 0,
            ae = 0,
            ce = 0,
            fe = 0,
            be = 0,
            we = 0,
            Ie = 0,
            Je = 0,
            Ce = 0,
            Te = q[0],
            Se = q[1],
            me = q[2],
            Oe = q[3],
            Re = q[4],
            ve = q[5],
            Ne = q[6],
            Ee = q[7],
            ye = q[8],
            Le = q[9],
            De = q[10],
            _e = q[11],
            He = q[12],
            Ve = q[13],
            xe = q[14],
            Ke = q[15];
          (E = z[0]),
            (te += E * Te),
            (oe += E * Se),
            (k += E * me),
            (y += E * Oe),
            (c += E * Re),
            (l += E * ve),
            (p += E * Ne),
            (w += E * Ee),
            (A += E * ye),
            (P += E * Le),
            (S += E * De),
            (g += E * _e),
            (m += E * He),
            (N += E * Ve),
            (Q += E * xe),
            (re += E * Ke),
            (E = z[1]),
            (oe += E * Te),
            (k += E * Se),
            (y += E * me),
            (c += E * Oe),
            (l += E * Re),
            (p += E * ve),
            (w += E * Ne),
            (A += E * Ee),
            (P += E * ye),
            (S += E * Le),
            (g += E * De),
            (m += E * _e),
            (N += E * He),
            (Q += E * Ve),
            (re += E * xe),
            (O += E * Ke),
            (E = z[2]),
            (k += E * Te),
            (y += E * Se),
            (c += E * me),
            (l += E * Oe),
            (p += E * Re),
            (w += E * ve),
            (A += E * Ne),
            (P += E * Ee),
            (S += E * ye),
            (g += E * Le),
            (m += E * De),
            (N += E * _e),
            (Q += E * He),
            (re += E * Ve),
            (O += E * xe),
            (Z += E * Ke),
            (E = z[3]),
            (y += E * Te),
            (c += E * Se),
            (l += E * me),
            (p += E * Oe),
            (w += E * Re),
            (A += E * ve),
            (P += E * Ne),
            (S += E * Ee),
            (g += E * ye),
            (m += E * Le),
            (N += E * De),
            (Q += E * _e),
            (re += E * He),
            (O += E * Ve),
            (Z += E * xe),
            ($ += E * Ke),
            (E = z[4]),
            (c += E * Te),
            (l += E * Se),
            (p += E * me),
            (w += E * Oe),
            (A += E * Re),
            (P += E * ve),
            (S += E * Ne),
            (g += E * Ee),
            (m += E * ye),
            (N += E * Le),
            (Q += E * De),
            (re += E * _e),
            (O += E * He),
            (Z += E * Ve),
            ($ += E * xe),
            (W += E * Ke),
            (E = z[5]),
            (l += E * Te),
            (p += E * Se),
            (w += E * me),
            (A += E * Oe),
            (P += E * Re),
            (S += E * ve),
            (g += E * Ne),
            (m += E * Ee),
            (N += E * ye),
            (Q += E * Le),
            (re += E * De),
            (O += E * _e),
            (Z += E * He),
            ($ += E * Ve),
            (W += E * xe),
            (J += E * Ke),
            (E = z[6]),
            (p += E * Te),
            (w += E * Se),
            (A += E * me),
            (P += E * Oe),
            (S += E * Re),
            (g += E * ve),
            (m += E * Ne),
            (N += E * Ee),
            (Q += E * ye),
            (re += E * Le),
            (O += E * De),
            (Z += E * _e),
            ($ += E * He),
            (W += E * Ve),
            (J += E * xe),
            (x += E * Ke),
            (E = z[7]),
            (w += E * Te),
            (A += E * Se),
            (P += E * me),
            (S += E * Oe),
            (g += E * Re),
            (m += E * ve),
            (N += E * Ne),
            (Q += E * Ee),
            (re += E * ye),
            (O += E * Le),
            (Z += E * De),
            ($ += E * _e),
            (W += E * He),
            (J += E * Ve),
            (x += E * xe),
            (G += E * Ke),
            (E = z[8]),
            (A += E * Te),
            (P += E * Se),
            (S += E * me),
            (g += E * Oe),
            (m += E * Re),
            (N += E * ve),
            (Q += E * Ne),
            (re += E * Ee),
            (O += E * ye),
            (Z += E * Le),
            ($ += E * De),
            (W += E * _e),
            (J += E * He),
            (x += E * Ve),
            (G += E * xe),
            (ae += E * Ke),
            (E = z[9]),
            (P += E * Te),
            (S += E * Se),
            (g += E * me),
            (m += E * Oe),
            (N += E * Re),
            (Q += E * ve),
            (re += E * Ne),
            (O += E * Ee),
            (Z += E * ye),
            ($ += E * Le),
            (W += E * De),
            (J += E * _e),
            (x += E * He),
            (G += E * Ve),
            (ae += E * xe),
            (ce += E * Ke),
            (E = z[10]),
            (S += E * Te),
            (g += E * Se),
            (m += E * me),
            (N += E * Oe),
            (Q += E * Re),
            (re += E * ve),
            (O += E * Ne),
            (Z += E * Ee),
            ($ += E * ye),
            (W += E * Le),
            (J += E * De),
            (x += E * _e),
            (G += E * He),
            (ae += E * Ve),
            (ce += E * xe),
            (fe += E * Ke),
            (E = z[11]),
            (g += E * Te),
            (m += E * Se),
            (N += E * me),
            (Q += E * Oe),
            (re += E * Re),
            (O += E * ve),
            (Z += E * Ne),
            ($ += E * Ee),
            (W += E * ye),
            (J += E * Le),
            (x += E * De),
            (G += E * _e),
            (ae += E * He),
            (ce += E * Ve),
            (fe += E * xe),
            (be += E * Ke),
            (E = z[12]),
            (m += E * Te),
            (N += E * Se),
            (Q += E * me),
            (re += E * Oe),
            (O += E * Re),
            (Z += E * ve),
            ($ += E * Ne),
            (W += E * Ee),
            (J += E * ye),
            (x += E * Le),
            (G += E * De),
            (ae += E * _e),
            (ce += E * He),
            (fe += E * Ve),
            (be += E * xe),
            (we += E * Ke),
            (E = z[13]),
            (N += E * Te),
            (Q += E * Se),
            (re += E * me),
            (O += E * Oe),
            (Z += E * Re),
            ($ += E * ve),
            (W += E * Ne),
            (J += E * Ee),
            (x += E * ye),
            (G += E * Le),
            (ae += E * De),
            (ce += E * _e),
            (fe += E * He),
            (be += E * Ve),
            (we += E * xe),
            (Ie += E * Ke),
            (E = z[14]),
            (Q += E * Te),
            (re += E * Se),
            (O += E * me),
            (Z += E * Oe),
            ($ += E * Re),
            (W += E * ve),
            (J += E * Ne),
            (x += E * Ee),
            (G += E * ye),
            (ae += E * Le),
            (ce += E * De),
            (fe += E * _e),
            (be += E * He),
            (we += E * Ve),
            (Ie += E * xe),
            (Je += E * Ke),
            (E = z[15]),
            (re += E * Te),
            (O += E * Se),
            (Z += E * me),
            ($ += E * Oe),
            (W += E * Re),
            (J += E * ve),
            (x += E * Ne),
            (G += E * Ee),
            (ae += E * ye),
            (ce += E * Le),
            (fe += E * De),
            (be += E * _e),
            (we += E * He),
            (Ie += E * Ve),
            (Je += E * xe),
            (Ce += E * Ke),
            (te += 38 * O),
            (oe += 38 * Z),
            (k += 38 * $),
            (y += 38 * W),
            (c += 38 * J),
            (l += 38 * x),
            (p += 38 * G),
            (w += 38 * ae),
            (A += 38 * ce),
            (P += 38 * fe),
            (S += 38 * be),
            (g += 38 * we),
            (m += 38 * Ie),
            (N += 38 * Je),
            (Q += 38 * Ce),
            (U = 1),
            (E = te + U + 65535),
            (U = Math.floor(E / 65536)),
            (te = E - U * 65536),
            (E = oe + U + 65535),
            (U = Math.floor(E / 65536)),
            (oe = E - U * 65536),
            (E = k + U + 65535),
            (U = Math.floor(E / 65536)),
            (k = E - U * 65536),
            (E = y + U + 65535),
            (U = Math.floor(E / 65536)),
            (y = E - U * 65536),
            (E = c + U + 65535),
            (U = Math.floor(E / 65536)),
            (c = E - U * 65536),
            (E = l + U + 65535),
            (U = Math.floor(E / 65536)),
            (l = E - U * 65536),
            (E = p + U + 65535),
            (U = Math.floor(E / 65536)),
            (p = E - U * 65536),
            (E = w + U + 65535),
            (U = Math.floor(E / 65536)),
            (w = E - U * 65536),
            (E = A + U + 65535),
            (U = Math.floor(E / 65536)),
            (A = E - U * 65536),
            (E = P + U + 65535),
            (U = Math.floor(E / 65536)),
            (P = E - U * 65536),
            (E = S + U + 65535),
            (U = Math.floor(E / 65536)),
            (S = E - U * 65536),
            (E = g + U + 65535),
            (U = Math.floor(E / 65536)),
            (g = E - U * 65536),
            (E = m + U + 65535),
            (U = Math.floor(E / 65536)),
            (m = E - U * 65536),
            (E = N + U + 65535),
            (U = Math.floor(E / 65536)),
            (N = E - U * 65536),
            (E = Q + U + 65535),
            (U = Math.floor(E / 65536)),
            (Q = E - U * 65536),
            (E = re + U + 65535),
            (U = Math.floor(E / 65536)),
            (re = E - U * 65536),
            (te += U - 1 + 37 * (U - 1)),
            (U = 1),
            (E = te + U + 65535),
            (U = Math.floor(E / 65536)),
            (te = E - U * 65536),
            (E = oe + U + 65535),
            (U = Math.floor(E / 65536)),
            (oe = E - U * 65536),
            (E = k + U + 65535),
            (U = Math.floor(E / 65536)),
            (k = E - U * 65536),
            (E = y + U + 65535),
            (U = Math.floor(E / 65536)),
            (y = E - U * 65536),
            (E = c + U + 65535),
            (U = Math.floor(E / 65536)),
            (c = E - U * 65536),
            (E = l + U + 65535),
            (U = Math.floor(E / 65536)),
            (l = E - U * 65536),
            (E = p + U + 65535),
            (U = Math.floor(E / 65536)),
            (p = E - U * 65536),
            (E = w + U + 65535),
            (U = Math.floor(E / 65536)),
            (w = E - U * 65536),
            (E = A + U + 65535),
            (U = Math.floor(E / 65536)),
            (A = E - U * 65536),
            (E = P + U + 65535),
            (U = Math.floor(E / 65536)),
            (P = E - U * 65536),
            (E = S + U + 65535),
            (U = Math.floor(E / 65536)),
            (S = E - U * 65536),
            (E = g + U + 65535),
            (U = Math.floor(E / 65536)),
            (g = E - U * 65536),
            (E = m + U + 65535),
            (U = Math.floor(E / 65536)),
            (m = E - U * 65536),
            (E = N + U + 65535),
            (U = Math.floor(E / 65536)),
            (N = E - U * 65536),
            (E = Q + U + 65535),
            (U = Math.floor(E / 65536)),
            (Q = E - U * 65536),
            (E = re + U + 65535),
            (U = Math.floor(E / 65536)),
            (re = E - U * 65536),
            (te += U - 1 + 37 * (U - 1)),
            (B[0] = te),
            (B[1] = oe),
            (B[2] = k),
            (B[3] = y),
            (B[4] = c),
            (B[5] = l),
            (B[6] = p),
            (B[7] = w),
            (B[8] = A),
            (B[9] = P),
            (B[10] = S),
            (B[11] = g),
            (B[12] = m),
            (B[13] = N),
            (B[14] = Q),
            (B[15] = re);
        }
        function M(B, z) {
          I(B, z, z);
        }
        function C(B, z) {
          const q = i();
          for (let E = 0; E < 16; E++) q[E] = z[E];
          for (let E = 253; E >= 0; E--)
            M(q, q), E !== 2 && E !== 4 && I(q, q, z);
          for (let E = 0; E < 16; E++) B[E] = q[E];
        }
        function R(B, z) {
          const q = new Uint8Array(32),
            E = new Float64Array(80),
            U = i(),
            te = i(),
            oe = i(),
            k = i(),
            y = i(),
            c = i();
          for (let A = 0; A < 31; A++) q[A] = B[A];
          (q[31] = (B[31] & 127) | 64), (q[0] &= 248), u(E, z);
          for (let A = 0; A < 16; A++) te[A] = E[A];
          U[0] = k[0] = 1;
          for (let A = 254; A >= 0; --A) {
            const P = (q[A >>> 3] >>> (A & 7)) & 1;
            h(U, te, P),
              h(oe, k, P),
              b(y, U, oe),
              _(U, U, oe),
              b(oe, te, k),
              _(te, te, k),
              M(k, y),
              M(c, U),
              I(U, oe, U),
              I(oe, te, y),
              b(y, U, oe),
              _(U, U, oe),
              M(te, U),
              _(oe, k, c),
              I(U, oe, a),
              b(U, U, k),
              I(oe, oe, U),
              I(U, k, c),
              I(k, te, E),
              M(te, y),
              h(U, te, P),
              h(oe, k, P);
          }
          for (let A = 0; A < 16; A++)
            (E[A + 16] = U[A]),
              (E[A + 32] = oe[A]),
              (E[A + 48] = te[A]),
              (E[A + 64] = k[A]);
          const l = E.subarray(32),
            p = E.subarray(16);
          C(l, l), I(p, p, l);
          const w = new Uint8Array(32);
          return d(w, p), w;
        }
        r.scalarMult = R;
        function L(B) {
          return R(B, s);
        }
        r.scalarMultBase = L;
        function V(B) {
          if (B.length !== r.SECRET_KEY_LENGTH)
            throw new Error(
              `x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`,
            );
          const z = new Uint8Array(B);
          return { publicKey: L(z), secretKey: z };
        }
        r.generateKeyPairFromSeed = V;
        function F(B) {
          const z = (0, e.randomBytes)(32, B),
            q = V(z);
          return (0, t.wipe)(z), q;
        }
        r.generateKeyPair = F;
        function K(B, z, q = !1) {
          if (B.length !== r.PUBLIC_KEY_LENGTH)
            throw new Error("X25519: incorrect secret key length");
          if (z.length !== r.PUBLIC_KEY_LENGTH)
            throw new Error("X25519: incorrect public key length");
          const E = R(B, z);
          if (q) {
            let U = 0;
            for (let te = 0; te < E.length; te++) U |= E[te];
            if (U === 0) throw new Error("X25519: invalid shared key");
          }
          return E;
        }
        r.sharedKey = K;
      })(ph)),
    ph
  );
}
var Uv = w4();
function zv(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function ou(r, e) {
  e || (e = r.reduce((s, a) => s + a.length, 0));
  const t = zv(e);
  let i = 0;
  for (const s of r) t.set(s, i), (i += s.length);
  return t;
}
function _4(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var s = 0; s < r.length; s++) {
    var a = r.charAt(s),
      f = a.charCodeAt(0);
    if (t[f] !== 255) throw new TypeError(a + " is ambiguous");
    t[f] = s;
  }
  var h = r.length,
    d = r.charAt(0),
    u = Math.log(h) / Math.log(256),
    b = Math.log(256) / Math.log(h);
  function _(C) {
    if (
      (C instanceof Uint8Array ||
        (ArrayBuffer.isView(C)
          ? (C = new Uint8Array(C.buffer, C.byteOffset, C.byteLength))
          : Array.isArray(C) && (C = Uint8Array.from(C))),
      !(C instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (C.length === 0) return "";
    for (var R = 0, L = 0, V = 0, F = C.length; V !== F && C[V] === 0; )
      V++, R++;
    for (var K = ((F - V) * b + 1) >>> 0, B = new Uint8Array(K); V !== F; ) {
      for (
        var z = C[V], q = 0, E = K - 1;
        (z !== 0 || q < L) && E !== -1;
        E--, q++
      )
        (z += (256 * B[E]) >>> 0), (B[E] = z % h >>> 0), (z = (z / h) >>> 0);
      if (z !== 0) throw new Error("Non-zero carry");
      (L = q), V++;
    }
    for (var U = K - L; U !== K && B[U] === 0; ) U++;
    for (var te = d.repeat(R); U < K; ++U) te += r.charAt(B[U]);
    return te;
  }
  function I(C) {
    if (typeof C != "string") throw new TypeError("Expected String");
    if (C.length === 0) return new Uint8Array();
    var R = 0;
    if (C[R] !== " ") {
      for (var L = 0, V = 0; C[R] === d; ) L++, R++;
      for (
        var F = ((C.length - R) * u + 1) >>> 0, K = new Uint8Array(F);
        C[R];

      ) {
        var B = t[C.charCodeAt(R)];
        if (B === 255) return;
        for (var z = 0, q = F - 1; (B !== 0 || z < V) && q !== -1; q--, z++)
          (B += (h * K[q]) >>> 0),
            (K[q] = B % 256 >>> 0),
            (B = (B / 256) >>> 0);
        if (B !== 0) throw new Error("Non-zero carry");
        (V = z), R++;
      }
      if (C[R] !== " ") {
        for (var E = F - V; E !== F && K[E] === 0; ) E++;
        for (var U = new Uint8Array(L + (F - E)), te = L; E !== F; )
          U[te++] = K[E++];
        return U;
      }
    }
  }
  function M(C) {
    var R = I(C);
    if (R) return R;
    throw new Error(`Non-${e} character`);
  }
  return { encode: _, decodeUnsafe: I, decode: M };
}
var A4 = _4,
  E4 = A4;
const x4 = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  S4 = (r) => new TextEncoder().encode(r),
  M4 = (r) => new TextDecoder().decode(r);
class I4 {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class D4 {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`,
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return kv(this, e);
  }
}
class P4 {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return kv(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`,
    );
  }
}
const kv = (r, e) =>
  new P4({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class C4 {
  constructor(e, t, i, s) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = s),
      (this.encoder = new I4(e, t, i)),
      (this.decoder = new D4(e, t, s));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const Nu = ({ name: r, prefix: e, encode: t, decode: i }) => new C4(r, e, t, i),
  No = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: s } = E4(t, e);
    return Nu({ prefix: r, name: e, encode: i, decode: (a) => x4(s(a)) });
  },
  O4 = (r, e, t, i) => {
    const s = {};
    for (let b = 0; b < e.length; ++b) s[e[b]] = b;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const f = new Uint8Array(((a * t) / 8) | 0);
    let h = 0,
      d = 0,
      u = 0;
    for (let b = 0; b < a; ++b) {
      const _ = s[r[b]];
      if (_ === void 0) throw new SyntaxError(`Non-${i} character`);
      (d = (d << t) | _),
        (h += t),
        h >= 8 && ((h -= 8), (f[u++] = 255 & (d >> h)));
    }
    if (h >= t || 255 & (d << (8 - h)))
      throw new SyntaxError("Unexpected end of data");
    return f;
  },
  R4 = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      s = (1 << t) - 1;
    let a = "",
      f = 0,
      h = 0;
    for (let d = 0; d < r.length; ++d)
      for (h = (h << 8) | r[d], f += 8; f > t; )
        (f -= t), (a += e[s & (h >> f)]);
    if ((f && (a += e[s & (h << (t - f))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  Mr = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    Nu({
      prefix: e,
      name: r,
      encode(s) {
        return R4(s, i, t);
      },
      decode(s) {
        return O4(s, i, t, r);
      },
    }),
  N4 = Nu({
    prefix: "\0",
    name: "identity",
    encode: (r) => M4(r),
    decode: (r) => S4(r),
  }),
  T4 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, identity: N4 },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  q4 = Mr({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 }),
  F4 = Object.freeze(
    Object.defineProperty({ __proto__: null, base2: q4 }, Symbol.toStringTag, {
      value: "Module",
    }),
  ),
  B4 = Mr({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 }),
  L4 = Object.freeze(
    Object.defineProperty({ __proto__: null, base8: B4 }, Symbol.toStringTag, {
      value: "Module",
    }),
  ),
  U4 = No({ prefix: "9", name: "base10", alphabet: "0123456789" }),
  z4 = Object.freeze(
    Object.defineProperty({ __proto__: null, base10: U4 }, Symbol.toStringTag, {
      value: "Module",
    }),
  ),
  k4 = Mr({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  j4 = Mr({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  }),
  $4 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base16: k4, base16upper: j4 },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  H4 = Mr({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  K4 = Mr({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  V4 = Mr({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  G4 = Mr({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  W4 = Mr({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  J4 = Mr({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  Y4 = Mr({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  Q4 = Mr({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  X4 = Mr({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  }),
  Z4 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        base32: H4,
        base32hex: W4,
        base32hexpad: Y4,
        base32hexpadupper: Q4,
        base32hexupper: J4,
        base32pad: V4,
        base32padupper: G4,
        base32upper: K4,
        base32z: X4,
      },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  e_ = No({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  t_ = No({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  }),
  r_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base36: e_, base36upper: t_ },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  i_ = No({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  n_ = No({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  }),
  s_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base58btc: i_, base58flickr: n_ },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  a_ = Mr({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  o_ = Mr({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  c_ = Mr({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  u_ = Mr({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  }),
  f_ = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        base64: a_,
        base64pad: o_,
        base64url: c_,
        base64urlpad: u_,
      },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  jv = Array.from(
    "🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂",
  ),
  h_ = jv.reduce((r, e, t) => ((r[t] = e), r), []),
  l_ = jv.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function d_(r) {
  return r.reduce((e, t) => ((e += h_[t]), e), "");
}
function p_(r) {
  const e = [];
  for (const t of r) {
    const i = l_[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const g_ = Nu({ prefix: "🚀", name: "base256emoji", encode: d_, decode: p_ }),
  v_ = Object.freeze(
    Object.defineProperty(
      { __proto__: null, base256emoji: g_ },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  );
new TextEncoder();
new TextDecoder();
const Wp = {
  ...T4,
  ...F4,
  ...L4,
  ...z4,
  ...$4,
  ...Z4,
  ...r_,
  ...s_,
  ...f_,
  ...v_,
};
function $v(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const Jp = $v(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1)),
  ),
  gh = $v(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = zv(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    },
  ),
  Hv = {
    utf8: Jp,
    "utf-8": Jp,
    hex: Wp.base16,
    latin1: gh,
    ascii: gh,
    binary: gh,
    ...Wp,
  };
function _r(r, e = "utf8") {
  const t = Hv[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
function Ar(r, e = "utf8") {
  const t = Hv[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r.buffer, r.byteOffset, r.byteLength).toString(
        "utf8",
      )
    : t.encoder.encode(r).substring(1);
}
var vh = {};
const b_ = "elliptic",
  m_ = "6.6.1",
  y_ = "EC cryptography",
  w_ = "lib/elliptic.js",
  __ = ["lib"],
  A_ = {
    lint: "eslint lib test",
    "lint:fix": "npm run lint -- --fix",
    unit: "istanbul test _mocha --reporter=spec test/index.js",
    test: "npm run lint && npm run unit",
    version: "grunt dist && git add dist/",
  },
  E_ = { type: "git", url: "git@github.com:indutny/elliptic" },
  x_ = ["EC", "Elliptic", "curve", "Cryptography"],
  S_ = "Fedor Indutny <fedor@indutny.com>",
  M_ = "MIT",
  I_ = { url: "https://github.com/indutny/elliptic/issues" },
  D_ = "https://github.com/indutny/elliptic",
  P_ = {
    brfs: "^2.0.2",
    coveralls: "^3.1.0",
    eslint: "^7.6.0",
    grunt: "^1.2.1",
    "grunt-browserify": "^5.3.0",
    "grunt-cli": "^1.3.2",
    "grunt-contrib-connect": "^3.0.0",
    "grunt-contrib-copy": "^1.0.0",
    "grunt-contrib-uglify": "^5.0.0",
    "grunt-mocha-istanbul": "^5.0.2",
    "grunt-saucelabs": "^9.0.1",
    istanbul: "^0.4.5",
    mocha: "^8.0.1",
  },
  C_ = {
    "bn.js": "^4.11.9",
    brorand: "^1.1.0",
    "hash.js": "^1.0.0",
    "hmac-drbg": "^1.0.1",
    inherits: "^2.0.4",
    "minimalistic-assert": "^1.0.1",
    "minimalistic-crypto-utils": "^1.0.1",
  },
  O_ = {
    name: b_,
    version: m_,
    description: y_,
    main: w_,
    files: __,
    scripts: A_,
    repository: E_,
    keywords: x_,
    author: S_,
    license: M_,
    bugs: I_,
    homepage: D_,
    devDependencies: P_,
    dependencies: C_,
  };
var bh = {},
  cu = { exports: {} },
  R_ = cu.exports,
  Yp;
function Wn() {
  return (
    Yp ||
      ((Yp = 1),
      (function (r) {
        (function (e, t) {
          function i(k, y) {
            if (!k) throw new Error(y || "Assertion failed");
          }
          function s(k, y) {
            k.super_ = y;
            var c = function () {};
            (c.prototype = y.prototype),
              (k.prototype = new c()),
              (k.prototype.constructor = k);
          }
          function a(k, y, c) {
            if (a.isBN(k)) return k;
            (this.negative = 0),
              (this.words = null),
              (this.length = 0),
              (this.red = null),
              k !== null &&
                ((y === "le" || y === "be") && ((c = y), (y = 10)),
                this._init(k || 0, y || 10, c || "be"));
          }
          typeof e == "object" ? (e.exports = a) : (t.BN = a),
            (a.BN = a),
            (a.wordSize = 26);
          var f;
          try {
            typeof window < "u" && typeof window.Buffer < "u"
              ? (f = window.Buffer)
              : (f = f8().Buffer);
          } catch {}
          (a.isBN = function (y) {
            return y instanceof a
              ? !0
              : y !== null &&
                  typeof y == "object" &&
                  y.constructor.wordSize === a.wordSize &&
                  Array.isArray(y.words);
          }),
            (a.max = function (y, c) {
              return y.cmp(c) > 0 ? y : c;
            }),
            (a.min = function (y, c) {
              return y.cmp(c) < 0 ? y : c;
            }),
            (a.prototype._init = function (y, c, l) {
              if (typeof y == "number") return this._initNumber(y, c, l);
              if (typeof y == "object") return this._initArray(y, c, l);
              c === "hex" && (c = 16),
                i(c === (c | 0) && c >= 2 && c <= 36),
                (y = y.toString().replace(/\s+/g, ""));
              var p = 0;
              y[0] === "-" && (p++, (this.negative = 1)),
                p < y.length &&
                  (c === 16
                    ? this._parseHex(y, p, l)
                    : (this._parseBase(y, c, p),
                      l === "le" && this._initArray(this.toArray(), c, l)));
            }),
            (a.prototype._initNumber = function (y, c, l) {
              y < 0 && ((this.negative = 1), (y = -y)),
                y < 67108864
                  ? ((this.words = [y & 67108863]), (this.length = 1))
                  : y < 4503599627370496
                    ? ((this.words = [y & 67108863, (y / 67108864) & 67108863]),
                      (this.length = 2))
                    : (i(y < 9007199254740992),
                      (this.words = [
                        y & 67108863,
                        (y / 67108864) & 67108863,
                        1,
                      ]),
                      (this.length = 3)),
                l === "le" && this._initArray(this.toArray(), c, l);
            }),
            (a.prototype._initArray = function (y, c, l) {
              if ((i(typeof y.length == "number"), y.length <= 0))
                return (this.words = [0]), (this.length = 1), this;
              (this.length = Math.ceil(y.length / 3)),
                (this.words = new Array(this.length));
              for (var p = 0; p < this.length; p++) this.words[p] = 0;
              var w,
                A,
                P = 0;
              if (l === "be")
                for (p = y.length - 1, w = 0; p >= 0; p -= 3)
                  (A = y[p] | (y[p - 1] << 8) | (y[p - 2] << 16)),
                    (this.words[w] |= (A << P) & 67108863),
                    (this.words[w + 1] = (A >>> (26 - P)) & 67108863),
                    (P += 24),
                    P >= 26 && ((P -= 26), w++);
              else if (l === "le")
                for (p = 0, w = 0; p < y.length; p += 3)
                  (A = y[p] | (y[p + 1] << 8) | (y[p + 2] << 16)),
                    (this.words[w] |= (A << P) & 67108863),
                    (this.words[w + 1] = (A >>> (26 - P)) & 67108863),
                    (P += 24),
                    P >= 26 && ((P -= 26), w++);
              return this.strip();
            });
          function h(k, y) {
            var c = k.charCodeAt(y);
            return c >= 65 && c <= 70
              ? c - 55
              : c >= 97 && c <= 102
                ? c - 87
                : (c - 48) & 15;
          }
          function d(k, y, c) {
            var l = h(k, c);
            return c - 1 >= y && (l |= h(k, c - 1) << 4), l;
          }
          a.prototype._parseHex = function (y, c, l) {
            (this.length = Math.ceil((y.length - c) / 6)),
              (this.words = new Array(this.length));
            for (var p = 0; p < this.length; p++) this.words[p] = 0;
            var w = 0,
              A = 0,
              P;
            if (l === "be")
              for (p = y.length - 1; p >= c; p -= 2)
                (P = d(y, c, p) << w),
                  (this.words[A] |= P & 67108863),
                  w >= 18
                    ? ((w -= 18), (A += 1), (this.words[A] |= P >>> 26))
                    : (w += 8);
            else {
              var S = y.length - c;
              for (p = S % 2 === 0 ? c + 1 : c; p < y.length; p += 2)
                (P = d(y, c, p) << w),
                  (this.words[A] |= P & 67108863),
                  w >= 18
                    ? ((w -= 18), (A += 1), (this.words[A] |= P >>> 26))
                    : (w += 8);
            }
            this.strip();
          };
          function u(k, y, c, l) {
            for (var p = 0, w = Math.min(k.length, c), A = y; A < w; A++) {
              var P = k.charCodeAt(A) - 48;
              (p *= l),
                P >= 49
                  ? (p += P - 49 + 10)
                  : P >= 17
                    ? (p += P - 17 + 10)
                    : (p += P);
            }
            return p;
          }
          (a.prototype._parseBase = function (y, c, l) {
            (this.words = [0]), (this.length = 1);
            for (var p = 0, w = 1; w <= 67108863; w *= c) p++;
            p--, (w = (w / c) | 0);
            for (
              var A = y.length - l,
                P = A % p,
                S = Math.min(A, A - P) + l,
                g = 0,
                m = l;
              m < S;
              m += p
            )
              (g = u(y, m, m + p, c)),
                this.imuln(w),
                this.words[0] + g < 67108864
                  ? (this.words[0] += g)
                  : this._iaddn(g);
            if (P !== 0) {
              var N = 1;
              for (g = u(y, m, y.length, c), m = 0; m < P; m++) N *= c;
              this.imuln(N),
                this.words[0] + g < 67108864
                  ? (this.words[0] += g)
                  : this._iaddn(g);
            }
            this.strip();
          }),
            (a.prototype.copy = function (y) {
              y.words = new Array(this.length);
              for (var c = 0; c < this.length; c++) y.words[c] = this.words[c];
              (y.length = this.length),
                (y.negative = this.negative),
                (y.red = this.red);
            }),
            (a.prototype.clone = function () {
              var y = new a(null);
              return this.copy(y), y;
            }),
            (a.prototype._expand = function (y) {
              for (; this.length < y; ) this.words[this.length++] = 0;
              return this;
            }),
            (a.prototype.strip = function () {
              for (; this.length > 1 && this.words[this.length - 1] === 0; )
                this.length--;
              return this._normSign();
            }),
            (a.prototype._normSign = function () {
              return (
                this.length === 1 && this.words[0] === 0 && (this.negative = 0),
                this
              );
            }),
            (a.prototype.inspect = function () {
              return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
            });
          var b = [
              "",
              "0",
              "00",
              "000",
              "0000",
              "00000",
              "000000",
              "0000000",
              "00000000",
              "000000000",
              "0000000000",
              "00000000000",
              "000000000000",
              "0000000000000",
              "00000000000000",
              "000000000000000",
              "0000000000000000",
              "00000000000000000",
              "000000000000000000",
              "0000000000000000000",
              "00000000000000000000",
              "000000000000000000000",
              "0000000000000000000000",
              "00000000000000000000000",
              "000000000000000000000000",
              "0000000000000000000000000",
            ],
            _ = [
              0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6,
              6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            ],
            I = [
              0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
              16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
              11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
              5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
              20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
              60466176,
            ];
          (a.prototype.toString = function (y, c) {
            (y = y || 10), (c = c | 0 || 1);
            var l;
            if (y === 16 || y === "hex") {
              l = "";
              for (var p = 0, w = 0, A = 0; A < this.length; A++) {
                var P = this.words[A],
                  S = (((P << p) | w) & 16777215).toString(16);
                (w = (P >>> (24 - p)) & 16777215),
                  (p += 2),
                  p >= 26 && ((p -= 26), A--),
                  w !== 0 || A !== this.length - 1
                    ? (l = b[6 - S.length] + S + l)
                    : (l = S + l);
              }
              for (w !== 0 && (l = w.toString(16) + l); l.length % c !== 0; )
                l = "0" + l;
              return this.negative !== 0 && (l = "-" + l), l;
            }
            if (y === (y | 0) && y >= 2 && y <= 36) {
              var g = _[y],
                m = I[y];
              l = "";
              var N = this.clone();
              for (N.negative = 0; !N.isZero(); ) {
                var Q = N.modn(m).toString(y);
                (N = N.idivn(m)),
                  N.isZero() ? (l = Q + l) : (l = b[g - Q.length] + Q + l);
              }
              for (this.isZero() && (l = "0" + l); l.length % c !== 0; )
                l = "0" + l;
              return this.negative !== 0 && (l = "-" + l), l;
            }
            i(!1, "Base should be between 2 and 36");
          }),
            (a.prototype.toNumber = function () {
              var y = this.words[0];
              return (
                this.length === 2
                  ? (y += this.words[1] * 67108864)
                  : this.length === 3 && this.words[2] === 1
                    ? (y += 4503599627370496 + this.words[1] * 67108864)
                    : this.length > 2 &&
                      i(!1, "Number can only safely store up to 53 bits"),
                this.negative !== 0 ? -y : y
              );
            }),
            (a.prototype.toJSON = function () {
              return this.toString(16);
            }),
            (a.prototype.toBuffer = function (y, c) {
              return i(typeof f < "u"), this.toArrayLike(f, y, c);
            }),
            (a.prototype.toArray = function (y, c) {
              return this.toArrayLike(Array, y, c);
            }),
            (a.prototype.toArrayLike = function (y, c, l) {
              var p = this.byteLength(),
                w = l || Math.max(1, p);
              i(p <= w, "byte array longer than desired length"),
                i(w > 0, "Requested array length <= 0"),
                this.strip();
              var A = c === "le",
                P = new y(w),
                S,
                g,
                m = this.clone();
              if (A) {
                for (g = 0; !m.isZero(); g++)
                  (S = m.andln(255)), m.iushrn(8), (P[g] = S);
                for (; g < w; g++) P[g] = 0;
              } else {
                for (g = 0; g < w - p; g++) P[g] = 0;
                for (g = 0; !m.isZero(); g++)
                  (S = m.andln(255)), m.iushrn(8), (P[w - g - 1] = S);
              }
              return P;
            }),
            Math.clz32
              ? (a.prototype._countBits = function (y) {
                  return 32 - Math.clz32(y);
                })
              : (a.prototype._countBits = function (y) {
                  var c = y,
                    l = 0;
                  return (
                    c >= 4096 && ((l += 13), (c >>>= 13)),
                    c >= 64 && ((l += 7), (c >>>= 7)),
                    c >= 8 && ((l += 4), (c >>>= 4)),
                    c >= 2 && ((l += 2), (c >>>= 2)),
                    l + c
                  );
                }),
            (a.prototype._zeroBits = function (y) {
              if (y === 0) return 26;
              var c = y,
                l = 0;
              return (
                (c & 8191) === 0 && ((l += 13), (c >>>= 13)),
                (c & 127) === 0 && ((l += 7), (c >>>= 7)),
                (c & 15) === 0 && ((l += 4), (c >>>= 4)),
                (c & 3) === 0 && ((l += 2), (c >>>= 2)),
                (c & 1) === 0 && l++,
                l
              );
            }),
            (a.prototype.bitLength = function () {
              var y = this.words[this.length - 1],
                c = this._countBits(y);
              return (this.length - 1) * 26 + c;
            });
          function M(k) {
            for (var y = new Array(k.bitLength()), c = 0; c < y.length; c++) {
              var l = (c / 26) | 0,
                p = c % 26;
              y[c] = (k.words[l] & (1 << p)) >>> p;
            }
            return y;
          }
          (a.prototype.zeroBits = function () {
            if (this.isZero()) return 0;
            for (var y = 0, c = 0; c < this.length; c++) {
              var l = this._zeroBits(this.words[c]);
              if (((y += l), l !== 26)) break;
            }
            return y;
          }),
            (a.prototype.byteLength = function () {
              return Math.ceil(this.bitLength() / 8);
            }),
            (a.prototype.toTwos = function (y) {
              return this.negative !== 0
                ? this.abs().inotn(y).iaddn(1)
                : this.clone();
            }),
            (a.prototype.fromTwos = function (y) {
              return this.testn(y - 1)
                ? this.notn(y).iaddn(1).ineg()
                : this.clone();
            }),
            (a.prototype.isNeg = function () {
              return this.negative !== 0;
            }),
            (a.prototype.neg = function () {
              return this.clone().ineg();
            }),
            (a.prototype.ineg = function () {
              return this.isZero() || (this.negative ^= 1), this;
            }),
            (a.prototype.iuor = function (y) {
              for (; this.length < y.length; ) this.words[this.length++] = 0;
              for (var c = 0; c < y.length; c++)
                this.words[c] = this.words[c] | y.words[c];
              return this.strip();
            }),
            (a.prototype.ior = function (y) {
              return i((this.negative | y.negative) === 0), this.iuor(y);
            }),
            (a.prototype.or = function (y) {
              return this.length > y.length
                ? this.clone().ior(y)
                : y.clone().ior(this);
            }),
            (a.prototype.uor = function (y) {
              return this.length > y.length
                ? this.clone().iuor(y)
                : y.clone().iuor(this);
            }),
            (a.prototype.iuand = function (y) {
              var c;
              this.length > y.length ? (c = y) : (c = this);
              for (var l = 0; l < c.length; l++)
                this.words[l] = this.words[l] & y.words[l];
              return (this.length = c.length), this.strip();
            }),
            (a.prototype.iand = function (y) {
              return i((this.negative | y.negative) === 0), this.iuand(y);
            }),
            (a.prototype.and = function (y) {
              return this.length > y.length
                ? this.clone().iand(y)
                : y.clone().iand(this);
            }),
            (a.prototype.uand = function (y) {
              return this.length > y.length
                ? this.clone().iuand(y)
                : y.clone().iuand(this);
            }),
            (a.prototype.iuxor = function (y) {
              var c, l;
              this.length > y.length
                ? ((c = this), (l = y))
                : ((c = y), (l = this));
              for (var p = 0; p < l.length; p++)
                this.words[p] = c.words[p] ^ l.words[p];
              if (this !== c)
                for (; p < c.length; p++) this.words[p] = c.words[p];
              return (this.length = c.length), this.strip();
            }),
            (a.prototype.ixor = function (y) {
              return i((this.negative | y.negative) === 0), this.iuxor(y);
            }),
            (a.prototype.xor = function (y) {
              return this.length > y.length
                ? this.clone().ixor(y)
                : y.clone().ixor(this);
            }),
            (a.prototype.uxor = function (y) {
              return this.length > y.length
                ? this.clone().iuxor(y)
                : y.clone().iuxor(this);
            }),
            (a.prototype.inotn = function (y) {
              i(typeof y == "number" && y >= 0);
              var c = Math.ceil(y / 26) | 0,
                l = y % 26;
              this._expand(c), l > 0 && c--;
              for (var p = 0; p < c; p++)
                this.words[p] = ~this.words[p] & 67108863;
              return (
                l > 0 &&
                  (this.words[p] = ~this.words[p] & (67108863 >> (26 - l))),
                this.strip()
              );
            }),
            (a.prototype.notn = function (y) {
              return this.clone().inotn(y);
            }),
            (a.prototype.setn = function (y, c) {
              i(typeof y == "number" && y >= 0);
              var l = (y / 26) | 0,
                p = y % 26;
              return (
                this._expand(l + 1),
                c
                  ? (this.words[l] = this.words[l] | (1 << p))
                  : (this.words[l] = this.words[l] & ~(1 << p)),
                this.strip()
              );
            }),
            (a.prototype.iadd = function (y) {
              var c;
              if (this.negative !== 0 && y.negative === 0)
                return (
                  (this.negative = 0),
                  (c = this.isub(y)),
                  (this.negative ^= 1),
                  this._normSign()
                );
              if (this.negative === 0 && y.negative !== 0)
                return (
                  (y.negative = 0),
                  (c = this.isub(y)),
                  (y.negative = 1),
                  c._normSign()
                );
              var l, p;
              this.length > y.length
                ? ((l = this), (p = y))
                : ((l = y), (p = this));
              for (var w = 0, A = 0; A < p.length; A++)
                (c = (l.words[A] | 0) + (p.words[A] | 0) + w),
                  (this.words[A] = c & 67108863),
                  (w = c >>> 26);
              for (; w !== 0 && A < l.length; A++)
                (c = (l.words[A] | 0) + w),
                  (this.words[A] = c & 67108863),
                  (w = c >>> 26);
              if (((this.length = l.length), w !== 0))
                (this.words[this.length] = w), this.length++;
              else if (l !== this)
                for (; A < l.length; A++) this.words[A] = l.words[A];
              return this;
            }),
            (a.prototype.add = function (y) {
              var c;
              return y.negative !== 0 && this.negative === 0
                ? ((y.negative = 0), (c = this.sub(y)), (y.negative ^= 1), c)
                : y.negative === 0 && this.negative !== 0
                  ? ((this.negative = 0),
                    (c = y.sub(this)),
                    (this.negative = 1),
                    c)
                  : this.length > y.length
                    ? this.clone().iadd(y)
                    : y.clone().iadd(this);
            }),
            (a.prototype.isub = function (y) {
              if (y.negative !== 0) {
                y.negative = 0;
                var c = this.iadd(y);
                return (y.negative = 1), c._normSign();
              } else if (this.negative !== 0)
                return (
                  (this.negative = 0),
                  this.iadd(y),
                  (this.negative = 1),
                  this._normSign()
                );
              var l = this.cmp(y);
              if (l === 0)
                return (
                  (this.negative = 0),
                  (this.length = 1),
                  (this.words[0] = 0),
                  this
                );
              var p, w;
              l > 0 ? ((p = this), (w = y)) : ((p = y), (w = this));
              for (var A = 0, P = 0; P < w.length; P++)
                (c = (p.words[P] | 0) - (w.words[P] | 0) + A),
                  (A = c >> 26),
                  (this.words[P] = c & 67108863);
              for (; A !== 0 && P < p.length; P++)
                (c = (p.words[P] | 0) + A),
                  (A = c >> 26),
                  (this.words[P] = c & 67108863);
              if (A === 0 && P < p.length && p !== this)
                for (; P < p.length; P++) this.words[P] = p.words[P];
              return (
                (this.length = Math.max(this.length, P)),
                p !== this && (this.negative = 1),
                this.strip()
              );
            }),
            (a.prototype.sub = function (y) {
              return this.clone().isub(y);
            });
          function C(k, y, c) {
            c.negative = y.negative ^ k.negative;
            var l = (k.length + y.length) | 0;
            (c.length = l), (l = (l - 1) | 0);
            var p = k.words[0] | 0,
              w = y.words[0] | 0,
              A = p * w,
              P = A & 67108863,
              S = (A / 67108864) | 0;
            c.words[0] = P;
            for (var g = 1; g < l; g++) {
              for (
                var m = S >>> 26,
                  N = S & 67108863,
                  Q = Math.min(g, y.length - 1),
                  re = Math.max(0, g - k.length + 1);
                re <= Q;
                re++
              ) {
                var O = (g - re) | 0;
                (p = k.words[O] | 0),
                  (w = y.words[re] | 0),
                  (A = p * w + N),
                  (m += (A / 67108864) | 0),
                  (N = A & 67108863);
              }
              (c.words[g] = N | 0), (S = m | 0);
            }
            return S !== 0 ? (c.words[g] = S | 0) : c.length--, c.strip();
          }
          var R = function (y, c, l) {
            var p = y.words,
              w = c.words,
              A = l.words,
              P = 0,
              S,
              g,
              m,
              N = p[0] | 0,
              Q = N & 8191,
              re = N >>> 13,
              O = p[1] | 0,
              Z = O & 8191,
              $ = O >>> 13,
              W = p[2] | 0,
              J = W & 8191,
              x = W >>> 13,
              G = p[3] | 0,
              ae = G & 8191,
              ce = G >>> 13,
              fe = p[4] | 0,
              be = fe & 8191,
              we = fe >>> 13,
              Ie = p[5] | 0,
              Je = Ie & 8191,
              Ce = Ie >>> 13,
              Te = p[6] | 0,
              Se = Te & 8191,
              me = Te >>> 13,
              Oe = p[7] | 0,
              Re = Oe & 8191,
              ve = Oe >>> 13,
              Ne = p[8] | 0,
              Ee = Ne & 8191,
              ye = Ne >>> 13,
              Le = p[9] | 0,
              De = Le & 8191,
              _e = Le >>> 13,
              He = w[0] | 0,
              Ve = He & 8191,
              xe = He >>> 13,
              Ke = w[1] | 0,
              ht = Ke & 8191,
              Ge = Ke >>> 13,
              _t = w[2] | 0,
              lt = _t & 8191,
              Ye = _t >>> 13,
              xt = w[3] | 0,
              It = xt & 8191,
              qe = xt >>> 13,
              Xe = w[4] | 0,
              tt = Xe & 8191,
              Fe = Xe >>> 13,
              et = w[5] | 0,
              Ze = et & 8191,
              ze = et >>> 13,
              ut = w[6] | 0,
              rt = ut & 8191,
              ke = ut >>> 13,
              it = w[7] | 0,
              st = it & 8191,
              Be = it >>> 13,
              Qe = w[8] | 0,
              ft = Qe & 8191,
              je = Qe >>> 13,
              Nt = w[9] | 0,
              Tt = Nt & 8191,
              at = Nt >>> 13;
            (l.negative = y.negative ^ c.negative),
              (l.length = 19),
              (S = Math.imul(Q, Ve)),
              (g = Math.imul(Q, xe)),
              (g = (g + Math.imul(re, Ve)) | 0),
              (m = Math.imul(re, xe));
            var bt = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (bt >>> 26)) | 0),
              (bt &= 67108863),
              (S = Math.imul(Z, Ve)),
              (g = Math.imul(Z, xe)),
              (g = (g + Math.imul($, Ve)) | 0),
              (m = Math.imul($, xe)),
              (S = (S + Math.imul(Q, ht)) | 0),
              (g = (g + Math.imul(Q, Ge)) | 0),
              (g = (g + Math.imul(re, ht)) | 0),
              (m = (m + Math.imul(re, Ge)) | 0);
            var Dr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Dr >>> 26)) | 0),
              (Dr &= 67108863),
              (S = Math.imul(J, Ve)),
              (g = Math.imul(J, xe)),
              (g = (g + Math.imul(x, Ve)) | 0),
              (m = Math.imul(x, xe)),
              (S = (S + Math.imul(Z, ht)) | 0),
              (g = (g + Math.imul(Z, Ge)) | 0),
              (g = (g + Math.imul($, ht)) | 0),
              (m = (m + Math.imul($, Ge)) | 0),
              (S = (S + Math.imul(Q, lt)) | 0),
              (g = (g + Math.imul(Q, Ye)) | 0),
              (g = (g + Math.imul(re, lt)) | 0),
              (m = (m + Math.imul(re, Ye)) | 0);
            var Pr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Pr >>> 26)) | 0),
              (Pr &= 67108863),
              (S = Math.imul(ae, Ve)),
              (g = Math.imul(ae, xe)),
              (g = (g + Math.imul(ce, Ve)) | 0),
              (m = Math.imul(ce, xe)),
              (S = (S + Math.imul(J, ht)) | 0),
              (g = (g + Math.imul(J, Ge)) | 0),
              (g = (g + Math.imul(x, ht)) | 0),
              (m = (m + Math.imul(x, Ge)) | 0),
              (S = (S + Math.imul(Z, lt)) | 0),
              (g = (g + Math.imul(Z, Ye)) | 0),
              (g = (g + Math.imul($, lt)) | 0),
              (m = (m + Math.imul($, Ye)) | 0),
              (S = (S + Math.imul(Q, It)) | 0),
              (g = (g + Math.imul(Q, qe)) | 0),
              (g = (g + Math.imul(re, It)) | 0),
              (m = (m + Math.imul(re, qe)) | 0);
            var Cr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Cr >>> 26)) | 0),
              (Cr &= 67108863),
              (S = Math.imul(be, Ve)),
              (g = Math.imul(be, xe)),
              (g = (g + Math.imul(we, Ve)) | 0),
              (m = Math.imul(we, xe)),
              (S = (S + Math.imul(ae, ht)) | 0),
              (g = (g + Math.imul(ae, Ge)) | 0),
              (g = (g + Math.imul(ce, ht)) | 0),
              (m = (m + Math.imul(ce, Ge)) | 0),
              (S = (S + Math.imul(J, lt)) | 0),
              (g = (g + Math.imul(J, Ye)) | 0),
              (g = (g + Math.imul(x, lt)) | 0),
              (m = (m + Math.imul(x, Ye)) | 0),
              (S = (S + Math.imul(Z, It)) | 0),
              (g = (g + Math.imul(Z, qe)) | 0),
              (g = (g + Math.imul($, It)) | 0),
              (m = (m + Math.imul($, qe)) | 0),
              (S = (S + Math.imul(Q, tt)) | 0),
              (g = (g + Math.imul(Q, Fe)) | 0),
              (g = (g + Math.imul(re, tt)) | 0),
              (m = (m + Math.imul(re, Fe)) | 0);
            var Or = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Or >>> 26)) | 0),
              (Or &= 67108863),
              (S = Math.imul(Je, Ve)),
              (g = Math.imul(Je, xe)),
              (g = (g + Math.imul(Ce, Ve)) | 0),
              (m = Math.imul(Ce, xe)),
              (S = (S + Math.imul(be, ht)) | 0),
              (g = (g + Math.imul(be, Ge)) | 0),
              (g = (g + Math.imul(we, ht)) | 0),
              (m = (m + Math.imul(we, Ge)) | 0),
              (S = (S + Math.imul(ae, lt)) | 0),
              (g = (g + Math.imul(ae, Ye)) | 0),
              (g = (g + Math.imul(ce, lt)) | 0),
              (m = (m + Math.imul(ce, Ye)) | 0),
              (S = (S + Math.imul(J, It)) | 0),
              (g = (g + Math.imul(J, qe)) | 0),
              (g = (g + Math.imul(x, It)) | 0),
              (m = (m + Math.imul(x, qe)) | 0),
              (S = (S + Math.imul(Z, tt)) | 0),
              (g = (g + Math.imul(Z, Fe)) | 0),
              (g = (g + Math.imul($, tt)) | 0),
              (m = (m + Math.imul($, Fe)) | 0),
              (S = (S + Math.imul(Q, Ze)) | 0),
              (g = (g + Math.imul(Q, ze)) | 0),
              (g = (g + Math.imul(re, Ze)) | 0),
              (m = (m + Math.imul(re, ze)) | 0);
            var Rr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Rr >>> 26)) | 0),
              (Rr &= 67108863),
              (S = Math.imul(Se, Ve)),
              (g = Math.imul(Se, xe)),
              (g = (g + Math.imul(me, Ve)) | 0),
              (m = Math.imul(me, xe)),
              (S = (S + Math.imul(Je, ht)) | 0),
              (g = (g + Math.imul(Je, Ge)) | 0),
              (g = (g + Math.imul(Ce, ht)) | 0),
              (m = (m + Math.imul(Ce, Ge)) | 0),
              (S = (S + Math.imul(be, lt)) | 0),
              (g = (g + Math.imul(be, Ye)) | 0),
              (g = (g + Math.imul(we, lt)) | 0),
              (m = (m + Math.imul(we, Ye)) | 0),
              (S = (S + Math.imul(ae, It)) | 0),
              (g = (g + Math.imul(ae, qe)) | 0),
              (g = (g + Math.imul(ce, It)) | 0),
              (m = (m + Math.imul(ce, qe)) | 0),
              (S = (S + Math.imul(J, tt)) | 0),
              (g = (g + Math.imul(J, Fe)) | 0),
              (g = (g + Math.imul(x, tt)) | 0),
              (m = (m + Math.imul(x, Fe)) | 0),
              (S = (S + Math.imul(Z, Ze)) | 0),
              (g = (g + Math.imul(Z, ze)) | 0),
              (g = (g + Math.imul($, Ze)) | 0),
              (m = (m + Math.imul($, ze)) | 0),
              (S = (S + Math.imul(Q, rt)) | 0),
              (g = (g + Math.imul(Q, ke)) | 0),
              (g = (g + Math.imul(re, rt)) | 0),
              (m = (m + Math.imul(re, ke)) | 0);
            var er = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (er >>> 26)) | 0),
              (er &= 67108863),
              (S = Math.imul(Re, Ve)),
              (g = Math.imul(Re, xe)),
              (g = (g + Math.imul(ve, Ve)) | 0),
              (m = Math.imul(ve, xe)),
              (S = (S + Math.imul(Se, ht)) | 0),
              (g = (g + Math.imul(Se, Ge)) | 0),
              (g = (g + Math.imul(me, ht)) | 0),
              (m = (m + Math.imul(me, Ge)) | 0),
              (S = (S + Math.imul(Je, lt)) | 0),
              (g = (g + Math.imul(Je, Ye)) | 0),
              (g = (g + Math.imul(Ce, lt)) | 0),
              (m = (m + Math.imul(Ce, Ye)) | 0),
              (S = (S + Math.imul(be, It)) | 0),
              (g = (g + Math.imul(be, qe)) | 0),
              (g = (g + Math.imul(we, It)) | 0),
              (m = (m + Math.imul(we, qe)) | 0),
              (S = (S + Math.imul(ae, tt)) | 0),
              (g = (g + Math.imul(ae, Fe)) | 0),
              (g = (g + Math.imul(ce, tt)) | 0),
              (m = (m + Math.imul(ce, Fe)) | 0),
              (S = (S + Math.imul(J, Ze)) | 0),
              (g = (g + Math.imul(J, ze)) | 0),
              (g = (g + Math.imul(x, Ze)) | 0),
              (m = (m + Math.imul(x, ze)) | 0),
              (S = (S + Math.imul(Z, rt)) | 0),
              (g = (g + Math.imul(Z, ke)) | 0),
              (g = (g + Math.imul($, rt)) | 0),
              (m = (m + Math.imul($, ke)) | 0),
              (S = (S + Math.imul(Q, st)) | 0),
              (g = (g + Math.imul(Q, Be)) | 0),
              (g = (g + Math.imul(re, st)) | 0),
              (m = (m + Math.imul(re, Be)) | 0);
            var Vr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Vr >>> 26)) | 0),
              (Vr &= 67108863),
              (S = Math.imul(Ee, Ve)),
              (g = Math.imul(Ee, xe)),
              (g = (g + Math.imul(ye, Ve)) | 0),
              (m = Math.imul(ye, xe)),
              (S = (S + Math.imul(Re, ht)) | 0),
              (g = (g + Math.imul(Re, Ge)) | 0),
              (g = (g + Math.imul(ve, ht)) | 0),
              (m = (m + Math.imul(ve, Ge)) | 0),
              (S = (S + Math.imul(Se, lt)) | 0),
              (g = (g + Math.imul(Se, Ye)) | 0),
              (g = (g + Math.imul(me, lt)) | 0),
              (m = (m + Math.imul(me, Ye)) | 0),
              (S = (S + Math.imul(Je, It)) | 0),
              (g = (g + Math.imul(Je, qe)) | 0),
              (g = (g + Math.imul(Ce, It)) | 0),
              (m = (m + Math.imul(Ce, qe)) | 0),
              (S = (S + Math.imul(be, tt)) | 0),
              (g = (g + Math.imul(be, Fe)) | 0),
              (g = (g + Math.imul(we, tt)) | 0),
              (m = (m + Math.imul(we, Fe)) | 0),
              (S = (S + Math.imul(ae, Ze)) | 0),
              (g = (g + Math.imul(ae, ze)) | 0),
              (g = (g + Math.imul(ce, Ze)) | 0),
              (m = (m + Math.imul(ce, ze)) | 0),
              (S = (S + Math.imul(J, rt)) | 0),
              (g = (g + Math.imul(J, ke)) | 0),
              (g = (g + Math.imul(x, rt)) | 0),
              (m = (m + Math.imul(x, ke)) | 0),
              (S = (S + Math.imul(Z, st)) | 0),
              (g = (g + Math.imul(Z, Be)) | 0),
              (g = (g + Math.imul($, st)) | 0),
              (m = (m + Math.imul($, Be)) | 0),
              (S = (S + Math.imul(Q, ft)) | 0),
              (g = (g + Math.imul(Q, je)) | 0),
              (g = (g + Math.imul(re, ft)) | 0),
              (m = (m + Math.imul(re, je)) | 0);
            var Ti = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Ti >>> 26)) | 0),
              (Ti &= 67108863),
              (S = Math.imul(De, Ve)),
              (g = Math.imul(De, xe)),
              (g = (g + Math.imul(_e, Ve)) | 0),
              (m = Math.imul(_e, xe)),
              (S = (S + Math.imul(Ee, ht)) | 0),
              (g = (g + Math.imul(Ee, Ge)) | 0),
              (g = (g + Math.imul(ye, ht)) | 0),
              (m = (m + Math.imul(ye, Ge)) | 0),
              (S = (S + Math.imul(Re, lt)) | 0),
              (g = (g + Math.imul(Re, Ye)) | 0),
              (g = (g + Math.imul(ve, lt)) | 0),
              (m = (m + Math.imul(ve, Ye)) | 0),
              (S = (S + Math.imul(Se, It)) | 0),
              (g = (g + Math.imul(Se, qe)) | 0),
              (g = (g + Math.imul(me, It)) | 0),
              (m = (m + Math.imul(me, qe)) | 0),
              (S = (S + Math.imul(Je, tt)) | 0),
              (g = (g + Math.imul(Je, Fe)) | 0),
              (g = (g + Math.imul(Ce, tt)) | 0),
              (m = (m + Math.imul(Ce, Fe)) | 0),
              (S = (S + Math.imul(be, Ze)) | 0),
              (g = (g + Math.imul(be, ze)) | 0),
              (g = (g + Math.imul(we, Ze)) | 0),
              (m = (m + Math.imul(we, ze)) | 0),
              (S = (S + Math.imul(ae, rt)) | 0),
              (g = (g + Math.imul(ae, ke)) | 0),
              (g = (g + Math.imul(ce, rt)) | 0),
              (m = (m + Math.imul(ce, ke)) | 0),
              (S = (S + Math.imul(J, st)) | 0),
              (g = (g + Math.imul(J, Be)) | 0),
              (g = (g + Math.imul(x, st)) | 0),
              (m = (m + Math.imul(x, Be)) | 0),
              (S = (S + Math.imul(Z, ft)) | 0),
              (g = (g + Math.imul(Z, je)) | 0),
              (g = (g + Math.imul($, ft)) | 0),
              (m = (m + Math.imul($, je)) | 0),
              (S = (S + Math.imul(Q, Tt)) | 0),
              (g = (g + Math.imul(Q, at)) | 0),
              (g = (g + Math.imul(re, Tt)) | 0),
              (m = (m + Math.imul(re, at)) | 0);
            var Gr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Gr >>> 26)) | 0),
              (Gr &= 67108863),
              (S = Math.imul(De, ht)),
              (g = Math.imul(De, Ge)),
              (g = (g + Math.imul(_e, ht)) | 0),
              (m = Math.imul(_e, Ge)),
              (S = (S + Math.imul(Ee, lt)) | 0),
              (g = (g + Math.imul(Ee, Ye)) | 0),
              (g = (g + Math.imul(ye, lt)) | 0),
              (m = (m + Math.imul(ye, Ye)) | 0),
              (S = (S + Math.imul(Re, It)) | 0),
              (g = (g + Math.imul(Re, qe)) | 0),
              (g = (g + Math.imul(ve, It)) | 0),
              (m = (m + Math.imul(ve, qe)) | 0),
              (S = (S + Math.imul(Se, tt)) | 0),
              (g = (g + Math.imul(Se, Fe)) | 0),
              (g = (g + Math.imul(me, tt)) | 0),
              (m = (m + Math.imul(me, Fe)) | 0),
              (S = (S + Math.imul(Je, Ze)) | 0),
              (g = (g + Math.imul(Je, ze)) | 0),
              (g = (g + Math.imul(Ce, Ze)) | 0),
              (m = (m + Math.imul(Ce, ze)) | 0),
              (S = (S + Math.imul(be, rt)) | 0),
              (g = (g + Math.imul(be, ke)) | 0),
              (g = (g + Math.imul(we, rt)) | 0),
              (m = (m + Math.imul(we, ke)) | 0),
              (S = (S + Math.imul(ae, st)) | 0),
              (g = (g + Math.imul(ae, Be)) | 0),
              (g = (g + Math.imul(ce, st)) | 0),
              (m = (m + Math.imul(ce, Be)) | 0),
              (S = (S + Math.imul(J, ft)) | 0),
              (g = (g + Math.imul(J, je)) | 0),
              (g = (g + Math.imul(x, ft)) | 0),
              (m = (m + Math.imul(x, je)) | 0),
              (S = (S + Math.imul(Z, Tt)) | 0),
              (g = (g + Math.imul(Z, at)) | 0),
              (g = (g + Math.imul($, Tt)) | 0),
              (m = (m + Math.imul($, at)) | 0);
            var qi = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (qi >>> 26)) | 0),
              (qi &= 67108863),
              (S = Math.imul(De, lt)),
              (g = Math.imul(De, Ye)),
              (g = (g + Math.imul(_e, lt)) | 0),
              (m = Math.imul(_e, Ye)),
              (S = (S + Math.imul(Ee, It)) | 0),
              (g = (g + Math.imul(Ee, qe)) | 0),
              (g = (g + Math.imul(ye, It)) | 0),
              (m = (m + Math.imul(ye, qe)) | 0),
              (S = (S + Math.imul(Re, tt)) | 0),
              (g = (g + Math.imul(Re, Fe)) | 0),
              (g = (g + Math.imul(ve, tt)) | 0),
              (m = (m + Math.imul(ve, Fe)) | 0),
              (S = (S + Math.imul(Se, Ze)) | 0),
              (g = (g + Math.imul(Se, ze)) | 0),
              (g = (g + Math.imul(me, Ze)) | 0),
              (m = (m + Math.imul(me, ze)) | 0),
              (S = (S + Math.imul(Je, rt)) | 0),
              (g = (g + Math.imul(Je, ke)) | 0),
              (g = (g + Math.imul(Ce, rt)) | 0),
              (m = (m + Math.imul(Ce, ke)) | 0),
              (S = (S + Math.imul(be, st)) | 0),
              (g = (g + Math.imul(be, Be)) | 0),
              (g = (g + Math.imul(we, st)) | 0),
              (m = (m + Math.imul(we, Be)) | 0),
              (S = (S + Math.imul(ae, ft)) | 0),
              (g = (g + Math.imul(ae, je)) | 0),
              (g = (g + Math.imul(ce, ft)) | 0),
              (m = (m + Math.imul(ce, je)) | 0),
              (S = (S + Math.imul(J, Tt)) | 0),
              (g = (g + Math.imul(J, at)) | 0),
              (g = (g + Math.imul(x, Tt)) | 0),
              (m = (m + Math.imul(x, at)) | 0);
            var Fi = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Fi >>> 26)) | 0),
              (Fi &= 67108863),
              (S = Math.imul(De, It)),
              (g = Math.imul(De, qe)),
              (g = (g + Math.imul(_e, It)) | 0),
              (m = Math.imul(_e, qe)),
              (S = (S + Math.imul(Ee, tt)) | 0),
              (g = (g + Math.imul(Ee, Fe)) | 0),
              (g = (g + Math.imul(ye, tt)) | 0),
              (m = (m + Math.imul(ye, Fe)) | 0),
              (S = (S + Math.imul(Re, Ze)) | 0),
              (g = (g + Math.imul(Re, ze)) | 0),
              (g = (g + Math.imul(ve, Ze)) | 0),
              (m = (m + Math.imul(ve, ze)) | 0),
              (S = (S + Math.imul(Se, rt)) | 0),
              (g = (g + Math.imul(Se, ke)) | 0),
              (g = (g + Math.imul(me, rt)) | 0),
              (m = (m + Math.imul(me, ke)) | 0),
              (S = (S + Math.imul(Je, st)) | 0),
              (g = (g + Math.imul(Je, Be)) | 0),
              (g = (g + Math.imul(Ce, st)) | 0),
              (m = (m + Math.imul(Ce, Be)) | 0),
              (S = (S + Math.imul(be, ft)) | 0),
              (g = (g + Math.imul(be, je)) | 0),
              (g = (g + Math.imul(we, ft)) | 0),
              (m = (m + Math.imul(we, je)) | 0),
              (S = (S + Math.imul(ae, Tt)) | 0),
              (g = (g + Math.imul(ae, at)) | 0),
              (g = (g + Math.imul(ce, Tt)) | 0),
              (m = (m + Math.imul(ce, at)) | 0);
            var Wr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Wr >>> 26)) | 0),
              (Wr &= 67108863),
              (S = Math.imul(De, tt)),
              (g = Math.imul(De, Fe)),
              (g = (g + Math.imul(_e, tt)) | 0),
              (m = Math.imul(_e, Fe)),
              (S = (S + Math.imul(Ee, Ze)) | 0),
              (g = (g + Math.imul(Ee, ze)) | 0),
              (g = (g + Math.imul(ye, Ze)) | 0),
              (m = (m + Math.imul(ye, ze)) | 0),
              (S = (S + Math.imul(Re, rt)) | 0),
              (g = (g + Math.imul(Re, ke)) | 0),
              (g = (g + Math.imul(ve, rt)) | 0),
              (m = (m + Math.imul(ve, ke)) | 0),
              (S = (S + Math.imul(Se, st)) | 0),
              (g = (g + Math.imul(Se, Be)) | 0),
              (g = (g + Math.imul(me, st)) | 0),
              (m = (m + Math.imul(me, Be)) | 0),
              (S = (S + Math.imul(Je, ft)) | 0),
              (g = (g + Math.imul(Je, je)) | 0),
              (g = (g + Math.imul(Ce, ft)) | 0),
              (m = (m + Math.imul(Ce, je)) | 0),
              (S = (S + Math.imul(be, Tt)) | 0),
              (g = (g + Math.imul(be, at)) | 0),
              (g = (g + Math.imul(we, Tt)) | 0),
              (m = (m + Math.imul(we, at)) | 0);
            var vi = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (vi >>> 26)) | 0),
              (vi &= 67108863),
              (S = Math.imul(De, Ze)),
              (g = Math.imul(De, ze)),
              (g = (g + Math.imul(_e, Ze)) | 0),
              (m = Math.imul(_e, ze)),
              (S = (S + Math.imul(Ee, rt)) | 0),
              (g = (g + Math.imul(Ee, ke)) | 0),
              (g = (g + Math.imul(ye, rt)) | 0),
              (m = (m + Math.imul(ye, ke)) | 0),
              (S = (S + Math.imul(Re, st)) | 0),
              (g = (g + Math.imul(Re, Be)) | 0),
              (g = (g + Math.imul(ve, st)) | 0),
              (m = (m + Math.imul(ve, Be)) | 0),
              (S = (S + Math.imul(Se, ft)) | 0),
              (g = (g + Math.imul(Se, je)) | 0),
              (g = (g + Math.imul(me, ft)) | 0),
              (m = (m + Math.imul(me, je)) | 0),
              (S = (S + Math.imul(Je, Tt)) | 0),
              (g = (g + Math.imul(Je, at)) | 0),
              (g = (g + Math.imul(Ce, Tt)) | 0),
              (m = (m + Math.imul(Ce, at)) | 0);
            var bi = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (bi >>> 26)) | 0),
              (bi &= 67108863),
              (S = Math.imul(De, rt)),
              (g = Math.imul(De, ke)),
              (g = (g + Math.imul(_e, rt)) | 0),
              (m = Math.imul(_e, ke)),
              (S = (S + Math.imul(Ee, st)) | 0),
              (g = (g + Math.imul(Ee, Be)) | 0),
              (g = (g + Math.imul(ye, st)) | 0),
              (m = (m + Math.imul(ye, Be)) | 0),
              (S = (S + Math.imul(Re, ft)) | 0),
              (g = (g + Math.imul(Re, je)) | 0),
              (g = (g + Math.imul(ve, ft)) | 0),
              (m = (m + Math.imul(ve, je)) | 0),
              (S = (S + Math.imul(Se, Tt)) | 0),
              (g = (g + Math.imul(Se, at)) | 0),
              (g = (g + Math.imul(me, Tt)) | 0),
              (m = (m + Math.imul(me, at)) | 0);
            var hr = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (hr >>> 26)) | 0),
              (hr &= 67108863),
              (S = Math.imul(De, st)),
              (g = Math.imul(De, Be)),
              (g = (g + Math.imul(_e, st)) | 0),
              (m = Math.imul(_e, Be)),
              (S = (S + Math.imul(Ee, ft)) | 0),
              (g = (g + Math.imul(Ee, je)) | 0),
              (g = (g + Math.imul(ye, ft)) | 0),
              (m = (m + Math.imul(ye, je)) | 0),
              (S = (S + Math.imul(Re, Tt)) | 0),
              (g = (g + Math.imul(Re, at)) | 0),
              (g = (g + Math.imul(ve, Tt)) | 0),
              (m = (m + Math.imul(ve, at)) | 0);
            var Bi = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Bi >>> 26)) | 0),
              (Bi &= 67108863),
              (S = Math.imul(De, ft)),
              (g = Math.imul(De, je)),
              (g = (g + Math.imul(_e, ft)) | 0),
              (m = Math.imul(_e, je)),
              (S = (S + Math.imul(Ee, Tt)) | 0),
              (g = (g + Math.imul(Ee, at)) | 0),
              (g = (g + Math.imul(ye, Tt)) | 0),
              (m = (m + Math.imul(ye, at)) | 0);
            var Li = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            (P = (((m + (g >>> 13)) | 0) + (Li >>> 26)) | 0),
              (Li &= 67108863),
              (S = Math.imul(De, Tt)),
              (g = Math.imul(De, at)),
              (g = (g + Math.imul(_e, Tt)) | 0),
              (m = Math.imul(_e, at));
            var Ui = (((P + S) | 0) + ((g & 8191) << 13)) | 0;
            return (
              (P = (((m + (g >>> 13)) | 0) + (Ui >>> 26)) | 0),
              (Ui &= 67108863),
              (A[0] = bt),
              (A[1] = Dr),
              (A[2] = Pr),
              (A[3] = Cr),
              (A[4] = Or),
              (A[5] = Rr),
              (A[6] = er),
              (A[7] = Vr),
              (A[8] = Ti),
              (A[9] = Gr),
              (A[10] = qi),
              (A[11] = Fi),
              (A[12] = Wr),
              (A[13] = vi),
              (A[14] = bi),
              (A[15] = hr),
              (A[16] = Bi),
              (A[17] = Li),
              (A[18] = Ui),
              P !== 0 && ((A[19] = P), l.length++),
              l
            );
          };
          Math.imul || (R = C);
          function L(k, y, c) {
            (c.negative = y.negative ^ k.negative),
              (c.length = k.length + y.length);
            for (var l = 0, p = 0, w = 0; w < c.length - 1; w++) {
              var A = p;
              p = 0;
              for (
                var P = l & 67108863,
                  S = Math.min(w, y.length - 1),
                  g = Math.max(0, w - k.length + 1);
                g <= S;
                g++
              ) {
                var m = w - g,
                  N = k.words[m] | 0,
                  Q = y.words[g] | 0,
                  re = N * Q,
                  O = re & 67108863;
                (A = (A + ((re / 67108864) | 0)) | 0),
                  (O = (O + P) | 0),
                  (P = O & 67108863),
                  (A = (A + (O >>> 26)) | 0),
                  (p += A >>> 26),
                  (A &= 67108863);
              }
              (c.words[w] = P), (l = A), (A = p);
            }
            return l !== 0 ? (c.words[w] = l) : c.length--, c.strip();
          }
          function V(k, y, c) {
            var l = new F();
            return l.mulp(k, y, c);
          }
          a.prototype.mulTo = function (y, c) {
            var l,
              p = this.length + y.length;
            return (
              this.length === 10 && y.length === 10
                ? (l = R(this, y, c))
                : p < 63
                  ? (l = C(this, y, c))
                  : p < 1024
                    ? (l = L(this, y, c))
                    : (l = V(this, y, c)),
              l
            );
          };
          function F(k, y) {
            (this.x = k), (this.y = y);
          }
          (F.prototype.makeRBT = function (y) {
            for (
              var c = new Array(y), l = a.prototype._countBits(y) - 1, p = 0;
              p < y;
              p++
            )
              c[p] = this.revBin(p, l, y);
            return c;
          }),
            (F.prototype.revBin = function (y, c, l) {
              if (y === 0 || y === l - 1) return y;
              for (var p = 0, w = 0; w < c; w++)
                (p |= (y & 1) << (c - w - 1)), (y >>= 1);
              return p;
            }),
            (F.prototype.permute = function (y, c, l, p, w, A) {
              for (var P = 0; P < A; P++) (p[P] = c[y[P]]), (w[P] = l[y[P]]);
            }),
            (F.prototype.transform = function (y, c, l, p, w, A) {
              this.permute(A, y, c, l, p, w);
              for (var P = 1; P < w; P <<= 1)
                for (
                  var S = P << 1,
                    g = Math.cos((2 * Math.PI) / S),
                    m = Math.sin((2 * Math.PI) / S),
                    N = 0;
                  N < w;
                  N += S
                )
                  for (var Q = g, re = m, O = 0; O < P; O++) {
                    var Z = l[N + O],
                      $ = p[N + O],
                      W = l[N + O + P],
                      J = p[N + O + P],
                      x = Q * W - re * J;
                    (J = Q * J + re * W),
                      (W = x),
                      (l[N + O] = Z + W),
                      (p[N + O] = $ + J),
                      (l[N + O + P] = Z - W),
                      (p[N + O + P] = $ - J),
                      O !== S &&
                        ((x = g * Q - m * re), (re = g * re + m * Q), (Q = x));
                  }
            }),
            (F.prototype.guessLen13b = function (y, c) {
              var l = Math.max(c, y) | 1,
                p = l & 1,
                w = 0;
              for (l = (l / 2) | 0; l; l = l >>> 1) w++;
              return 1 << (w + 1 + p);
            }),
            (F.prototype.conjugate = function (y, c, l) {
              if (!(l <= 1))
                for (var p = 0; p < l / 2; p++) {
                  var w = y[p];
                  (y[p] = y[l - p - 1]),
                    (y[l - p - 1] = w),
                    (w = c[p]),
                    (c[p] = -c[l - p - 1]),
                    (c[l - p - 1] = -w);
                }
            }),
            (F.prototype.normalize13b = function (y, c) {
              for (var l = 0, p = 0; p < c / 2; p++) {
                var w =
                  Math.round(y[2 * p + 1] / c) * 8192 +
                  Math.round(y[2 * p] / c) +
                  l;
                (y[p] = w & 67108863),
                  w < 67108864 ? (l = 0) : (l = (w / 67108864) | 0);
              }
              return y;
            }),
            (F.prototype.convert13b = function (y, c, l, p) {
              for (var w = 0, A = 0; A < c; A++)
                (w = w + (y[A] | 0)),
                  (l[2 * A] = w & 8191),
                  (w = w >>> 13),
                  (l[2 * A + 1] = w & 8191),
                  (w = w >>> 13);
              for (A = 2 * c; A < p; ++A) l[A] = 0;
              i(w === 0), i((w & -8192) === 0);
            }),
            (F.prototype.stub = function (y) {
              for (var c = new Array(y), l = 0; l < y; l++) c[l] = 0;
              return c;
            }),
            (F.prototype.mulp = function (y, c, l) {
              var p = 2 * this.guessLen13b(y.length, c.length),
                w = this.makeRBT(p),
                A = this.stub(p),
                P = new Array(p),
                S = new Array(p),
                g = new Array(p),
                m = new Array(p),
                N = new Array(p),
                Q = new Array(p),
                re = l.words;
              (re.length = p),
                this.convert13b(y.words, y.length, P, p),
                this.convert13b(c.words, c.length, m, p),
                this.transform(P, A, S, g, p, w),
                this.transform(m, A, N, Q, p, w);
              for (var O = 0; O < p; O++) {
                var Z = S[O] * N[O] - g[O] * Q[O];
                (g[O] = S[O] * Q[O] + g[O] * N[O]), (S[O] = Z);
              }
              return (
                this.conjugate(S, g, p),
                this.transform(S, g, re, A, p, w),
                this.conjugate(re, A, p),
                this.normalize13b(re, p),
                (l.negative = y.negative ^ c.negative),
                (l.length = y.length + c.length),
                l.strip()
              );
            }),
            (a.prototype.mul = function (y) {
              var c = new a(null);
              return (
                (c.words = new Array(this.length + y.length)), this.mulTo(y, c)
              );
            }),
            (a.prototype.mulf = function (y) {
              var c = new a(null);
              return (
                (c.words = new Array(this.length + y.length)), V(this, y, c)
              );
            }),
            (a.prototype.imul = function (y) {
              return this.clone().mulTo(y, this);
            }),
            (a.prototype.imuln = function (y) {
              i(typeof y == "number"), i(y < 67108864);
              for (var c = 0, l = 0; l < this.length; l++) {
                var p = (this.words[l] | 0) * y,
                  w = (p & 67108863) + (c & 67108863);
                (c >>= 26),
                  (c += (p / 67108864) | 0),
                  (c += w >>> 26),
                  (this.words[l] = w & 67108863);
              }
              return c !== 0 && ((this.words[l] = c), this.length++), this;
            }),
            (a.prototype.muln = function (y) {
              return this.clone().imuln(y);
            }),
            (a.prototype.sqr = function () {
              return this.mul(this);
            }),
            (a.prototype.isqr = function () {
              return this.imul(this.clone());
            }),
            (a.prototype.pow = function (y) {
              var c = M(y);
              if (c.length === 0) return new a(1);
              for (
                var l = this, p = 0;
                p < c.length && c[p] === 0;
                p++, l = l.sqr()
              );
              if (++p < c.length)
                for (var w = l.sqr(); p < c.length; p++, w = w.sqr())
                  c[p] !== 0 && (l = l.mul(w));
              return l;
            }),
            (a.prototype.iushln = function (y) {
              i(typeof y == "number" && y >= 0);
              var c = y % 26,
                l = (y - c) / 26,
                p = (67108863 >>> (26 - c)) << (26 - c),
                w;
              if (c !== 0) {
                var A = 0;
                for (w = 0; w < this.length; w++) {
                  var P = this.words[w] & p,
                    S = ((this.words[w] | 0) - P) << c;
                  (this.words[w] = S | A), (A = P >>> (26 - c));
                }
                A && ((this.words[w] = A), this.length++);
              }
              if (l !== 0) {
                for (w = this.length - 1; w >= 0; w--)
                  this.words[w + l] = this.words[w];
                for (w = 0; w < l; w++) this.words[w] = 0;
                this.length += l;
              }
              return this.strip();
            }),
            (a.prototype.ishln = function (y) {
              return i(this.negative === 0), this.iushln(y);
            }),
            (a.prototype.iushrn = function (y, c, l) {
              i(typeof y == "number" && y >= 0);
              var p;
              c ? (p = (c - (c % 26)) / 26) : (p = 0);
              var w = y % 26,
                A = Math.min((y - w) / 26, this.length),
                P = 67108863 ^ ((67108863 >>> w) << w),
                S = l;
              if (((p -= A), (p = Math.max(0, p)), S)) {
                for (var g = 0; g < A; g++) S.words[g] = this.words[g];
                S.length = A;
              }
              if (A !== 0)
                if (this.length > A)
                  for (this.length -= A, g = 0; g < this.length; g++)
                    this.words[g] = this.words[g + A];
                else (this.words[0] = 0), (this.length = 1);
              var m = 0;
              for (g = this.length - 1; g >= 0 && (m !== 0 || g >= p); g--) {
                var N = this.words[g] | 0;
                (this.words[g] = (m << (26 - w)) | (N >>> w)), (m = N & P);
              }
              return (
                S && m !== 0 && (S.words[S.length++] = m),
                this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
                this.strip()
              );
            }),
            (a.prototype.ishrn = function (y, c, l) {
              return i(this.negative === 0), this.iushrn(y, c, l);
            }),
            (a.prototype.shln = function (y) {
              return this.clone().ishln(y);
            }),
            (a.prototype.ushln = function (y) {
              return this.clone().iushln(y);
            }),
            (a.prototype.shrn = function (y) {
              return this.clone().ishrn(y);
            }),
            (a.prototype.ushrn = function (y) {
              return this.clone().iushrn(y);
            }),
            (a.prototype.testn = function (y) {
              i(typeof y == "number" && y >= 0);
              var c = y % 26,
                l = (y - c) / 26,
                p = 1 << c;
              if (this.length <= l) return !1;
              var w = this.words[l];
              return !!(w & p);
            }),
            (a.prototype.imaskn = function (y) {
              i(typeof y == "number" && y >= 0);
              var c = y % 26,
                l = (y - c) / 26;
              if (
                (i(
                  this.negative === 0,
                  "imaskn works only with positive numbers",
                ),
                this.length <= l)
              )
                return this;
              if (
                (c !== 0 && l++,
                (this.length = Math.min(l, this.length)),
                c !== 0)
              ) {
                var p = 67108863 ^ ((67108863 >>> c) << c);
                this.words[this.length - 1] &= p;
              }
              return this.strip();
            }),
            (a.prototype.maskn = function (y) {
              return this.clone().imaskn(y);
            }),
            (a.prototype.iaddn = function (y) {
              return (
                i(typeof y == "number"),
                i(y < 67108864),
                y < 0
                  ? this.isubn(-y)
                  : this.negative !== 0
                    ? this.length === 1 && (this.words[0] | 0) < y
                      ? ((this.words[0] = y - (this.words[0] | 0)),
                        (this.negative = 0),
                        this)
                      : ((this.negative = 0),
                        this.isubn(y),
                        (this.negative = 1),
                        this)
                    : this._iaddn(y)
              );
            }),
            (a.prototype._iaddn = function (y) {
              this.words[0] += y;
              for (var c = 0; c < this.length && this.words[c] >= 67108864; c++)
                (this.words[c] -= 67108864),
                  c === this.length - 1
                    ? (this.words[c + 1] = 1)
                    : this.words[c + 1]++;
              return (this.length = Math.max(this.length, c + 1)), this;
            }),
            (a.prototype.isubn = function (y) {
              if ((i(typeof y == "number"), i(y < 67108864), y < 0))
                return this.iaddn(-y);
              if (this.negative !== 0)
                return (
                  (this.negative = 0), this.iaddn(y), (this.negative = 1), this
                );
              if (
                ((this.words[0] -= y), this.length === 1 && this.words[0] < 0)
              )
                (this.words[0] = -this.words[0]), (this.negative = 1);
              else
                for (var c = 0; c < this.length && this.words[c] < 0; c++)
                  (this.words[c] += 67108864), (this.words[c + 1] -= 1);
              return this.strip();
            }),
            (a.prototype.addn = function (y) {
              return this.clone().iaddn(y);
            }),
            (a.prototype.subn = function (y) {
              return this.clone().isubn(y);
            }),
            (a.prototype.iabs = function () {
              return (this.negative = 0), this;
            }),
            (a.prototype.abs = function () {
              return this.clone().iabs();
            }),
            (a.prototype._ishlnsubmul = function (y, c, l) {
              var p = y.length + l,
                w;
              this._expand(p);
              var A,
                P = 0;
              for (w = 0; w < y.length; w++) {
                A = (this.words[w + l] | 0) + P;
                var S = (y.words[w] | 0) * c;
                (A -= S & 67108863),
                  (P = (A >> 26) - ((S / 67108864) | 0)),
                  (this.words[w + l] = A & 67108863);
              }
              for (; w < this.length - l; w++)
                (A = (this.words[w + l] | 0) + P),
                  (P = A >> 26),
                  (this.words[w + l] = A & 67108863);
              if (P === 0) return this.strip();
              for (i(P === -1), P = 0, w = 0; w < this.length; w++)
                (A = -(this.words[w] | 0) + P),
                  (P = A >> 26),
                  (this.words[w] = A & 67108863);
              return (this.negative = 1), this.strip();
            }),
            (a.prototype._wordDiv = function (y, c) {
              var l = this.length - y.length,
                p = this.clone(),
                w = y,
                A = w.words[w.length - 1] | 0,
                P = this._countBits(A);
              (l = 26 - P),
                l !== 0 &&
                  ((w = w.ushln(l)),
                  p.iushln(l),
                  (A = w.words[w.length - 1] | 0));
              var S = p.length - w.length,
                g;
              if (c !== "mod") {
                (g = new a(null)),
                  (g.length = S + 1),
                  (g.words = new Array(g.length));
                for (var m = 0; m < g.length; m++) g.words[m] = 0;
              }
              var N = p.clone()._ishlnsubmul(w, 1, S);
              N.negative === 0 && ((p = N), g && (g.words[S] = 1));
              for (var Q = S - 1; Q >= 0; Q--) {
                var re =
                  (p.words[w.length + Q] | 0) * 67108864 +
                  (p.words[w.length + Q - 1] | 0);
                for (
                  re = Math.min((re / A) | 0, 67108863),
                    p._ishlnsubmul(w, re, Q);
                  p.negative !== 0;

                )
                  re--,
                    (p.negative = 0),
                    p._ishlnsubmul(w, 1, Q),
                    p.isZero() || (p.negative ^= 1);
                g && (g.words[Q] = re);
              }
              return (
                g && g.strip(),
                p.strip(),
                c !== "div" && l !== 0 && p.iushrn(l),
                { div: g || null, mod: p }
              );
            }),
            (a.prototype.divmod = function (y, c, l) {
              if ((i(!y.isZero()), this.isZero()))
                return { div: new a(0), mod: new a(0) };
              var p, w, A;
              return this.negative !== 0 && y.negative === 0
                ? ((A = this.neg().divmod(y, c)),
                  c !== "mod" && (p = A.div.neg()),
                  c !== "div" &&
                    ((w = A.mod.neg()), l && w.negative !== 0 && w.iadd(y)),
                  { div: p, mod: w })
                : this.negative === 0 && y.negative !== 0
                  ? ((A = this.divmod(y.neg(), c)),
                    c !== "mod" && (p = A.div.neg()),
                    { div: p, mod: A.mod })
                  : (this.negative & y.negative) !== 0
                    ? ((A = this.neg().divmod(y.neg(), c)),
                      c !== "div" &&
                        ((w = A.mod.neg()), l && w.negative !== 0 && w.isub(y)),
                      { div: A.div, mod: w })
                    : y.length > this.length || this.cmp(y) < 0
                      ? { div: new a(0), mod: this }
                      : y.length === 1
                        ? c === "div"
                          ? { div: this.divn(y.words[0]), mod: null }
                          : c === "mod"
                            ? { div: null, mod: new a(this.modn(y.words[0])) }
                            : {
                                div: this.divn(y.words[0]),
                                mod: new a(this.modn(y.words[0])),
                              }
                        : this._wordDiv(y, c);
            }),
            (a.prototype.div = function (y) {
              return this.divmod(y, "div", !1).div;
            }),
            (a.prototype.mod = function (y) {
              return this.divmod(y, "mod", !1).mod;
            }),
            (a.prototype.umod = function (y) {
              return this.divmod(y, "mod", !0).mod;
            }),
            (a.prototype.divRound = function (y) {
              var c = this.divmod(y);
              if (c.mod.isZero()) return c.div;
              var l = c.div.negative !== 0 ? c.mod.isub(y) : c.mod,
                p = y.ushrn(1),
                w = y.andln(1),
                A = l.cmp(p);
              return A < 0 || (w === 1 && A === 0)
                ? c.div
                : c.div.negative !== 0
                  ? c.div.isubn(1)
                  : c.div.iaddn(1);
            }),
            (a.prototype.modn = function (y) {
              i(y <= 67108863);
              for (
                var c = (1 << 26) % y, l = 0, p = this.length - 1;
                p >= 0;
                p--
              )
                l = (c * l + (this.words[p] | 0)) % y;
              return l;
            }),
            (a.prototype.idivn = function (y) {
              i(y <= 67108863);
              for (var c = 0, l = this.length - 1; l >= 0; l--) {
                var p = (this.words[l] | 0) + c * 67108864;
                (this.words[l] = (p / y) | 0), (c = p % y);
              }
              return this.strip();
            }),
            (a.prototype.divn = function (y) {
              return this.clone().idivn(y);
            }),
            (a.prototype.egcd = function (y) {
              i(y.negative === 0), i(!y.isZero());
              var c = this,
                l = y.clone();
              c.negative !== 0 ? (c = c.umod(y)) : (c = c.clone());
              for (
                var p = new a(1),
                  w = new a(0),
                  A = new a(0),
                  P = new a(1),
                  S = 0;
                c.isEven() && l.isEven();

              )
                c.iushrn(1), l.iushrn(1), ++S;
              for (var g = l.clone(), m = c.clone(); !c.isZero(); ) {
                for (
                  var N = 0, Q = 1;
                  (c.words[0] & Q) === 0 && N < 26;
                  ++N, Q <<= 1
                );
                if (N > 0)
                  for (c.iushrn(N); N-- > 0; )
                    (p.isOdd() || w.isOdd()) && (p.iadd(g), w.isub(m)),
                      p.iushrn(1),
                      w.iushrn(1);
                for (
                  var re = 0, O = 1;
                  (l.words[0] & O) === 0 && re < 26;
                  ++re, O <<= 1
                );
                if (re > 0)
                  for (l.iushrn(re); re-- > 0; )
                    (A.isOdd() || P.isOdd()) && (A.iadd(g), P.isub(m)),
                      A.iushrn(1),
                      P.iushrn(1);
                c.cmp(l) >= 0
                  ? (c.isub(l), p.isub(A), w.isub(P))
                  : (l.isub(c), A.isub(p), P.isub(w));
              }
              return { a: A, b: P, gcd: l.iushln(S) };
            }),
            (a.prototype._invmp = function (y) {
              i(y.negative === 0), i(!y.isZero());
              var c = this,
                l = y.clone();
              c.negative !== 0 ? (c = c.umod(y)) : (c = c.clone());
              for (
                var p = new a(1), w = new a(0), A = l.clone();
                c.cmpn(1) > 0 && l.cmpn(1) > 0;

              ) {
                for (
                  var P = 0, S = 1;
                  (c.words[0] & S) === 0 && P < 26;
                  ++P, S <<= 1
                );
                if (P > 0)
                  for (c.iushrn(P); P-- > 0; )
                    p.isOdd() && p.iadd(A), p.iushrn(1);
                for (
                  var g = 0, m = 1;
                  (l.words[0] & m) === 0 && g < 26;
                  ++g, m <<= 1
                );
                if (g > 0)
                  for (l.iushrn(g); g-- > 0; )
                    w.isOdd() && w.iadd(A), w.iushrn(1);
                c.cmp(l) >= 0 ? (c.isub(l), p.isub(w)) : (l.isub(c), w.isub(p));
              }
              var N;
              return (
                c.cmpn(1) === 0 ? (N = p) : (N = w),
                N.cmpn(0) < 0 && N.iadd(y),
                N
              );
            }),
            (a.prototype.gcd = function (y) {
              if (this.isZero()) return y.abs();
              if (y.isZero()) return this.abs();
              var c = this.clone(),
                l = y.clone();
              (c.negative = 0), (l.negative = 0);
              for (var p = 0; c.isEven() && l.isEven(); p++)
                c.iushrn(1), l.iushrn(1);
              do {
                for (; c.isEven(); ) c.iushrn(1);
                for (; l.isEven(); ) l.iushrn(1);
                var w = c.cmp(l);
                if (w < 0) {
                  var A = c;
                  (c = l), (l = A);
                } else if (w === 0 || l.cmpn(1) === 0) break;
                c.isub(l);
              } while (!0);
              return l.iushln(p);
            }),
            (a.prototype.invm = function (y) {
              return this.egcd(y).a.umod(y);
            }),
            (a.prototype.isEven = function () {
              return (this.words[0] & 1) === 0;
            }),
            (a.prototype.isOdd = function () {
              return (this.words[0] & 1) === 1;
            }),
            (a.prototype.andln = function (y) {
              return this.words[0] & y;
            }),
            (a.prototype.bincn = function (y) {
              i(typeof y == "number");
              var c = y % 26,
                l = (y - c) / 26,
                p = 1 << c;
              if (this.length <= l)
                return this._expand(l + 1), (this.words[l] |= p), this;
              for (var w = p, A = l; w !== 0 && A < this.length; A++) {
                var P = this.words[A] | 0;
                (P += w), (w = P >>> 26), (P &= 67108863), (this.words[A] = P);
              }
              return w !== 0 && ((this.words[A] = w), this.length++), this;
            }),
            (a.prototype.isZero = function () {
              return this.length === 1 && this.words[0] === 0;
            }),
            (a.prototype.cmpn = function (y) {
              var c = y < 0;
              if (this.negative !== 0 && !c) return -1;
              if (this.negative === 0 && c) return 1;
              this.strip();
              var l;
              if (this.length > 1) l = 1;
              else {
                c && (y = -y), i(y <= 67108863, "Number is too big");
                var p = this.words[0] | 0;
                l = p === y ? 0 : p < y ? -1 : 1;
              }
              return this.negative !== 0 ? -l | 0 : l;
            }),
            (a.prototype.cmp = function (y) {
              if (this.negative !== 0 && y.negative === 0) return -1;
              if (this.negative === 0 && y.negative !== 0) return 1;
              var c = this.ucmp(y);
              return this.negative !== 0 ? -c | 0 : c;
            }),
            (a.prototype.ucmp = function (y) {
              if (this.length > y.length) return 1;
              if (this.length < y.length) return -1;
              for (var c = 0, l = this.length - 1; l >= 0; l--) {
                var p = this.words[l] | 0,
                  w = y.words[l] | 0;
                if (p !== w) {
                  p < w ? (c = -1) : p > w && (c = 1);
                  break;
                }
              }
              return c;
            }),
            (a.prototype.gtn = function (y) {
              return this.cmpn(y) === 1;
            }),
            (a.prototype.gt = function (y) {
              return this.cmp(y) === 1;
            }),
            (a.prototype.gten = function (y) {
              return this.cmpn(y) >= 0;
            }),
            (a.prototype.gte = function (y) {
              return this.cmp(y) >= 0;
            }),
            (a.prototype.ltn = function (y) {
              return this.cmpn(y) === -1;
            }),
            (a.prototype.lt = function (y) {
              return this.cmp(y) === -1;
            }),
            (a.prototype.lten = function (y) {
              return this.cmpn(y) <= 0;
            }),
            (a.prototype.lte = function (y) {
              return this.cmp(y) <= 0;
            }),
            (a.prototype.eqn = function (y) {
              return this.cmpn(y) === 0;
            }),
            (a.prototype.eq = function (y) {
              return this.cmp(y) === 0;
            }),
            (a.red = function (y) {
              return new te(y);
            }),
            (a.prototype.toRed = function (y) {
              return (
                i(!this.red, "Already a number in reduction context"),
                i(this.negative === 0, "red works only with positives"),
                y.convertTo(this)._forceRed(y)
              );
            }),
            (a.prototype.fromRed = function () {
              return (
                i(
                  this.red,
                  "fromRed works only with numbers in reduction context",
                ),
                this.red.convertFrom(this)
              );
            }),
            (a.prototype._forceRed = function (y) {
              return (this.red = y), this;
            }),
            (a.prototype.forceRed = function (y) {
              return (
                i(!this.red, "Already a number in reduction context"),
                this._forceRed(y)
              );
            }),
            (a.prototype.redAdd = function (y) {
              return (
                i(this.red, "redAdd works only with red numbers"),
                this.red.add(this, y)
              );
            }),
            (a.prototype.redIAdd = function (y) {
              return (
                i(this.red, "redIAdd works only with red numbers"),
                this.red.iadd(this, y)
              );
            }),
            (a.prototype.redSub = function (y) {
              return (
                i(this.red, "redSub works only with red numbers"),
                this.red.sub(this, y)
              );
            }),
            (a.prototype.redISub = function (y) {
              return (
                i(this.red, "redISub works only with red numbers"),
                this.red.isub(this, y)
              );
            }),
            (a.prototype.redShl = function (y) {
              return (
                i(this.red, "redShl works only with red numbers"),
                this.red.shl(this, y)
              );
            }),
            (a.prototype.redMul = function (y) {
              return (
                i(this.red, "redMul works only with red numbers"),
                this.red._verify2(this, y),
                this.red.mul(this, y)
              );
            }),
            (a.prototype.redIMul = function (y) {
              return (
                i(this.red, "redMul works only with red numbers"),
                this.red._verify2(this, y),
                this.red.imul(this, y)
              );
            }),
            (a.prototype.redSqr = function () {
              return (
                i(this.red, "redSqr works only with red numbers"),
                this.red._verify1(this),
                this.red.sqr(this)
              );
            }),
            (a.prototype.redISqr = function () {
              return (
                i(this.red, "redISqr works only with red numbers"),
                this.red._verify1(this),
                this.red.isqr(this)
              );
            }),
            (a.prototype.redSqrt = function () {
              return (
                i(this.red, "redSqrt works only with red numbers"),
                this.red._verify1(this),
                this.red.sqrt(this)
              );
            }),
            (a.prototype.redInvm = function () {
              return (
                i(this.red, "redInvm works only with red numbers"),
                this.red._verify1(this),
                this.red.invm(this)
              );
            }),
            (a.prototype.redNeg = function () {
              return (
                i(this.red, "redNeg works only with red numbers"),
                this.red._verify1(this),
                this.red.neg(this)
              );
            }),
            (a.prototype.redPow = function (y) {
              return (
                i(this.red && !y.red, "redPow(normalNum)"),
                this.red._verify1(this),
                this.red.pow(this, y)
              );
            });
          var K = { k256: null, p224: null, p192: null, p25519: null };
          function B(k, y) {
            (this.name = k),
              (this.p = new a(y, 16)),
              (this.n = this.p.bitLength()),
              (this.k = new a(1).iushln(this.n).isub(this.p)),
              (this.tmp = this._tmp());
          }
          (B.prototype._tmp = function () {
            var y = new a(null);
            return (y.words = new Array(Math.ceil(this.n / 13))), y;
          }),
            (B.prototype.ireduce = function (y) {
              var c = y,
                l;
              do
                this.split(c, this.tmp),
                  (c = this.imulK(c)),
                  (c = c.iadd(this.tmp)),
                  (l = c.bitLength());
              while (l > this.n);
              var p = l < this.n ? -1 : c.ucmp(this.p);
              return (
                p === 0
                  ? ((c.words[0] = 0), (c.length = 1))
                  : p > 0
                    ? c.isub(this.p)
                    : c.strip !== void 0
                      ? c.strip()
                      : c._strip(),
                c
              );
            }),
            (B.prototype.split = function (y, c) {
              y.iushrn(this.n, 0, c);
            }),
            (B.prototype.imulK = function (y) {
              return y.imul(this.k);
            });
          function z() {
            B.call(
              this,
              "k256",
              "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
            );
          }
          s(z, B),
            (z.prototype.split = function (y, c) {
              for (
                var l = 4194303, p = Math.min(y.length, 9), w = 0;
                w < p;
                w++
              )
                c.words[w] = y.words[w];
              if (((c.length = p), y.length <= 9)) {
                (y.words[0] = 0), (y.length = 1);
                return;
              }
              var A = y.words[9];
              for (c.words[c.length++] = A & l, w = 10; w < y.length; w++) {
                var P = y.words[w] | 0;
                (y.words[w - 10] = ((P & l) << 4) | (A >>> 22)), (A = P);
              }
              (A >>>= 22),
                (y.words[w - 10] = A),
                A === 0 && y.length > 10 ? (y.length -= 10) : (y.length -= 9);
            }),
            (z.prototype.imulK = function (y) {
              (y.words[y.length] = 0),
                (y.words[y.length + 1] = 0),
                (y.length += 2);
              for (var c = 0, l = 0; l < y.length; l++) {
                var p = y.words[l] | 0;
                (c += p * 977),
                  (y.words[l] = c & 67108863),
                  (c = p * 64 + ((c / 67108864) | 0));
              }
              return (
                y.words[y.length - 1] === 0 &&
                  (y.length--, y.words[y.length - 1] === 0 && y.length--),
                y
              );
            });
          function q() {
            B.call(
              this,
              "p224",
              "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
            );
          }
          s(q, B);
          function E() {
            B.call(
              this,
              "p192",
              "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
            );
          }
          s(E, B);
          function U() {
            B.call(
              this,
              "25519",
              "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            );
          }
          s(U, B),
            (U.prototype.imulK = function (y) {
              for (var c = 0, l = 0; l < y.length; l++) {
                var p = (y.words[l] | 0) * 19 + c,
                  w = p & 67108863;
                (p >>>= 26), (y.words[l] = w), (c = p);
              }
              return c !== 0 && (y.words[y.length++] = c), y;
            }),
            (a._prime = function (y) {
              if (K[y]) return K[y];
              var c;
              if (y === "k256") c = new z();
              else if (y === "p224") c = new q();
              else if (y === "p192") c = new E();
              else if (y === "p25519") c = new U();
              else throw new Error("Unknown prime " + y);
              return (K[y] = c), c;
            });
          function te(k) {
            if (typeof k == "string") {
              var y = a._prime(k);
              (this.m = y.p), (this.prime = y);
            } else
              i(k.gtn(1), "modulus must be greater than 1"),
                (this.m = k),
                (this.prime = null);
          }
          (te.prototype._verify1 = function (y) {
            i(y.negative === 0, "red works only with positives"),
              i(y.red, "red works only with red numbers");
          }),
            (te.prototype._verify2 = function (y, c) {
              i(
                (y.negative | c.negative) === 0,
                "red works only with positives",
              ),
                i(y.red && y.red === c.red, "red works only with red numbers");
            }),
            (te.prototype.imod = function (y) {
              return this.prime
                ? this.prime.ireduce(y)._forceRed(this)
                : y.umod(this.m)._forceRed(this);
            }),
            (te.prototype.neg = function (y) {
              return y.isZero() ? y.clone() : this.m.sub(y)._forceRed(this);
            }),
            (te.prototype.add = function (y, c) {
              this._verify2(y, c);
              var l = y.add(c);
              return l.cmp(this.m) >= 0 && l.isub(this.m), l._forceRed(this);
            }),
            (te.prototype.iadd = function (y, c) {
              this._verify2(y, c);
              var l = y.iadd(c);
              return l.cmp(this.m) >= 0 && l.isub(this.m), l;
            }),
            (te.prototype.sub = function (y, c) {
              this._verify2(y, c);
              var l = y.sub(c);
              return l.cmpn(0) < 0 && l.iadd(this.m), l._forceRed(this);
            }),
            (te.prototype.isub = function (y, c) {
              this._verify2(y, c);
              var l = y.isub(c);
              return l.cmpn(0) < 0 && l.iadd(this.m), l;
            }),
            (te.prototype.shl = function (y, c) {
              return this._verify1(y), this.imod(y.ushln(c));
            }),
            (te.prototype.imul = function (y, c) {
              return this._verify2(y, c), this.imod(y.imul(c));
            }),
            (te.prototype.mul = function (y, c) {
              return this._verify2(y, c), this.imod(y.mul(c));
            }),
            (te.prototype.isqr = function (y) {
              return this.imul(y, y.clone());
            }),
            (te.prototype.sqr = function (y) {
              return this.mul(y, y);
            }),
            (te.prototype.sqrt = function (y) {
              if (y.isZero()) return y.clone();
              var c = this.m.andln(3);
              if ((i(c % 2 === 1), c === 3)) {
                var l = this.m.add(new a(1)).iushrn(2);
                return this.pow(y, l);
              }
              for (
                var p = this.m.subn(1), w = 0;
                !p.isZero() && p.andln(1) === 0;

              )
                w++, p.iushrn(1);
              i(!p.isZero());
              var A = new a(1).toRed(this),
                P = A.redNeg(),
                S = this.m.subn(1).iushrn(1),
                g = this.m.bitLength();
              for (
                g = new a(2 * g * g).toRed(this);
                this.pow(g, S).cmp(P) !== 0;

              )
                g.redIAdd(P);
              for (
                var m = this.pow(g, p),
                  N = this.pow(y, p.addn(1).iushrn(1)),
                  Q = this.pow(y, p),
                  re = w;
                Q.cmp(A) !== 0;

              ) {
                for (var O = Q, Z = 0; O.cmp(A) !== 0; Z++) O = O.redSqr();
                i(Z < re);
                var $ = this.pow(m, new a(1).iushln(re - Z - 1));
                (N = N.redMul($)),
                  (m = $.redSqr()),
                  (Q = Q.redMul(m)),
                  (re = Z);
              }
              return N;
            }),
            (te.prototype.invm = function (y) {
              var c = y._invmp(this.m);
              return c.negative !== 0
                ? ((c.negative = 0), this.imod(c).redNeg())
                : this.imod(c);
            }),
            (te.prototype.pow = function (y, c) {
              if (c.isZero()) return new a(1).toRed(this);
              if (c.cmpn(1) === 0) return y.clone();
              var l = 4,
                p = new Array(1 << l);
              (p[0] = new a(1).toRed(this)), (p[1] = y);
              for (var w = 2; w < p.length; w++) p[w] = this.mul(p[w - 1], y);
              var A = p[0],
                P = 0,
                S = 0,
                g = c.bitLength() % 26;
              for (g === 0 && (g = 26), w = c.length - 1; w >= 0; w--) {
                for (var m = c.words[w], N = g - 1; N >= 0; N--) {
                  var Q = (m >> N) & 1;
                  if ((A !== p[0] && (A = this.sqr(A)), Q === 0 && P === 0)) {
                    S = 0;
                    continue;
                  }
                  (P <<= 1),
                    (P |= Q),
                    S++,
                    !(S !== l && (w !== 0 || N !== 0)) &&
                      ((A = this.mul(A, p[P])), (S = 0), (P = 0));
                }
                g = 26;
              }
              return A;
            }),
            (te.prototype.convertTo = function (y) {
              var c = y.umod(this.m);
              return c === y ? c.clone() : c;
            }),
            (te.prototype.convertFrom = function (y) {
              var c = y.clone();
              return (c.red = null), c;
            }),
            (a.mont = function (y) {
              return new oe(y);
            });
          function oe(k) {
            te.call(this, k),
              (this.shift = this.m.bitLength()),
              this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
              (this.r = new a(1).iushln(this.shift)),
              (this.r2 = this.imod(this.r.sqr())),
              (this.rinv = this.r._invmp(this.m)),
              (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
              (this.minv = this.minv.umod(this.r)),
              (this.minv = this.r.sub(this.minv));
          }
          s(oe, te),
            (oe.prototype.convertTo = function (y) {
              return this.imod(y.ushln(this.shift));
            }),
            (oe.prototype.convertFrom = function (y) {
              var c = this.imod(y.mul(this.rinv));
              return (c.red = null), c;
            }),
            (oe.prototype.imul = function (y, c) {
              if (y.isZero() || c.isZero())
                return (y.words[0] = 0), (y.length = 1), y;
              var l = y.imul(c),
                p = l
                  .maskn(this.shift)
                  .mul(this.minv)
                  .imaskn(this.shift)
                  .mul(this.m),
                w = l.isub(p).iushrn(this.shift),
                A = w;
              return (
                w.cmp(this.m) >= 0
                  ? (A = w.isub(this.m))
                  : w.cmpn(0) < 0 && (A = w.iadd(this.m)),
                A._forceRed(this)
              );
            }),
            (oe.prototype.mul = function (y, c) {
              if (y.isZero() || c.isZero()) return new a(0)._forceRed(this);
              var l = y.mul(c),
                p = l
                  .maskn(this.shift)
                  .mul(this.minv)
                  .imaskn(this.shift)
                  .mul(this.m),
                w = l.isub(p).iushrn(this.shift),
                A = w;
              return (
                w.cmp(this.m) >= 0
                  ? (A = w.isub(this.m))
                  : w.cmpn(0) < 0 && (A = w.iadd(this.m)),
                A._forceRed(this)
              );
            }),
            (oe.prototype.invm = function (y) {
              var c = this.imod(y._invmp(this.m).mul(this.r2));
              return c._forceRed(this);
            });
        })(r, R_);
      })(cu)),
    cu.exports
  );
}
var mh, Qp;
function ks() {
  if (Qp) return mh;
  (Qp = 1), (mh = r);
  function r(e, t) {
    if (!e) throw new Error(t || "Assertion failed");
  }
  return (
    (r.equal = function (t, i, s) {
      if (t != i) throw new Error(s || "Assertion failed: " + t + " != " + i);
    }),
    mh
  );
}
var yh = {},
  Xp;
function Kv() {
  return (
    Xp ||
      ((Xp = 1),
      (function (r) {
        var e = r;
        function t(a, f) {
          if (Array.isArray(a)) return a.slice();
          if (!a) return [];
          var h = [];
          if (typeof a != "string") {
            for (var d = 0; d < a.length; d++) h[d] = a[d] | 0;
            return h;
          }
          if (f === "hex") {
            (a = a.replace(/[^a-z0-9]+/gi, "")),
              a.length % 2 !== 0 && (a = "0" + a);
            for (var d = 0; d < a.length; d += 2)
              h.push(parseInt(a[d] + a[d + 1], 16));
          } else
            for (var d = 0; d < a.length; d++) {
              var u = a.charCodeAt(d),
                b = u >> 8,
                _ = u & 255;
              b ? h.push(b, _) : h.push(_);
            }
          return h;
        }
        e.toArray = t;
        function i(a) {
          return a.length === 1 ? "0" + a : a;
        }
        e.zero2 = i;
        function s(a) {
          for (var f = "", h = 0; h < a.length; h++) f += i(a[h].toString(16));
          return f;
        }
        (e.toHex = s),
          (e.encode = function (f, h) {
            return h === "hex" ? s(f) : f;
          });
      })(yh)),
    yh
  );
}
var Zp;
function Ni() {
  return (
    Zp ||
      ((Zp = 1),
      (function (r) {
        var e = r,
          t = Wn(),
          i = ks(),
          s = Kv();
        (e.assert = i),
          (e.toArray = s.toArray),
          (e.zero2 = s.zero2),
          (e.toHex = s.toHex),
          (e.encode = s.encode);
        function a(b, _, I) {
          var M = new Array(Math.max(b.bitLength(), I) + 1),
            C;
          for (C = 0; C < M.length; C += 1) M[C] = 0;
          var R = 1 << (_ + 1),
            L = b.clone();
          for (C = 0; C < M.length; C++) {
            var V,
              F = L.andln(R - 1);
            L.isOdd()
              ? (F > (R >> 1) - 1 ? (V = (R >> 1) - F) : (V = F), L.isubn(V))
              : (V = 0),
              (M[C] = V),
              L.iushrn(1);
          }
          return M;
        }
        e.getNAF = a;
        function f(b, _) {
          var I = [[], []];
          (b = b.clone()), (_ = _.clone());
          for (var M = 0, C = 0, R; b.cmpn(-M) > 0 || _.cmpn(-C) > 0; ) {
            var L = (b.andln(3) + M) & 3,
              V = (_.andln(3) + C) & 3;
            L === 3 && (L = -1), V === 3 && (V = -1);
            var F;
            (L & 1) === 0
              ? (F = 0)
              : ((R = (b.andln(7) + M) & 7),
                (R === 3 || R === 5) && V === 2 ? (F = -L) : (F = L)),
              I[0].push(F);
            var K;
            (V & 1) === 0
              ? (K = 0)
              : ((R = (_.andln(7) + C) & 7),
                (R === 3 || R === 5) && L === 2 ? (K = -V) : (K = V)),
              I[1].push(K),
              2 * M === F + 1 && (M = 1 - M),
              2 * C === K + 1 && (C = 1 - C),
              b.iushrn(1),
              _.iushrn(1);
          }
          return I;
        }
        e.getJSF = f;
        function h(b, _, I) {
          var M = "_" + _;
          b.prototype[_] = function () {
            return this[M] !== void 0 ? this[M] : (this[M] = I.call(this));
          };
        }
        e.cachedProperty = h;
        function d(b) {
          return typeof b == "string" ? e.toArray(b, "hex") : b;
        }
        e.parseBytes = d;
        function u(b) {
          return new t(b, "hex", "le");
        }
        e.intFromLE = u;
      })(bh)),
    bh
  );
}
var Jc = { exports: {} },
  e1;
function Vv() {
  if (e1) return Jc.exports;
  e1 = 1;
  var r;
  Jc.exports = function (s) {
    return r || (r = new e(null)), r.generate(s);
  };
  function e(i) {
    this.rand = i;
  }
  if (
    ((Jc.exports.Rand = e),
    (e.prototype.generate = function (s) {
      return this._rand(s);
    }),
    (e.prototype._rand = function (s) {
      if (this.rand.getBytes) return this.rand.getBytes(s);
      for (var a = new Uint8Array(s), f = 0; f < a.length; f++)
        a[f] = this.rand.getByte();
      return a;
    }),
    typeof self == "object")
  )
    self.crypto && self.crypto.getRandomValues
      ? (e.prototype._rand = function (s) {
          var a = new Uint8Array(s);
          return self.crypto.getRandomValues(a), a;
        })
      : self.msCrypto && self.msCrypto.getRandomValues
        ? (e.prototype._rand = function (s) {
            var a = new Uint8Array(s);
            return self.msCrypto.getRandomValues(a), a;
          })
        : typeof window == "object" &&
          (e.prototype._rand = function () {
            throw new Error("Not implemented yet");
          });
  else
    try {
      var t = Tv;
      if (typeof t.randomBytes != "function") throw new Error("Not supported");
      e.prototype._rand = function (s) {
        return t.randomBytes(s);
      };
    } catch {}
  return Jc.exports;
}
var wh = {},
  _h,
  t1;
function Tu() {
  if (t1) return _h;
  t1 = 1;
  var r = Wn(),
    e = Ni(),
    t = e.getNAF,
    i = e.getJSF,
    s = e.assert;
  function a(h, d) {
    (this.type = h),
      (this.p = new r(d.p, 16)),
      (this.red = d.prime ? r.red(d.prime) : r.mont(this.p)),
      (this.zero = new r(0).toRed(this.red)),
      (this.one = new r(1).toRed(this.red)),
      (this.two = new r(2).toRed(this.red)),
      (this.n = d.n && new r(d.n, 16)),
      (this.g = d.g && this.pointFromJSON(d.g, d.gRed)),
      (this._wnafT1 = new Array(4)),
      (this._wnafT2 = new Array(4)),
      (this._wnafT3 = new Array(4)),
      (this._wnafT4 = new Array(4)),
      (this._bitLength = this.n ? this.n.bitLength() : 0);
    var u = this.n && this.p.div(this.n);
    !u || u.cmpn(100) > 0
      ? (this.redN = null)
      : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
  }
  (_h = a),
    (a.prototype.point = function () {
      throw new Error("Not implemented");
    }),
    (a.prototype.validate = function () {
      throw new Error("Not implemented");
    }),
    (a.prototype._fixedNafMul = function (d, u) {
      s(d.precomputed);
      var b = d._getDoubles(),
        _ = t(u, 1, this._bitLength),
        I = (1 << (b.step + 1)) - (b.step % 2 === 0 ? 2 : 1);
      I /= 3;
      var M = [],
        C,
        R;
      for (C = 0; C < _.length; C += b.step) {
        R = 0;
        for (var L = C + b.step - 1; L >= C; L--) R = (R << 1) + _[L];
        M.push(R);
      }
      for (
        var V = this.jpoint(null, null, null),
          F = this.jpoint(null, null, null),
          K = I;
        K > 0;
        K--
      ) {
        for (C = 0; C < M.length; C++)
          (R = M[C]),
            R === K
              ? (F = F.mixedAdd(b.points[C]))
              : R === -K && (F = F.mixedAdd(b.points[C].neg()));
        V = V.add(F);
      }
      return V.toP();
    }),
    (a.prototype._wnafMul = function (d, u) {
      var b = 4,
        _ = d._getNAFPoints(b);
      b = _.wnd;
      for (
        var I = _.points,
          M = t(u, b, this._bitLength),
          C = this.jpoint(null, null, null),
          R = M.length - 1;
        R >= 0;
        R--
      ) {
        for (var L = 0; R >= 0 && M[R] === 0; R--) L++;
        if ((R >= 0 && L++, (C = C.dblp(L)), R < 0)) break;
        var V = M[R];
        s(V !== 0),
          d.type === "affine"
            ? V > 0
              ? (C = C.mixedAdd(I[(V - 1) >> 1]))
              : (C = C.mixedAdd(I[(-V - 1) >> 1].neg()))
            : V > 0
              ? (C = C.add(I[(V - 1) >> 1]))
              : (C = C.add(I[(-V - 1) >> 1].neg()));
      }
      return d.type === "affine" ? C.toP() : C;
    }),
    (a.prototype._wnafMulAdd = function (d, u, b, _, I) {
      var M = this._wnafT1,
        C = this._wnafT2,
        R = this._wnafT3,
        L = 0,
        V,
        F,
        K;
      for (V = 0; V < _; V++) {
        K = u[V];
        var B = K._getNAFPoints(d);
        (M[V] = B.wnd), (C[V] = B.points);
      }
      for (V = _ - 1; V >= 1; V -= 2) {
        var z = V - 1,
          q = V;
        if (M[z] !== 1 || M[q] !== 1) {
          (R[z] = t(b[z], M[z], this._bitLength)),
            (R[q] = t(b[q], M[q], this._bitLength)),
            (L = Math.max(R[z].length, L)),
            (L = Math.max(R[q].length, L));
          continue;
        }
        var E = [u[z], null, null, u[q]];
        u[z].y.cmp(u[q].y) === 0
          ? ((E[1] = u[z].add(u[q])), (E[2] = u[z].toJ().mixedAdd(u[q].neg())))
          : u[z].y.cmp(u[q].y.redNeg()) === 0
            ? ((E[1] = u[z].toJ().mixedAdd(u[q])),
              (E[2] = u[z].add(u[q].neg())))
            : ((E[1] = u[z].toJ().mixedAdd(u[q])),
              (E[2] = u[z].toJ().mixedAdd(u[q].neg())));
        var U = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
          te = i(b[z], b[q]);
        for (
          L = Math.max(te[0].length, L),
            R[z] = new Array(L),
            R[q] = new Array(L),
            F = 0;
          F < L;
          F++
        ) {
          var oe = te[0][F] | 0,
            k = te[1][F] | 0;
          (R[z][F] = U[(oe + 1) * 3 + (k + 1)]), (R[q][F] = 0), (C[z] = E);
        }
      }
      var y = this.jpoint(null, null, null),
        c = this._wnafT4;
      for (V = L; V >= 0; V--) {
        for (var l = 0; V >= 0; ) {
          var p = !0;
          for (F = 0; F < _; F++) (c[F] = R[F][V] | 0), c[F] !== 0 && (p = !1);
          if (!p) break;
          l++, V--;
        }
        if ((V >= 0 && l++, (y = y.dblp(l)), V < 0)) break;
        for (F = 0; F < _; F++) {
          var w = c[F];
          w !== 0 &&
            (w > 0
              ? (K = C[F][(w - 1) >> 1])
              : w < 0 && (K = C[F][(-w - 1) >> 1].neg()),
            K.type === "affine" ? (y = y.mixedAdd(K)) : (y = y.add(K)));
        }
      }
      for (V = 0; V < _; V++) C[V] = null;
      return I ? y : y.toP();
    });
  function f(h, d) {
    (this.curve = h), (this.type = d), (this.precomputed = null);
  }
  return (
    (a.BasePoint = f),
    (f.prototype.eq = function () {
      throw new Error("Not implemented");
    }),
    (f.prototype.validate = function () {
      return this.curve.validate(this);
    }),
    (a.prototype.decodePoint = function (d, u) {
      d = e.toArray(d, u);
      var b = this.p.byteLength();
      if ((d[0] === 4 || d[0] === 6 || d[0] === 7) && d.length - 1 === 2 * b) {
        d[0] === 6
          ? s(d[d.length - 1] % 2 === 0)
          : d[0] === 7 && s(d[d.length - 1] % 2 === 1);
        var _ = this.point(d.slice(1, 1 + b), d.slice(1 + b, 1 + 2 * b));
        return _;
      } else if ((d[0] === 2 || d[0] === 3) && d.length - 1 === b)
        return this.pointFromX(d.slice(1, 1 + b), d[0] === 3);
      throw new Error("Unknown point format");
    }),
    (f.prototype.encodeCompressed = function (d) {
      return this.encode(d, !0);
    }),
    (f.prototype._encode = function (d) {
      var u = this.curve.p.byteLength(),
        b = this.getX().toArray("be", u);
      return d
        ? [this.getY().isEven() ? 2 : 3].concat(b)
        : [4].concat(b, this.getY().toArray("be", u));
    }),
    (f.prototype.encode = function (d, u) {
      return e.encode(this._encode(u), d);
    }),
    (f.prototype.precompute = function (d) {
      if (this.precomputed) return this;
      var u = { doubles: null, naf: null, beta: null };
      return (
        (u.naf = this._getNAFPoints(8)),
        (u.doubles = this._getDoubles(4, d)),
        (u.beta = this._getBeta()),
        (this.precomputed = u),
        this
      );
    }),
    (f.prototype._hasDoubles = function (d) {
      if (!this.precomputed) return !1;
      var u = this.precomputed.doubles;
      return u
        ? u.points.length >= Math.ceil((d.bitLength() + 1) / u.step)
        : !1;
    }),
    (f.prototype._getDoubles = function (d, u) {
      if (this.precomputed && this.precomputed.doubles)
        return this.precomputed.doubles;
      for (var b = [this], _ = this, I = 0; I < u; I += d) {
        for (var M = 0; M < d; M++) _ = _.dbl();
        b.push(_);
      }
      return { step: d, points: b };
    }),
    (f.prototype._getNAFPoints = function (d) {
      if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
      for (
        var u = [this],
          b = (1 << d) - 1,
          _ = b === 1 ? null : this.dbl(),
          I = 1;
        I < b;
        I++
      )
        u[I] = u[I - 1].add(_);
      return { wnd: d, points: u };
    }),
    (f.prototype._getBeta = function () {
      return null;
    }),
    (f.prototype.dblp = function (d) {
      for (var u = this, b = 0; b < d; b++) u = u.dbl();
      return u;
    }),
    _h
  );
}
var Ah, r1;
function N_() {
  if (r1) return Ah;
  r1 = 1;
  var r = Ni(),
    e = Wn(),
    t = Ou(),
    i = Tu(),
    s = r.assert;
  function a(d) {
    i.call(this, "short", d),
      (this.a = new e(d.a, 16).toRed(this.red)),
      (this.b = new e(d.b, 16).toRed(this.red)),
      (this.tinv = this.two.redInvm()),
      (this.zeroA = this.a.fromRed().cmpn(0) === 0),
      (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
      (this.endo = this._getEndomorphism(d)),
      (this._endoWnafT1 = new Array(4)),
      (this._endoWnafT2 = new Array(4));
  }
  t(a, i),
    (Ah = a),
    (a.prototype._getEndomorphism = function (u) {
      if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
        var b, _;
        if (u.beta) b = new e(u.beta, 16).toRed(this.red);
        else {
          var I = this._getEndoRoots(this.p);
          (b = I[0].cmp(I[1]) < 0 ? I[0] : I[1]), (b = b.toRed(this.red));
        }
        if (u.lambda) _ = new e(u.lambda, 16);
        else {
          var M = this._getEndoRoots(this.n);
          this.g.mul(M[0]).x.cmp(this.g.x.redMul(b)) === 0
            ? (_ = M[0])
            : ((_ = M[1]), s(this.g.mul(_).x.cmp(this.g.x.redMul(b)) === 0));
        }
        var C;
        return (
          u.basis
            ? (C = u.basis.map(function (R) {
                return { a: new e(R.a, 16), b: new e(R.b, 16) };
              }))
            : (C = this._getEndoBasis(_)),
          { beta: b, lambda: _, basis: C }
        );
      }
    }),
    (a.prototype._getEndoRoots = function (u) {
      var b = u === this.p ? this.red : e.mont(u),
        _ = new e(2).toRed(b).redInvm(),
        I = _.redNeg(),
        M = new e(3).toRed(b).redNeg().redSqrt().redMul(_),
        C = I.redAdd(M).fromRed(),
        R = I.redSub(M).fromRed();
      return [C, R];
    }),
    (a.prototype._getEndoBasis = function (u) {
      for (
        var b = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
          _ = u,
          I = this.n.clone(),
          M = new e(1),
          C = new e(0),
          R = new e(0),
          L = new e(1),
          V,
          F,
          K,
          B,
          z,
          q,
          E,
          U = 0,
          te,
          oe;
        _.cmpn(0) !== 0;

      ) {
        var k = I.div(_);
        (te = I.sub(k.mul(_))), (oe = R.sub(k.mul(M)));
        var y = L.sub(k.mul(C));
        if (!K && te.cmp(b) < 0)
          (V = E.neg()), (F = M), (K = te.neg()), (B = oe);
        else if (K && ++U === 2) break;
        (E = te), (I = _), (_ = te), (R = M), (M = oe), (L = C), (C = y);
      }
      (z = te.neg()), (q = oe);
      var c = K.sqr().add(B.sqr()),
        l = z.sqr().add(q.sqr());
      return (
        l.cmp(c) >= 0 && ((z = V), (q = F)),
        K.negative && ((K = K.neg()), (B = B.neg())),
        z.negative && ((z = z.neg()), (q = q.neg())),
        [
          { a: K, b: B },
          { a: z, b: q },
        ]
      );
    }),
    (a.prototype._endoSplit = function (u) {
      var b = this.endo.basis,
        _ = b[0],
        I = b[1],
        M = I.b.mul(u).divRound(this.n),
        C = _.b.neg().mul(u).divRound(this.n),
        R = M.mul(_.a),
        L = C.mul(I.a),
        V = M.mul(_.b),
        F = C.mul(I.b),
        K = u.sub(R).sub(L),
        B = V.add(F).neg();
      return { k1: K, k2: B };
    }),
    (a.prototype.pointFromX = function (u, b) {
      (u = new e(u, 16)), u.red || (u = u.toRed(this.red));
      var _ = u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),
        I = _.redSqrt();
      if (I.redSqr().redSub(_).cmp(this.zero) !== 0)
        throw new Error("invalid point");
      var M = I.fromRed().isOdd();
      return ((b && !M) || (!b && M)) && (I = I.redNeg()), this.point(u, I);
    }),
    (a.prototype.validate = function (u) {
      if (u.inf) return !0;
      var b = u.x,
        _ = u.y,
        I = this.a.redMul(b),
        M = b.redSqr().redMul(b).redIAdd(I).redIAdd(this.b);
      return _.redSqr().redISub(M).cmpn(0) === 0;
    }),
    (a.prototype._endoWnafMulAdd = function (u, b, _) {
      for (
        var I = this._endoWnafT1, M = this._endoWnafT2, C = 0;
        C < u.length;
        C++
      ) {
        var R = this._endoSplit(b[C]),
          L = u[C],
          V = L._getBeta();
        R.k1.negative && (R.k1.ineg(), (L = L.neg(!0))),
          R.k2.negative && (R.k2.ineg(), (V = V.neg(!0))),
          (I[C * 2] = L),
          (I[C * 2 + 1] = V),
          (M[C * 2] = R.k1),
          (M[C * 2 + 1] = R.k2);
      }
      for (var F = this._wnafMulAdd(1, I, M, C * 2, _), K = 0; K < C * 2; K++)
        (I[K] = null), (M[K] = null);
      return F;
    });
  function f(d, u, b, _) {
    i.BasePoint.call(this, d, "affine"),
      u === null && b === null
        ? ((this.x = null), (this.y = null), (this.inf = !0))
        : ((this.x = new e(u, 16)),
          (this.y = new e(b, 16)),
          _ &&
            (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
          this.x.red || (this.x = this.x.toRed(this.curve.red)),
          this.y.red || (this.y = this.y.toRed(this.curve.red)),
          (this.inf = !1));
  }
  t(f, i.BasePoint),
    (a.prototype.point = function (u, b, _) {
      return new f(this, u, b, _);
    }),
    (a.prototype.pointFromJSON = function (u, b) {
      return f.fromJSON(this, u, b);
    }),
    (f.prototype._getBeta = function () {
      if (this.curve.endo) {
        var u = this.precomputed;
        if (u && u.beta) return u.beta;
        var b = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
        if (u) {
          var _ = this.curve,
            I = function (M) {
              return _.point(M.x.redMul(_.endo.beta), M.y);
            };
          (u.beta = b),
            (b.precomputed = {
              beta: null,
              naf: u.naf && { wnd: u.naf.wnd, points: u.naf.points.map(I) },
              doubles: u.doubles && {
                step: u.doubles.step,
                points: u.doubles.points.map(I),
              },
            });
        }
        return b;
      }
    }),
    (f.prototype.toJSON = function () {
      return this.precomputed
        ? [
            this.x,
            this.y,
            this.precomputed && {
              doubles: this.precomputed.doubles && {
                step: this.precomputed.doubles.step,
                points: this.precomputed.doubles.points.slice(1),
              },
              naf: this.precomputed.naf && {
                wnd: this.precomputed.naf.wnd,
                points: this.precomputed.naf.points.slice(1),
              },
            },
          ]
        : [this.x, this.y];
    }),
    (f.fromJSON = function (u, b, _) {
      typeof b == "string" && (b = JSON.parse(b));
      var I = u.point(b[0], b[1], _);
      if (!b[2]) return I;
      function M(R) {
        return u.point(R[0], R[1], _);
      }
      var C = b[2];
      return (
        (I.precomputed = {
          beta: null,
          doubles: C.doubles && {
            step: C.doubles.step,
            points: [I].concat(C.doubles.points.map(M)),
          },
          naf: C.naf && {
            wnd: C.naf.wnd,
            points: [I].concat(C.naf.points.map(M)),
          },
        }),
        I
      );
    }),
    (f.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC Point Infinity>"
        : "<EC Point x: " +
            this.x.fromRed().toString(16, 2) +
            " y: " +
            this.y.fromRed().toString(16, 2) +
            ">";
    }),
    (f.prototype.isInfinity = function () {
      return this.inf;
    }),
    (f.prototype.add = function (u) {
      if (this.inf) return u;
      if (u.inf) return this;
      if (this.eq(u)) return this.dbl();
      if (this.neg().eq(u)) return this.curve.point(null, null);
      if (this.x.cmp(u.x) === 0) return this.curve.point(null, null);
      var b = this.y.redSub(u.y);
      b.cmpn(0) !== 0 && (b = b.redMul(this.x.redSub(u.x).redInvm()));
      var _ = b.redSqr().redISub(this.x).redISub(u.x),
        I = b.redMul(this.x.redSub(_)).redISub(this.y);
      return this.curve.point(_, I);
    }),
    (f.prototype.dbl = function () {
      if (this.inf) return this;
      var u = this.y.redAdd(this.y);
      if (u.cmpn(0) === 0) return this.curve.point(null, null);
      var b = this.curve.a,
        _ = this.x.redSqr(),
        I = u.redInvm(),
        M = _.redAdd(_).redIAdd(_).redIAdd(b).redMul(I),
        C = M.redSqr().redISub(this.x.redAdd(this.x)),
        R = M.redMul(this.x.redSub(C)).redISub(this.y);
      return this.curve.point(C, R);
    }),
    (f.prototype.getX = function () {
      return this.x.fromRed();
    }),
    (f.prototype.getY = function () {
      return this.y.fromRed();
    }),
    (f.prototype.mul = function (u) {
      return (
        (u = new e(u, 16)),
        this.isInfinity()
          ? this
          : this._hasDoubles(u)
            ? this.curve._fixedNafMul(this, u)
            : this.curve.endo
              ? this.curve._endoWnafMulAdd([this], [u])
              : this.curve._wnafMul(this, u)
      );
    }),
    (f.prototype.mulAdd = function (u, b, _) {
      var I = [this, b],
        M = [u, _];
      return this.curve.endo
        ? this.curve._endoWnafMulAdd(I, M)
        : this.curve._wnafMulAdd(1, I, M, 2);
    }),
    (f.prototype.jmulAdd = function (u, b, _) {
      var I = [this, b],
        M = [u, _];
      return this.curve.endo
        ? this.curve._endoWnafMulAdd(I, M, !0)
        : this.curve._wnafMulAdd(1, I, M, 2, !0);
    }),
    (f.prototype.eq = function (u) {
      return (
        this === u ||
        (this.inf === u.inf &&
          (this.inf || (this.x.cmp(u.x) === 0 && this.y.cmp(u.y) === 0)))
      );
    }),
    (f.prototype.neg = function (u) {
      if (this.inf) return this;
      var b = this.curve.point(this.x, this.y.redNeg());
      if (u && this.precomputed) {
        var _ = this.precomputed,
          I = function (M) {
            return M.neg();
          };
        b.precomputed = {
          naf: _.naf && { wnd: _.naf.wnd, points: _.naf.points.map(I) },
          doubles: _.doubles && {
            step: _.doubles.step,
            points: _.doubles.points.map(I),
          },
        };
      }
      return b;
    }),
    (f.prototype.toJ = function () {
      if (this.inf) return this.curve.jpoint(null, null, null);
      var u = this.curve.jpoint(this.x, this.y, this.curve.one);
      return u;
    });
  function h(d, u, b, _) {
    i.BasePoint.call(this, d, "jacobian"),
      u === null && b === null && _ === null
        ? ((this.x = this.curve.one),
          (this.y = this.curve.one),
          (this.z = new e(0)))
        : ((this.x = new e(u, 16)),
          (this.y = new e(b, 16)),
          (this.z = new e(_, 16))),
      this.x.red || (this.x = this.x.toRed(this.curve.red)),
      this.y.red || (this.y = this.y.toRed(this.curve.red)),
      this.z.red || (this.z = this.z.toRed(this.curve.red)),
      (this.zOne = this.z === this.curve.one);
  }
  return (
    t(h, i.BasePoint),
    (a.prototype.jpoint = function (u, b, _) {
      return new h(this, u, b, _);
    }),
    (h.prototype.toP = function () {
      if (this.isInfinity()) return this.curve.point(null, null);
      var u = this.z.redInvm(),
        b = u.redSqr(),
        _ = this.x.redMul(b),
        I = this.y.redMul(b).redMul(u);
      return this.curve.point(_, I);
    }),
    (h.prototype.neg = function () {
      return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
    }),
    (h.prototype.add = function (u) {
      if (this.isInfinity()) return u;
      if (u.isInfinity()) return this;
      var b = u.z.redSqr(),
        _ = this.z.redSqr(),
        I = this.x.redMul(b),
        M = u.x.redMul(_),
        C = this.y.redMul(b.redMul(u.z)),
        R = u.y.redMul(_.redMul(this.z)),
        L = I.redSub(M),
        V = C.redSub(R);
      if (L.cmpn(0) === 0)
        return V.cmpn(0) !== 0
          ? this.curve.jpoint(null, null, null)
          : this.dbl();
      var F = L.redSqr(),
        K = F.redMul(L),
        B = I.redMul(F),
        z = V.redSqr().redIAdd(K).redISub(B).redISub(B),
        q = V.redMul(B.redISub(z)).redISub(C.redMul(K)),
        E = this.z.redMul(u.z).redMul(L);
      return this.curve.jpoint(z, q, E);
    }),
    (h.prototype.mixedAdd = function (u) {
      if (this.isInfinity()) return u.toJ();
      if (u.isInfinity()) return this;
      var b = this.z.redSqr(),
        _ = this.x,
        I = u.x.redMul(b),
        M = this.y,
        C = u.y.redMul(b).redMul(this.z),
        R = _.redSub(I),
        L = M.redSub(C);
      if (R.cmpn(0) === 0)
        return L.cmpn(0) !== 0
          ? this.curve.jpoint(null, null, null)
          : this.dbl();
      var V = R.redSqr(),
        F = V.redMul(R),
        K = _.redMul(V),
        B = L.redSqr().redIAdd(F).redISub(K).redISub(K),
        z = L.redMul(K.redISub(B)).redISub(M.redMul(F)),
        q = this.z.redMul(R);
      return this.curve.jpoint(B, z, q);
    }),
    (h.prototype.dblp = function (u) {
      if (u === 0) return this;
      if (this.isInfinity()) return this;
      if (!u) return this.dbl();
      var b;
      if (this.curve.zeroA || this.curve.threeA) {
        var _ = this;
        for (b = 0; b < u; b++) _ = _.dbl();
        return _;
      }
      var I = this.curve.a,
        M = this.curve.tinv,
        C = this.x,
        R = this.y,
        L = this.z,
        V = L.redSqr().redSqr(),
        F = R.redAdd(R);
      for (b = 0; b < u; b++) {
        var K = C.redSqr(),
          B = F.redSqr(),
          z = B.redSqr(),
          q = K.redAdd(K).redIAdd(K).redIAdd(I.redMul(V)),
          E = C.redMul(B),
          U = q.redSqr().redISub(E.redAdd(E)),
          te = E.redISub(U),
          oe = q.redMul(te);
        oe = oe.redIAdd(oe).redISub(z);
        var k = F.redMul(L);
        b + 1 < u && (V = V.redMul(z)), (C = U), (L = k), (F = oe);
      }
      return this.curve.jpoint(C, F.redMul(M), L);
    }),
    (h.prototype.dbl = function () {
      return this.isInfinity()
        ? this
        : this.curve.zeroA
          ? this._zeroDbl()
          : this.curve.threeA
            ? this._threeDbl()
            : this._dbl();
    }),
    (h.prototype._zeroDbl = function () {
      var u, b, _;
      if (this.zOne) {
        var I = this.x.redSqr(),
          M = this.y.redSqr(),
          C = M.redSqr(),
          R = this.x.redAdd(M).redSqr().redISub(I).redISub(C);
        R = R.redIAdd(R);
        var L = I.redAdd(I).redIAdd(I),
          V = L.redSqr().redISub(R).redISub(R),
          F = C.redIAdd(C);
        (F = F.redIAdd(F)),
          (F = F.redIAdd(F)),
          (u = V),
          (b = L.redMul(R.redISub(V)).redISub(F)),
          (_ = this.y.redAdd(this.y));
      } else {
        var K = this.x.redSqr(),
          B = this.y.redSqr(),
          z = B.redSqr(),
          q = this.x.redAdd(B).redSqr().redISub(K).redISub(z);
        q = q.redIAdd(q);
        var E = K.redAdd(K).redIAdd(K),
          U = E.redSqr(),
          te = z.redIAdd(z);
        (te = te.redIAdd(te)),
          (te = te.redIAdd(te)),
          (u = U.redISub(q).redISub(q)),
          (b = E.redMul(q.redISub(u)).redISub(te)),
          (_ = this.y.redMul(this.z)),
          (_ = _.redIAdd(_));
      }
      return this.curve.jpoint(u, b, _);
    }),
    (h.prototype._threeDbl = function () {
      var u, b, _;
      if (this.zOne) {
        var I = this.x.redSqr(),
          M = this.y.redSqr(),
          C = M.redSqr(),
          R = this.x.redAdd(M).redSqr().redISub(I).redISub(C);
        R = R.redIAdd(R);
        var L = I.redAdd(I).redIAdd(I).redIAdd(this.curve.a),
          V = L.redSqr().redISub(R).redISub(R);
        u = V;
        var F = C.redIAdd(C);
        (F = F.redIAdd(F)),
          (F = F.redIAdd(F)),
          (b = L.redMul(R.redISub(V)).redISub(F)),
          (_ = this.y.redAdd(this.y));
      } else {
        var K = this.z.redSqr(),
          B = this.y.redSqr(),
          z = this.x.redMul(B),
          q = this.x.redSub(K).redMul(this.x.redAdd(K));
        q = q.redAdd(q).redIAdd(q);
        var E = z.redIAdd(z);
        E = E.redIAdd(E);
        var U = E.redAdd(E);
        (u = q.redSqr().redISub(U)),
          (_ = this.y.redAdd(this.z).redSqr().redISub(B).redISub(K));
        var te = B.redSqr();
        (te = te.redIAdd(te)),
          (te = te.redIAdd(te)),
          (te = te.redIAdd(te)),
          (b = q.redMul(E.redISub(u)).redISub(te));
      }
      return this.curve.jpoint(u, b, _);
    }),
    (h.prototype._dbl = function () {
      var u = this.curve.a,
        b = this.x,
        _ = this.y,
        I = this.z,
        M = I.redSqr().redSqr(),
        C = b.redSqr(),
        R = _.redSqr(),
        L = C.redAdd(C).redIAdd(C).redIAdd(u.redMul(M)),
        V = b.redAdd(b);
      V = V.redIAdd(V);
      var F = V.redMul(R),
        K = L.redSqr().redISub(F.redAdd(F)),
        B = F.redISub(K),
        z = R.redSqr();
      (z = z.redIAdd(z)), (z = z.redIAdd(z)), (z = z.redIAdd(z));
      var q = L.redMul(B).redISub(z),
        E = _.redAdd(_).redMul(I);
      return this.curve.jpoint(K, q, E);
    }),
    (h.prototype.trpl = function () {
      if (!this.curve.zeroA) return this.dbl().add(this);
      var u = this.x.redSqr(),
        b = this.y.redSqr(),
        _ = this.z.redSqr(),
        I = b.redSqr(),
        M = u.redAdd(u).redIAdd(u),
        C = M.redSqr(),
        R = this.x.redAdd(b).redSqr().redISub(u).redISub(I);
      (R = R.redIAdd(R)), (R = R.redAdd(R).redIAdd(R)), (R = R.redISub(C));
      var L = R.redSqr(),
        V = I.redIAdd(I);
      (V = V.redIAdd(V)), (V = V.redIAdd(V)), (V = V.redIAdd(V));
      var F = M.redIAdd(R).redSqr().redISub(C).redISub(L).redISub(V),
        K = b.redMul(F);
      (K = K.redIAdd(K)), (K = K.redIAdd(K));
      var B = this.x.redMul(L).redISub(K);
      (B = B.redIAdd(B)), (B = B.redIAdd(B));
      var z = this.y.redMul(F.redMul(V.redISub(F)).redISub(R.redMul(L)));
      (z = z.redIAdd(z)), (z = z.redIAdd(z)), (z = z.redIAdd(z));
      var q = this.z.redAdd(R).redSqr().redISub(_).redISub(L);
      return this.curve.jpoint(B, z, q);
    }),
    (h.prototype.mul = function (u, b) {
      return (u = new e(u, b)), this.curve._wnafMul(this, u);
    }),
    (h.prototype.eq = function (u) {
      if (u.type === "affine") return this.eq(u.toJ());
      if (this === u) return !0;
      var b = this.z.redSqr(),
        _ = u.z.redSqr();
      if (this.x.redMul(_).redISub(u.x.redMul(b)).cmpn(0) !== 0) return !1;
      var I = b.redMul(this.z),
        M = _.redMul(u.z);
      return this.y.redMul(M).redISub(u.y.redMul(I)).cmpn(0) === 0;
    }),
    (h.prototype.eqXToP = function (u) {
      var b = this.z.redSqr(),
        _ = u.toRed(this.curve.red).redMul(b);
      if (this.x.cmp(_) === 0) return !0;
      for (var I = u.clone(), M = this.curve.redN.redMul(b); ; ) {
        if ((I.iadd(this.curve.n), I.cmp(this.curve.p) >= 0)) return !1;
        if ((_.redIAdd(M), this.x.cmp(_) === 0)) return !0;
      }
    }),
    (h.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC JPoint Infinity>"
        : "<EC JPoint x: " +
            this.x.toString(16, 2) +
            " y: " +
            this.y.toString(16, 2) +
            " z: " +
            this.z.toString(16, 2) +
            ">";
    }),
    (h.prototype.isInfinity = function () {
      return this.z.cmpn(0) === 0;
    }),
    Ah
  );
}
var Eh, i1;
function T_() {
  if (i1) return Eh;
  i1 = 1;
  var r = Wn(),
    e = Ou(),
    t = Tu(),
    i = Ni();
  function s(f) {
    t.call(this, "mont", f),
      (this.a = new r(f.a, 16).toRed(this.red)),
      (this.b = new r(f.b, 16).toRed(this.red)),
      (this.i4 = new r(4).toRed(this.red).redInvm()),
      (this.two = new r(2).toRed(this.red)),
      (this.a24 = this.i4.redMul(this.a.redAdd(this.two)));
  }
  e(s, t),
    (Eh = s),
    (s.prototype.validate = function (h) {
      var d = h.normalize().x,
        u = d.redSqr(),
        b = u.redMul(d).redAdd(u.redMul(this.a)).redAdd(d),
        _ = b.redSqrt();
      return _.redSqr().cmp(b) === 0;
    });
  function a(f, h, d) {
    t.BasePoint.call(this, f, "projective"),
      h === null && d === null
        ? ((this.x = this.curve.one), (this.z = this.curve.zero))
        : ((this.x = new r(h, 16)),
          (this.z = new r(d, 16)),
          this.x.red || (this.x = this.x.toRed(this.curve.red)),
          this.z.red || (this.z = this.z.toRed(this.curve.red)));
  }
  return (
    e(a, t.BasePoint),
    (s.prototype.decodePoint = function (h, d) {
      return this.point(i.toArray(h, d), 1);
    }),
    (s.prototype.point = function (h, d) {
      return new a(this, h, d);
    }),
    (s.prototype.pointFromJSON = function (h) {
      return a.fromJSON(this, h);
    }),
    (a.prototype.precompute = function () {}),
    (a.prototype._encode = function () {
      return this.getX().toArray("be", this.curve.p.byteLength());
    }),
    (a.fromJSON = function (h, d) {
      return new a(h, d[0], d[1] || h.one);
    }),
    (a.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC Point Infinity>"
        : "<EC Point x: " +
            this.x.fromRed().toString(16, 2) +
            " z: " +
            this.z.fromRed().toString(16, 2) +
            ">";
    }),
    (a.prototype.isInfinity = function () {
      return this.z.cmpn(0) === 0;
    }),
    (a.prototype.dbl = function () {
      var h = this.x.redAdd(this.z),
        d = h.redSqr(),
        u = this.x.redSub(this.z),
        b = u.redSqr(),
        _ = d.redSub(b),
        I = d.redMul(b),
        M = _.redMul(b.redAdd(this.curve.a24.redMul(_)));
      return this.curve.point(I, M);
    }),
    (a.prototype.add = function () {
      throw new Error("Not supported on Montgomery curve");
    }),
    (a.prototype.diffAdd = function (h, d) {
      var u = this.x.redAdd(this.z),
        b = this.x.redSub(this.z),
        _ = h.x.redAdd(h.z),
        I = h.x.redSub(h.z),
        M = I.redMul(u),
        C = _.redMul(b),
        R = d.z.redMul(M.redAdd(C).redSqr()),
        L = d.x.redMul(M.redISub(C).redSqr());
      return this.curve.point(R, L);
    }),
    (a.prototype.mul = function (h) {
      for (
        var d = h.clone(),
          u = this,
          b = this.curve.point(null, null),
          _ = this,
          I = [];
        d.cmpn(0) !== 0;
        d.iushrn(1)
      )
        I.push(d.andln(1));
      for (var M = I.length - 1; M >= 0; M--)
        I[M] === 0
          ? ((u = u.diffAdd(b, _)), (b = b.dbl()))
          : ((b = u.diffAdd(b, _)), (u = u.dbl()));
      return b;
    }),
    (a.prototype.mulAdd = function () {
      throw new Error("Not supported on Montgomery curve");
    }),
    (a.prototype.jumlAdd = function () {
      throw new Error("Not supported on Montgomery curve");
    }),
    (a.prototype.eq = function (h) {
      return this.getX().cmp(h.getX()) === 0;
    }),
    (a.prototype.normalize = function () {
      return (
        (this.x = this.x.redMul(this.z.redInvm())),
        (this.z = this.curve.one),
        this
      );
    }),
    (a.prototype.getX = function () {
      return this.normalize(), this.x.fromRed();
    }),
    Eh
  );
}
var xh, n1;
function q_() {
  if (n1) return xh;
  n1 = 1;
  var r = Ni(),
    e = Wn(),
    t = Ou(),
    i = Tu(),
    s = r.assert;
  function a(h) {
    (this.twisted = (h.a | 0) !== 1),
      (this.mOneA = this.twisted && (h.a | 0) === -1),
      (this.extended = this.mOneA),
      i.call(this, "edwards", h),
      (this.a = new e(h.a, 16).umod(this.red.m)),
      (this.a = this.a.toRed(this.red)),
      (this.c = new e(h.c, 16).toRed(this.red)),
      (this.c2 = this.c.redSqr()),
      (this.d = new e(h.d, 16).toRed(this.red)),
      (this.dd = this.d.redAdd(this.d)),
      s(!this.twisted || this.c.fromRed().cmpn(1) === 0),
      (this.oneC = (h.c | 0) === 1);
  }
  t(a, i),
    (xh = a),
    (a.prototype._mulA = function (d) {
      return this.mOneA ? d.redNeg() : this.a.redMul(d);
    }),
    (a.prototype._mulC = function (d) {
      return this.oneC ? d : this.c.redMul(d);
    }),
    (a.prototype.jpoint = function (d, u, b, _) {
      return this.point(d, u, b, _);
    }),
    (a.prototype.pointFromX = function (d, u) {
      (d = new e(d, 16)), d.red || (d = d.toRed(this.red));
      var b = d.redSqr(),
        _ = this.c2.redSub(this.a.redMul(b)),
        I = this.one.redSub(this.c2.redMul(this.d).redMul(b)),
        M = _.redMul(I.redInvm()),
        C = M.redSqrt();
      if (C.redSqr().redSub(M).cmp(this.zero) !== 0)
        throw new Error("invalid point");
      var R = C.fromRed().isOdd();
      return ((u && !R) || (!u && R)) && (C = C.redNeg()), this.point(d, C);
    }),
    (a.prototype.pointFromY = function (d, u) {
      (d = new e(d, 16)), d.red || (d = d.toRed(this.red));
      var b = d.redSqr(),
        _ = b.redSub(this.c2),
        I = b.redMul(this.d).redMul(this.c2).redSub(this.a),
        M = _.redMul(I.redInvm());
      if (M.cmp(this.zero) === 0) {
        if (u) throw new Error("invalid point");
        return this.point(this.zero, d);
      }
      var C = M.redSqrt();
      if (C.redSqr().redSub(M).cmp(this.zero) !== 0)
        throw new Error("invalid point");
      return C.fromRed().isOdd() !== u && (C = C.redNeg()), this.point(C, d);
    }),
    (a.prototype.validate = function (d) {
      if (d.isInfinity()) return !0;
      d.normalize();
      var u = d.x.redSqr(),
        b = d.y.redSqr(),
        _ = u.redMul(this.a).redAdd(b),
        I = this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(b)));
      return _.cmp(I) === 0;
    });
  function f(h, d, u, b, _) {
    i.BasePoint.call(this, h, "projective"),
      d === null && u === null && b === null
        ? ((this.x = this.curve.zero),
          (this.y = this.curve.one),
          (this.z = this.curve.one),
          (this.t = this.curve.zero),
          (this.zOne = !0))
        : ((this.x = new e(d, 16)),
          (this.y = new e(u, 16)),
          (this.z = b ? new e(b, 16) : this.curve.one),
          (this.t = _ && new e(_, 16)),
          this.x.red || (this.x = this.x.toRed(this.curve.red)),
          this.y.red || (this.y = this.y.toRed(this.curve.red)),
          this.z.red || (this.z = this.z.toRed(this.curve.red)),
          this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)),
          (this.zOne = this.z === this.curve.one),
          this.curve.extended &&
            !this.t &&
            ((this.t = this.x.redMul(this.y)),
            this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
  }
  return (
    t(f, i.BasePoint),
    (a.prototype.pointFromJSON = function (d) {
      return f.fromJSON(this, d);
    }),
    (a.prototype.point = function (d, u, b, _) {
      return new f(this, d, u, b, _);
    }),
    (f.fromJSON = function (d, u) {
      return new f(d, u[0], u[1], u[2]);
    }),
    (f.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC Point Infinity>"
        : "<EC Point x: " +
            this.x.fromRed().toString(16, 2) +
            " y: " +
            this.y.fromRed().toString(16, 2) +
            " z: " +
            this.z.fromRed().toString(16, 2) +
            ">";
    }),
    (f.prototype.isInfinity = function () {
      return (
        this.x.cmpn(0) === 0 &&
        (this.y.cmp(this.z) === 0 ||
          (this.zOne && this.y.cmp(this.curve.c) === 0))
      );
    }),
    (f.prototype._extDbl = function () {
      var d = this.x.redSqr(),
        u = this.y.redSqr(),
        b = this.z.redSqr();
      b = b.redIAdd(b);
      var _ = this.curve._mulA(d),
        I = this.x.redAdd(this.y).redSqr().redISub(d).redISub(u),
        M = _.redAdd(u),
        C = M.redSub(b),
        R = _.redSub(u),
        L = I.redMul(C),
        V = M.redMul(R),
        F = I.redMul(R),
        K = C.redMul(M);
      return this.curve.point(L, V, K, F);
    }),
    (f.prototype._projDbl = function () {
      var d = this.x.redAdd(this.y).redSqr(),
        u = this.x.redSqr(),
        b = this.y.redSqr(),
        _,
        I,
        M,
        C,
        R,
        L;
      if (this.curve.twisted) {
        C = this.curve._mulA(u);
        var V = C.redAdd(b);
        this.zOne
          ? ((_ = d.redSub(u).redSub(b).redMul(V.redSub(this.curve.two))),
            (I = V.redMul(C.redSub(b))),
            (M = V.redSqr().redSub(V).redSub(V)))
          : ((R = this.z.redSqr()),
            (L = V.redSub(R).redISub(R)),
            (_ = d.redSub(u).redISub(b).redMul(L)),
            (I = V.redMul(C.redSub(b))),
            (M = V.redMul(L)));
      } else
        (C = u.redAdd(b)),
          (R = this.curve._mulC(this.z).redSqr()),
          (L = C.redSub(R).redSub(R)),
          (_ = this.curve._mulC(d.redISub(C)).redMul(L)),
          (I = this.curve._mulC(C).redMul(u.redISub(b))),
          (M = C.redMul(L));
      return this.curve.point(_, I, M);
    }),
    (f.prototype.dbl = function () {
      return this.isInfinity()
        ? this
        : this.curve.extended
          ? this._extDbl()
          : this._projDbl();
    }),
    (f.prototype._extAdd = function (d) {
      var u = this.y.redSub(this.x).redMul(d.y.redSub(d.x)),
        b = this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),
        _ = this.t.redMul(this.curve.dd).redMul(d.t),
        I = this.z.redMul(d.z.redAdd(d.z)),
        M = b.redSub(u),
        C = I.redSub(_),
        R = I.redAdd(_),
        L = b.redAdd(u),
        V = M.redMul(C),
        F = R.redMul(L),
        K = M.redMul(L),
        B = C.redMul(R);
      return this.curve.point(V, F, B, K);
    }),
    (f.prototype._projAdd = function (d) {
      var u = this.z.redMul(d.z),
        b = u.redSqr(),
        _ = this.x.redMul(d.x),
        I = this.y.redMul(d.y),
        M = this.curve.d.redMul(_).redMul(I),
        C = b.redSub(M),
        R = b.redAdd(M),
        L = this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(_).redISub(I),
        V = u.redMul(C).redMul(L),
        F,
        K;
      return (
        this.curve.twisted
          ? ((F = u.redMul(R).redMul(I.redSub(this.curve._mulA(_)))),
            (K = C.redMul(R)))
          : ((F = u.redMul(R).redMul(I.redSub(_))),
            (K = this.curve._mulC(C).redMul(R))),
        this.curve.point(V, F, K)
      );
    }),
    (f.prototype.add = function (d) {
      return this.isInfinity()
        ? d
        : d.isInfinity()
          ? this
          : this.curve.extended
            ? this._extAdd(d)
            : this._projAdd(d);
    }),
    (f.prototype.mul = function (d) {
      return this._hasDoubles(d)
        ? this.curve._fixedNafMul(this, d)
        : this.curve._wnafMul(this, d);
    }),
    (f.prototype.mulAdd = function (d, u, b) {
      return this.curve._wnafMulAdd(1, [this, u], [d, b], 2, !1);
    }),
    (f.prototype.jmulAdd = function (d, u, b) {
      return this.curve._wnafMulAdd(1, [this, u], [d, b], 2, !0);
    }),
    (f.prototype.normalize = function () {
      if (this.zOne) return this;
      var d = this.z.redInvm();
      return (
        (this.x = this.x.redMul(d)),
        (this.y = this.y.redMul(d)),
        this.t && (this.t = this.t.redMul(d)),
        (this.z = this.curve.one),
        (this.zOne = !0),
        this
      );
    }),
    (f.prototype.neg = function () {
      return this.curve.point(
        this.x.redNeg(),
        this.y,
        this.z,
        this.t && this.t.redNeg(),
      );
    }),
    (f.prototype.getX = function () {
      return this.normalize(), this.x.fromRed();
    }),
    (f.prototype.getY = function () {
      return this.normalize(), this.y.fromRed();
    }),
    (f.prototype.eq = function (d) {
      return (
        this === d ||
        (this.getX().cmp(d.getX()) === 0 && this.getY().cmp(d.getY()) === 0)
      );
    }),
    (f.prototype.eqXToP = function (d) {
      var u = d.toRed(this.curve.red).redMul(this.z);
      if (this.x.cmp(u) === 0) return !0;
      for (var b = d.clone(), _ = this.curve.redN.redMul(this.z); ; ) {
        if ((b.iadd(this.curve.n), b.cmp(this.curve.p) >= 0)) return !1;
        if ((u.redIAdd(_), this.x.cmp(u) === 0)) return !0;
      }
    }),
    (f.prototype.toP = f.prototype.normalize),
    (f.prototype.mixedAdd = f.prototype.add),
    xh
  );
}
var s1;
function Gv() {
  return (
    s1 ||
      ((s1 = 1),
      (function (r) {
        var e = r;
        (e.base = Tu()), (e.short = N_()), (e.mont = T_()), (e.edwards = q_());
      })(wh)),
    wh
  );
}
var Sh = {},
  Mh = {},
  kt = {},
  a1;
function Sn() {
  if (a1) return kt;
  a1 = 1;
  var r = ks(),
    e = Ou();
  kt.inherits = e;
  function t(y, c) {
    return (y.charCodeAt(c) & 64512) !== 55296 || c < 0 || c + 1 >= y.length
      ? !1
      : (y.charCodeAt(c + 1) & 64512) === 56320;
  }
  function i(y, c) {
    if (Array.isArray(y)) return y.slice();
    if (!y) return [];
    var l = [];
    if (typeof y == "string")
      if (c) {
        if (c === "hex")
          for (
            y = y.replace(/[^a-z0-9]+/gi, ""),
              y.length % 2 !== 0 && (y = "0" + y),
              w = 0;
            w < y.length;
            w += 2
          )
            l.push(parseInt(y[w] + y[w + 1], 16));
      } else
        for (var p = 0, w = 0; w < y.length; w++) {
          var A = y.charCodeAt(w);
          A < 128
            ? (l[p++] = A)
            : A < 2048
              ? ((l[p++] = (A >> 6) | 192), (l[p++] = (A & 63) | 128))
              : t(y, w)
                ? ((A =
                    65536 + ((A & 1023) << 10) + (y.charCodeAt(++w) & 1023)),
                  (l[p++] = (A >> 18) | 240),
                  (l[p++] = ((A >> 12) & 63) | 128),
                  (l[p++] = ((A >> 6) & 63) | 128),
                  (l[p++] = (A & 63) | 128))
                : ((l[p++] = (A >> 12) | 224),
                  (l[p++] = ((A >> 6) & 63) | 128),
                  (l[p++] = (A & 63) | 128));
        }
    else for (w = 0; w < y.length; w++) l[w] = y[w] | 0;
    return l;
  }
  kt.toArray = i;
  function s(y) {
    for (var c = "", l = 0; l < y.length; l++) c += h(y[l].toString(16));
    return c;
  }
  kt.toHex = s;
  function a(y) {
    var c =
      (y >>> 24) |
      ((y >>> 8) & 65280) |
      ((y << 8) & 16711680) |
      ((y & 255) << 24);
    return c >>> 0;
  }
  kt.htonl = a;
  function f(y, c) {
    for (var l = "", p = 0; p < y.length; p++) {
      var w = y[p];
      c === "little" && (w = a(w)), (l += d(w.toString(16)));
    }
    return l;
  }
  kt.toHex32 = f;
  function h(y) {
    return y.length === 1 ? "0" + y : y;
  }
  kt.zero2 = h;
  function d(y) {
    return y.length === 7
      ? "0" + y
      : y.length === 6
        ? "00" + y
        : y.length === 5
          ? "000" + y
          : y.length === 4
            ? "0000" + y
            : y.length === 3
              ? "00000" + y
              : y.length === 2
                ? "000000" + y
                : y.length === 1
                  ? "0000000" + y
                  : y;
  }
  kt.zero8 = d;
  function u(y, c, l, p) {
    var w = l - c;
    r(w % 4 === 0);
    for (var A = new Array(w / 4), P = 0, S = c; P < A.length; P++, S += 4) {
      var g;
      p === "big"
        ? (g = (y[S] << 24) | (y[S + 1] << 16) | (y[S + 2] << 8) | y[S + 3])
        : (g = (y[S + 3] << 24) | (y[S + 2] << 16) | (y[S + 1] << 8) | y[S]),
        (A[P] = g >>> 0);
    }
    return A;
  }
  kt.join32 = u;
  function b(y, c) {
    for (
      var l = new Array(y.length * 4), p = 0, w = 0;
      p < y.length;
      p++, w += 4
    ) {
      var A = y[p];
      c === "big"
        ? ((l[w] = A >>> 24),
          (l[w + 1] = (A >>> 16) & 255),
          (l[w + 2] = (A >>> 8) & 255),
          (l[w + 3] = A & 255))
        : ((l[w + 3] = A >>> 24),
          (l[w + 2] = (A >>> 16) & 255),
          (l[w + 1] = (A >>> 8) & 255),
          (l[w] = A & 255));
    }
    return l;
  }
  kt.split32 = b;
  function _(y, c) {
    return (y >>> c) | (y << (32 - c));
  }
  kt.rotr32 = _;
  function I(y, c) {
    return (y << c) | (y >>> (32 - c));
  }
  kt.rotl32 = I;
  function M(y, c) {
    return (y + c) >>> 0;
  }
  kt.sum32 = M;
  function C(y, c, l) {
    return (y + c + l) >>> 0;
  }
  kt.sum32_3 = C;
  function R(y, c, l, p) {
    return (y + c + l + p) >>> 0;
  }
  kt.sum32_4 = R;
  function L(y, c, l, p, w) {
    return (y + c + l + p + w) >>> 0;
  }
  kt.sum32_5 = L;
  function V(y, c, l, p) {
    var w = y[c],
      A = y[c + 1],
      P = (p + A) >>> 0,
      S = (P < p ? 1 : 0) + l + w;
    (y[c] = S >>> 0), (y[c + 1] = P);
  }
  kt.sum64 = V;
  function F(y, c, l, p) {
    var w = (c + p) >>> 0,
      A = (w < c ? 1 : 0) + y + l;
    return A >>> 0;
  }
  kt.sum64_hi = F;
  function K(y, c, l, p) {
    var w = c + p;
    return w >>> 0;
  }
  kt.sum64_lo = K;
  function B(y, c, l, p, w, A, P, S) {
    var g = 0,
      m = c;
    (m = (m + p) >>> 0),
      (g += m < c ? 1 : 0),
      (m = (m + A) >>> 0),
      (g += m < A ? 1 : 0),
      (m = (m + S) >>> 0),
      (g += m < S ? 1 : 0);
    var N = y + l + w + P + g;
    return N >>> 0;
  }
  kt.sum64_4_hi = B;
  function z(y, c, l, p, w, A, P, S) {
    var g = c + p + A + S;
    return g >>> 0;
  }
  kt.sum64_4_lo = z;
  function q(y, c, l, p, w, A, P, S, g, m) {
    var N = 0,
      Q = c;
    (Q = (Q + p) >>> 0),
      (N += Q < c ? 1 : 0),
      (Q = (Q + A) >>> 0),
      (N += Q < A ? 1 : 0),
      (Q = (Q + S) >>> 0),
      (N += Q < S ? 1 : 0),
      (Q = (Q + m) >>> 0),
      (N += Q < m ? 1 : 0);
    var re = y + l + w + P + g + N;
    return re >>> 0;
  }
  kt.sum64_5_hi = q;
  function E(y, c, l, p, w, A, P, S, g, m) {
    var N = c + p + A + S + m;
    return N >>> 0;
  }
  kt.sum64_5_lo = E;
  function U(y, c, l) {
    var p = (c << (32 - l)) | (y >>> l);
    return p >>> 0;
  }
  kt.rotr64_hi = U;
  function te(y, c, l) {
    var p = (y << (32 - l)) | (c >>> l);
    return p >>> 0;
  }
  kt.rotr64_lo = te;
  function oe(y, c, l) {
    return y >>> l;
  }
  kt.shr64_hi = oe;
  function k(y, c, l) {
    var p = (y << (32 - l)) | (c >>> l);
    return p >>> 0;
  }
  return (kt.shr64_lo = k), kt;
}
var Ih = {},
  o1;
function To() {
  if (o1) return Ih;
  o1 = 1;
  var r = Sn(),
    e = ks();
  function t() {
    (this.pending = null),
      (this.pendingTotal = 0),
      (this.blockSize = this.constructor.blockSize),
      (this.outSize = this.constructor.outSize),
      (this.hmacStrength = this.constructor.hmacStrength),
      (this.padLength = this.constructor.padLength / 8),
      (this.endian = "big"),
      (this._delta8 = this.blockSize / 8),
      (this._delta32 = this.blockSize / 32);
  }
  return (
    (Ih.BlockHash = t),
    (t.prototype.update = function (s, a) {
      if (
        ((s = r.toArray(s, a)),
        this.pending
          ? (this.pending = this.pending.concat(s))
          : (this.pending = s),
        (this.pendingTotal += s.length),
        this.pending.length >= this._delta8)
      ) {
        s = this.pending;
        var f = s.length % this._delta8;
        (this.pending = s.slice(s.length - f, s.length)),
          this.pending.length === 0 && (this.pending = null),
          (s = r.join32(s, 0, s.length - f, this.endian));
        for (var h = 0; h < s.length; h += this._delta32)
          this._update(s, h, h + this._delta32);
      }
      return this;
    }),
    (t.prototype.digest = function (s) {
      return (
        this.update(this._pad()), e(this.pending === null), this._digest(s)
      );
    }),
    (t.prototype._pad = function () {
      var s = this.pendingTotal,
        a = this._delta8,
        f = a - ((s + this.padLength) % a),
        h = new Array(f + this.padLength);
      h[0] = 128;
      for (var d = 1; d < f; d++) h[d] = 0;
      if (((s <<= 3), this.endian === "big")) {
        for (var u = 8; u < this.padLength; u++) h[d++] = 0;
        (h[d++] = 0),
          (h[d++] = 0),
          (h[d++] = 0),
          (h[d++] = 0),
          (h[d++] = (s >>> 24) & 255),
          (h[d++] = (s >>> 16) & 255),
          (h[d++] = (s >>> 8) & 255),
          (h[d++] = s & 255);
      } else
        for (
          h[d++] = s & 255,
            h[d++] = (s >>> 8) & 255,
            h[d++] = (s >>> 16) & 255,
            h[d++] = (s >>> 24) & 255,
            h[d++] = 0,
            h[d++] = 0,
            h[d++] = 0,
            h[d++] = 0,
            u = 8;
          u < this.padLength;
          u++
        )
          h[d++] = 0;
      return h;
    }),
    Ih
  );
}
var Cs = {},
  un = {},
  c1;
function Wv() {
  if (c1) return un;
  c1 = 1;
  var r = Sn(),
    e = r.rotr32;
  function t(b, _, I, M) {
    if (b === 0) return i(_, I, M);
    if (b === 1 || b === 3) return a(_, I, M);
    if (b === 2) return s(_, I, M);
  }
  un.ft_1 = t;
  function i(b, _, I) {
    return (b & _) ^ (~b & I);
  }
  un.ch32 = i;
  function s(b, _, I) {
    return (b & _) ^ (b & I) ^ (_ & I);
  }
  un.maj32 = s;
  function a(b, _, I) {
    return b ^ _ ^ I;
  }
  un.p32 = a;
  function f(b) {
    return e(b, 2) ^ e(b, 13) ^ e(b, 22);
  }
  un.s0_256 = f;
  function h(b) {
    return e(b, 6) ^ e(b, 11) ^ e(b, 25);
  }
  un.s1_256 = h;
  function d(b) {
    return e(b, 7) ^ e(b, 18) ^ (b >>> 3);
  }
  un.g0_256 = d;
  function u(b) {
    return e(b, 17) ^ e(b, 19) ^ (b >>> 10);
  }
  return (un.g1_256 = u), un;
}
var Dh, u1;
function F_() {
  if (u1) return Dh;
  u1 = 1;
  var r = Sn(),
    e = To(),
    t = Wv(),
    i = r.rotl32,
    s = r.sum32,
    a = r.sum32_5,
    f = t.ft_1,
    h = e.BlockHash,
    d = [1518500249, 1859775393, 2400959708, 3395469782];
  function u() {
    if (!(this instanceof u)) return new u();
    h.call(this),
      (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
      (this.W = new Array(80));
  }
  return (
    r.inherits(u, h),
    (Dh = u),
    (u.blockSize = 512),
    (u.outSize = 160),
    (u.hmacStrength = 80),
    (u.padLength = 64),
    (u.prototype._update = function (_, I) {
      for (var M = this.W, C = 0; C < 16; C++) M[C] = _[I + C];
      for (; C < M.length; C++)
        M[C] = i(M[C - 3] ^ M[C - 8] ^ M[C - 14] ^ M[C - 16], 1);
      var R = this.h[0],
        L = this.h[1],
        V = this.h[2],
        F = this.h[3],
        K = this.h[4];
      for (C = 0; C < M.length; C++) {
        var B = ~~(C / 20),
          z = a(i(R, 5), f(B, L, V, F), K, M[C], d[B]);
        (K = F), (F = V), (V = i(L, 30)), (L = R), (R = z);
      }
      (this.h[0] = s(this.h[0], R)),
        (this.h[1] = s(this.h[1], L)),
        (this.h[2] = s(this.h[2], V)),
        (this.h[3] = s(this.h[3], F)),
        (this.h[4] = s(this.h[4], K));
    }),
    (u.prototype._digest = function (_) {
      return _ === "hex" ? r.toHex32(this.h, "big") : r.split32(this.h, "big");
    }),
    Dh
  );
}
var Ph, f1;
function Jv() {
  if (f1) return Ph;
  f1 = 1;
  var r = Sn(),
    e = To(),
    t = Wv(),
    i = ks(),
    s = r.sum32,
    a = r.sum32_4,
    f = r.sum32_5,
    h = t.ch32,
    d = t.maj32,
    u = t.s0_256,
    b = t.s1_256,
    _ = t.g0_256,
    I = t.g1_256,
    M = e.BlockHash,
    C = [
      1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
      2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
      1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
      264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
      2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
      113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
      1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
      3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
      430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
      1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
      2428436474, 2756734187, 3204031479, 3329325298,
    ];
  function R() {
    if (!(this instanceof R)) return new R();
    M.call(this),
      (this.h = [
        1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
        528734635, 1541459225,
      ]),
      (this.k = C),
      (this.W = new Array(64));
  }
  return (
    r.inherits(R, M),
    (Ph = R),
    (R.blockSize = 512),
    (R.outSize = 256),
    (R.hmacStrength = 192),
    (R.padLength = 64),
    (R.prototype._update = function (V, F) {
      for (var K = this.W, B = 0; B < 16; B++) K[B] = V[F + B];
      for (; B < K.length; B++)
        K[B] = a(I(K[B - 2]), K[B - 7], _(K[B - 15]), K[B - 16]);
      var z = this.h[0],
        q = this.h[1],
        E = this.h[2],
        U = this.h[3],
        te = this.h[4],
        oe = this.h[5],
        k = this.h[6],
        y = this.h[7];
      for (i(this.k.length === K.length), B = 0; B < K.length; B++) {
        var c = f(y, b(te), h(te, oe, k), this.k[B], K[B]),
          l = s(u(z), d(z, q, E));
        (y = k),
          (k = oe),
          (oe = te),
          (te = s(U, c)),
          (U = E),
          (E = q),
          (q = z),
          (z = s(c, l));
      }
      (this.h[0] = s(this.h[0], z)),
        (this.h[1] = s(this.h[1], q)),
        (this.h[2] = s(this.h[2], E)),
        (this.h[3] = s(this.h[3], U)),
        (this.h[4] = s(this.h[4], te)),
        (this.h[5] = s(this.h[5], oe)),
        (this.h[6] = s(this.h[6], k)),
        (this.h[7] = s(this.h[7], y));
    }),
    (R.prototype._digest = function (V) {
      return V === "hex" ? r.toHex32(this.h, "big") : r.split32(this.h, "big");
    }),
    Ph
  );
}
var Ch, h1;
function B_() {
  if (h1) return Ch;
  h1 = 1;
  var r = Sn(),
    e = Jv();
  function t() {
    if (!(this instanceof t)) return new t();
    e.call(this),
      (this.h = [
        3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
        1694076839, 3204075428,
      ]);
  }
  return (
    r.inherits(t, e),
    (Ch = t),
    (t.blockSize = 512),
    (t.outSize = 224),
    (t.hmacStrength = 192),
    (t.padLength = 64),
    (t.prototype._digest = function (s) {
      return s === "hex"
        ? r.toHex32(this.h.slice(0, 7), "big")
        : r.split32(this.h.slice(0, 7), "big");
    }),
    Ch
  );
}
var Oh, l1;
function Yv() {
  if (l1) return Oh;
  l1 = 1;
  var r = Sn(),
    e = To(),
    t = ks(),
    i = r.rotr64_hi,
    s = r.rotr64_lo,
    a = r.shr64_hi,
    f = r.shr64_lo,
    h = r.sum64,
    d = r.sum64_hi,
    u = r.sum64_lo,
    b = r.sum64_4_hi,
    _ = r.sum64_4_lo,
    I = r.sum64_5_hi,
    M = r.sum64_5_lo,
    C = e.BlockHash,
    R = [
      1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
      3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
      2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
      310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
      1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
      3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
      264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
      1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
      2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
      3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
      113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
      773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
      1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
      2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
      3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
      3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
      430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
      883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
      1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
      2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
      2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
      3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
      3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
      174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
      685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
      1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
      1607167915, 987167468, 1816402316, 1246189591,
    ];
  function L() {
    if (!(this instanceof L)) return new L();
    C.call(this),
      (this.h = [
        1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
        2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
        528734635, 4215389547, 1541459225, 327033209,
      ]),
      (this.k = R),
      (this.W = new Array(160));
  }
  r.inherits(L, C),
    (Oh = L),
    (L.blockSize = 1024),
    (L.outSize = 512),
    (L.hmacStrength = 192),
    (L.padLength = 128),
    (L.prototype._prepareBlock = function (l, p) {
      for (var w = this.W, A = 0; A < 32; A++) w[A] = l[p + A];
      for (; A < w.length; A += 2) {
        var P = k(w[A - 4], w[A - 3]),
          S = y(w[A - 4], w[A - 3]),
          g = w[A - 14],
          m = w[A - 13],
          N = te(w[A - 30], w[A - 29]),
          Q = oe(w[A - 30], w[A - 29]),
          re = w[A - 32],
          O = w[A - 31];
        (w[A] = b(P, S, g, m, N, Q, re, O)),
          (w[A + 1] = _(P, S, g, m, N, Q, re, O));
      }
    }),
    (L.prototype._update = function (l, p) {
      this._prepareBlock(l, p);
      var w = this.W,
        A = this.h[0],
        P = this.h[1],
        S = this.h[2],
        g = this.h[3],
        m = this.h[4],
        N = this.h[5],
        Q = this.h[6],
        re = this.h[7],
        O = this.h[8],
        Z = this.h[9],
        $ = this.h[10],
        W = this.h[11],
        J = this.h[12],
        x = this.h[13],
        G = this.h[14],
        ae = this.h[15];
      t(this.k.length === w.length);
      for (var ce = 0; ce < w.length; ce += 2) {
        var fe = G,
          be = ae,
          we = E(O, Z),
          Ie = U(O, Z),
          Je = V(O, Z, $, W, J),
          Ce = F(O, Z, $, W, J, x),
          Te = this.k[ce],
          Se = this.k[ce + 1],
          me = w[ce],
          Oe = w[ce + 1],
          Re = I(fe, be, we, Ie, Je, Ce, Te, Se, me, Oe),
          ve = M(fe, be, we, Ie, Je, Ce, Te, Se, me, Oe);
        (fe = z(A, P)),
          (be = q(A, P)),
          (we = K(A, P, S, g, m)),
          (Ie = B(A, P, S, g, m, N));
        var Ne = d(fe, be, we, Ie),
          Ee = u(fe, be, we, Ie);
        (G = J),
          (ae = x),
          (J = $),
          (x = W),
          ($ = O),
          (W = Z),
          (O = d(Q, re, Re, ve)),
          (Z = u(re, re, Re, ve)),
          (Q = m),
          (re = N),
          (m = S),
          (N = g),
          (S = A),
          (g = P),
          (A = d(Re, ve, Ne, Ee)),
          (P = u(Re, ve, Ne, Ee));
      }
      h(this.h, 0, A, P),
        h(this.h, 2, S, g),
        h(this.h, 4, m, N),
        h(this.h, 6, Q, re),
        h(this.h, 8, O, Z),
        h(this.h, 10, $, W),
        h(this.h, 12, J, x),
        h(this.h, 14, G, ae);
    }),
    (L.prototype._digest = function (l) {
      return l === "hex" ? r.toHex32(this.h, "big") : r.split32(this.h, "big");
    });
  function V(c, l, p, w, A) {
    var P = (c & p) ^ (~c & A);
    return P < 0 && (P += 4294967296), P;
  }
  function F(c, l, p, w, A, P) {
    var S = (l & w) ^ (~l & P);
    return S < 0 && (S += 4294967296), S;
  }
  function K(c, l, p, w, A) {
    var P = (c & p) ^ (c & A) ^ (p & A);
    return P < 0 && (P += 4294967296), P;
  }
  function B(c, l, p, w, A, P) {
    var S = (l & w) ^ (l & P) ^ (w & P);
    return S < 0 && (S += 4294967296), S;
  }
  function z(c, l) {
    var p = i(c, l, 28),
      w = i(l, c, 2),
      A = i(l, c, 7),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function q(c, l) {
    var p = s(c, l, 28),
      w = s(l, c, 2),
      A = s(l, c, 7),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function E(c, l) {
    var p = i(c, l, 14),
      w = i(c, l, 18),
      A = i(l, c, 9),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function U(c, l) {
    var p = s(c, l, 14),
      w = s(c, l, 18),
      A = s(l, c, 9),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function te(c, l) {
    var p = i(c, l, 1),
      w = i(c, l, 8),
      A = a(c, l, 7),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function oe(c, l) {
    var p = s(c, l, 1),
      w = s(c, l, 8),
      A = f(c, l, 7),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function k(c, l) {
    var p = i(c, l, 19),
      w = i(l, c, 29),
      A = a(c, l, 6),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  function y(c, l) {
    var p = s(c, l, 19),
      w = s(l, c, 29),
      A = f(c, l, 6),
      P = p ^ w ^ A;
    return P < 0 && (P += 4294967296), P;
  }
  return Oh;
}
var Rh, d1;
function L_() {
  if (d1) return Rh;
  d1 = 1;
  var r = Sn(),
    e = Yv();
  function t() {
    if (!(this instanceof t)) return new t();
    e.call(this),
      (this.h = [
        3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
        355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
        3675008525, 1694076839, 1203062813, 3204075428,
      ]);
  }
  return (
    r.inherits(t, e),
    (Rh = t),
    (t.blockSize = 1024),
    (t.outSize = 384),
    (t.hmacStrength = 192),
    (t.padLength = 128),
    (t.prototype._digest = function (s) {
      return s === "hex"
        ? r.toHex32(this.h.slice(0, 12), "big")
        : r.split32(this.h.slice(0, 12), "big");
    }),
    Rh
  );
}
var p1;
function U_() {
  return (
    p1 ||
      ((p1 = 1),
      (Cs.sha1 = F_()),
      (Cs.sha224 = B_()),
      (Cs.sha256 = Jv()),
      (Cs.sha384 = L_()),
      (Cs.sha512 = Yv())),
    Cs
  );
}
var Nh = {},
  g1;
function z_() {
  if (g1) return Nh;
  g1 = 1;
  var r = Sn(),
    e = To(),
    t = r.rotl32,
    i = r.sum32,
    s = r.sum32_3,
    a = r.sum32_4,
    f = e.BlockHash;
  function h() {
    if (!(this instanceof h)) return new h();
    f.call(this),
      (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
      (this.endian = "little");
  }
  r.inherits(h, f),
    (Nh.ripemd160 = h),
    (h.blockSize = 512),
    (h.outSize = 160),
    (h.hmacStrength = 192),
    (h.padLength = 64),
    (h.prototype._update = function (L, V) {
      for (
        var F = this.h[0],
          K = this.h[1],
          B = this.h[2],
          z = this.h[3],
          q = this.h[4],
          E = F,
          U = K,
          te = B,
          oe = z,
          k = q,
          y = 0;
        y < 80;
        y++
      ) {
        var c = i(t(a(F, d(y, K, B, z), L[_[y] + V], u(y)), M[y]), q);
        (F = q),
          (q = z),
          (z = t(B, 10)),
          (B = K),
          (K = c),
          (c = i(t(a(E, d(79 - y, U, te, oe), L[I[y] + V], b(y)), C[y]), k)),
          (E = k),
          (k = oe),
          (oe = t(te, 10)),
          (te = U),
          (U = c);
      }
      (c = s(this.h[1], B, oe)),
        (this.h[1] = s(this.h[2], z, k)),
        (this.h[2] = s(this.h[3], q, E)),
        (this.h[3] = s(this.h[4], F, U)),
        (this.h[4] = s(this.h[0], K, te)),
        (this.h[0] = c);
    }),
    (h.prototype._digest = function (L) {
      return L === "hex"
        ? r.toHex32(this.h, "little")
        : r.split32(this.h, "little");
    });
  function d(R, L, V, F) {
    return R <= 15
      ? L ^ V ^ F
      : R <= 31
        ? (L & V) | (~L & F)
        : R <= 47
          ? (L | ~V) ^ F
          : R <= 63
            ? (L & F) | (V & ~F)
            : L ^ (V | ~F);
  }
  function u(R) {
    return R <= 15
      ? 0
      : R <= 31
        ? 1518500249
        : R <= 47
          ? 1859775393
          : R <= 63
            ? 2400959708
            : 2840853838;
  }
  function b(R) {
    return R <= 15
      ? 1352829926
      : R <= 31
        ? 1548603684
        : R <= 47
          ? 1836072691
          : R <= 63
            ? 2053994217
            : 0;
  }
  var _ = [
      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
      15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6,
      13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0,
      5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
    ],
    I = [
      5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13,
      5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2,
      10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12,
      15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
    ],
    M = [
      11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11,
      9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8,
      13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5,
      12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
    ],
    C = [
      8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12,
      8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13,
      5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15,
      8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
    ];
  return Nh;
}
var Th, v1;
function k_() {
  if (v1) return Th;
  v1 = 1;
  var r = Sn(),
    e = ks();
  function t(i, s, a) {
    if (!(this instanceof t)) return new t(i, s, a);
    (this.Hash = i),
      (this.blockSize = i.blockSize / 8),
      (this.outSize = i.outSize / 8),
      (this.inner = null),
      (this.outer = null),
      this._init(r.toArray(s, a));
  }
  return (
    (Th = t),
    (t.prototype._init = function (s) {
      s.length > this.blockSize && (s = new this.Hash().update(s).digest()),
        e(s.length <= this.blockSize);
      for (var a = s.length; a < this.blockSize; a++) s.push(0);
      for (a = 0; a < s.length; a++) s[a] ^= 54;
      for (this.inner = new this.Hash().update(s), a = 0; a < s.length; a++)
        s[a] ^= 106;
      this.outer = new this.Hash().update(s);
    }),
    (t.prototype.update = function (s, a) {
      return this.inner.update(s, a), this;
    }),
    (t.prototype.digest = function (s) {
      return this.outer.update(this.inner.digest()), this.outer.digest(s);
    }),
    Th
  );
}
var b1;
function Kl() {
  return (
    b1 ||
      ((b1 = 1),
      (function (r) {
        var e = r;
        (e.utils = Sn()),
          (e.common = To()),
          (e.sha = U_()),
          (e.ripemd = z_()),
          (e.hmac = k_()),
          (e.sha1 = e.sha.sha1),
          (e.sha256 = e.sha.sha256),
          (e.sha224 = e.sha.sha224),
          (e.sha384 = e.sha.sha384),
          (e.sha512 = e.sha.sha512),
          (e.ripemd160 = e.ripemd.ripemd160);
      })(Mh)),
    Mh
  );
}
var qh, m1;
function j_() {
  return (
    m1 ||
      ((m1 = 1),
      (qh = {
        doubles: {
          step: 4,
          points: [
            [
              "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a",
              "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821",
            ],
            [
              "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508",
              "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf",
            ],
            [
              "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739",
              "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695",
            ],
            [
              "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640",
              "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9",
            ],
            [
              "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c",
              "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36",
            ],
            [
              "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda",
              "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f",
            ],
            [
              "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa",
              "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999",
            ],
            [
              "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0",
              "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09",
            ],
            [
              "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d",
              "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d",
            ],
            [
              "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d",
              "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088",
            ],
            [
              "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1",
              "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d",
            ],
            [
              "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0",
              "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8",
            ],
            [
              "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047",
              "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a",
            ],
            [
              "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862",
              "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453",
            ],
            [
              "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7",
              "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160",
            ],
            [
              "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd",
              "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0",
            ],
            [
              "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83",
              "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6",
            ],
            [
              "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a",
              "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589",
            ],
            [
              "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8",
              "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17",
            ],
            [
              "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d",
              "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda",
            ],
            [
              "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725",
              "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd",
            ],
            [
              "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754",
              "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2",
            ],
            [
              "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c",
              "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6",
            ],
            [
              "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6",
              "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f",
            ],
            [
              "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39",
              "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01",
            ],
            [
              "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891",
              "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3",
            ],
            [
              "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b",
              "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f",
            ],
            [
              "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03",
              "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7",
            ],
            [
              "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d",
              "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78",
            ],
            [
              "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070",
              "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1",
            ],
            [
              "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4",
              "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150",
            ],
            [
              "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da",
              "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82",
            ],
            [
              "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11",
              "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc",
            ],
            [
              "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e",
              "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b",
            ],
            [
              "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41",
              "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51",
            ],
            [
              "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef",
              "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45",
            ],
            [
              "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8",
              "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120",
            ],
            [
              "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d",
              "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84",
            ],
            [
              "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96",
              "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d",
            ],
            [
              "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd",
              "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d",
            ],
            [
              "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5",
              "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8",
            ],
            [
              "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266",
              "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8",
            ],
            [
              "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71",
              "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac",
            ],
            [
              "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac",
              "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f",
            ],
            [
              "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751",
              "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962",
            ],
            [
              "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e",
              "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907",
            ],
            [
              "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241",
              "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec",
            ],
            [
              "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3",
              "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d",
            ],
            [
              "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f",
              "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414",
            ],
            [
              "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19",
              "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd",
            ],
            [
              "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be",
              "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0",
            ],
            [
              "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9",
              "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811",
            ],
            [
              "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2",
              "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1",
            ],
            [
              "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13",
              "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c",
            ],
            [
              "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c",
              "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73",
            ],
            [
              "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba",
              "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd",
            ],
            [
              "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151",
              "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405",
            ],
            [
              "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073",
              "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589",
            ],
            [
              "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458",
              "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e",
            ],
            [
              "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b",
              "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27",
            ],
            [
              "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366",
              "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1",
            ],
            [
              "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa",
              "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482",
            ],
            [
              "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0",
              "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945",
            ],
            [
              "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787",
              "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573",
            ],
            [
              "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e",
              "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82",
            ],
          ],
        },
        naf: {
          wnd: 7,
          points: [
            [
              "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
              "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672",
            ],
            [
              "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4",
              "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6",
            ],
            [
              "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc",
              "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da",
            ],
            [
              "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe",
              "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37",
            ],
            [
              "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb",
              "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b",
            ],
            [
              "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8",
              "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81",
            ],
            [
              "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e",
              "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58",
            ],
            [
              "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34",
              "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77",
            ],
            [
              "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c",
              "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a",
            ],
            [
              "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5",
              "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c",
            ],
            [
              "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f",
              "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67",
            ],
            [
              "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714",
              "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402",
            ],
            [
              "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729",
              "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55",
            ],
            [
              "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db",
              "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482",
            ],
            [
              "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4",
              "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82",
            ],
            [
              "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5",
              "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396",
            ],
            [
              "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479",
              "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49",
            ],
            [
              "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d",
              "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf",
            ],
            [
              "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f",
              "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a",
            ],
            [
              "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb",
              "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7",
            ],
            [
              "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9",
              "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933",
            ],
            [
              "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963",
              "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a",
            ],
            [
              "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74",
              "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6",
            ],
            [
              "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530",
              "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37",
            ],
            [
              "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b",
              "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e",
            ],
            [
              "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247",
              "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6",
            ],
            [
              "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1",
              "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476",
            ],
            [
              "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120",
              "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40",
            ],
            [
              "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435",
              "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61",
            ],
            [
              "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18",
              "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683",
            ],
            [
              "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8",
              "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5",
            ],
            [
              "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb",
              "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b",
            ],
            [
              "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f",
              "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417",
            ],
            [
              "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143",
              "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868",
            ],
            [
              "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba",
              "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a",
            ],
            [
              "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45",
              "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6",
            ],
            [
              "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a",
              "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996",
            ],
            [
              "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e",
              "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e",
            ],
            [
              "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8",
              "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d",
            ],
            [
              "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c",
              "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2",
            ],
            [
              "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519",
              "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e",
            ],
            [
              "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab",
              "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437",
            ],
            [
              "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca",
              "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311",
            ],
            [
              "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf",
              "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4",
            ],
            [
              "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610",
              "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575",
            ],
            [
              "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4",
              "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d",
            ],
            [
              "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c",
              "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d",
            ],
            [
              "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940",
              "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629",
            ],
            [
              "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980",
              "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06",
            ],
            [
              "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3",
              "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374",
            ],
            [
              "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf",
              "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee",
            ],
            [
              "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63",
              "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1",
            ],
            [
              "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448",
              "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b",
            ],
            [
              "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf",
              "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661",
            ],
            [
              "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5",
              "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6",
            ],
            [
              "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6",
              "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e",
            ],
            [
              "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5",
              "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d",
            ],
            [
              "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99",
              "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc",
            ],
            [
              "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51",
              "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4",
            ],
            [
              "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5",
              "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c",
            ],
            [
              "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5",
              "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b",
            ],
            [
              "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997",
              "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913",
            ],
            [
              "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881",
              "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154",
            ],
            [
              "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5",
              "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865",
            ],
            [
              "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66",
              "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc",
            ],
            [
              "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726",
              "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224",
            ],
            [
              "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede",
              "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e",
            ],
            [
              "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94",
              "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6",
            ],
            [
              "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31",
              "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511",
            ],
            [
              "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51",
              "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b",
            ],
            [
              "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252",
              "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2",
            ],
            [
              "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5",
              "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c",
            ],
            [
              "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b",
              "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3",
            ],
            [
              "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4",
              "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d",
            ],
            [
              "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f",
              "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700",
            ],
            [
              "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889",
              "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4",
            ],
            [
              "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246",
              "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196",
            ],
            [
              "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984",
              "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4",
            ],
            [
              "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a",
              "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257",
            ],
            [
              "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030",
              "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13",
            ],
            [
              "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197",
              "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096",
            ],
            [
              "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593",
              "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38",
            ],
            [
              "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef",
              "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f",
            ],
            [
              "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38",
              "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448",
            ],
            [
              "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a",
              "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a",
            ],
            [
              "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111",
              "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4",
            ],
            [
              "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502",
              "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437",
            ],
            [
              "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea",
              "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7",
            ],
            [
              "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26",
              "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d",
            ],
            [
              "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986",
              "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a",
            ],
            [
              "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e",
              "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54",
            ],
            [
              "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4",
              "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77",
            ],
            [
              "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda",
              "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517",
            ],
            [
              "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859",
              "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10",
            ],
            [
              "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f",
              "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125",
            ],
            [
              "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c",
              "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e",
            ],
            [
              "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942",
              "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1",
            ],
            [
              "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a",
              "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2",
            ],
            [
              "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80",
              "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423",
            ],
            [
              "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d",
              "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8",
            ],
            [
              "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1",
              "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758",
            ],
            [
              "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63",
              "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375",
            ],
            [
              "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352",
              "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d",
            ],
            [
              "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193",
              "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec",
            ],
            [
              "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00",
              "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0",
            ],
            [
              "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58",
              "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c",
            ],
            [
              "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7",
              "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4",
            ],
            [
              "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8",
              "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f",
            ],
            [
              "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e",
              "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649",
            ],
            [
              "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d",
              "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826",
            ],
            [
              "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b",
              "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5",
            ],
            [
              "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f",
              "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87",
            ],
            [
              "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6",
              "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b",
            ],
            [
              "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297",
              "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc",
            ],
            [
              "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a",
              "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c",
            ],
            [
              "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c",
              "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f",
            ],
            [
              "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52",
              "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a",
            ],
            [
              "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb",
              "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46",
            ],
            [
              "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065",
              "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f",
            ],
            [
              "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917",
              "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03",
            ],
            [
              "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9",
              "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08",
            ],
            [
              "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3",
              "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8",
            ],
            [
              "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57",
              "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373",
            ],
            [
              "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66",
              "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3",
            ],
            [
              "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8",
              "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8",
            ],
            [
              "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721",
              "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1",
            ],
            [
              "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180",
              "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9",
            ],
          ],
        },
      })),
    qh
  );
}
var y1;
function Vl() {
  return (
    y1 ||
      ((y1 = 1),
      (function (r) {
        var e = r,
          t = Kl(),
          i = Gv(),
          s = Ni(),
          a = s.assert;
        function f(u) {
          u.type === "short"
            ? (this.curve = new i.short(u))
            : u.type === "edwards"
              ? (this.curve = new i.edwards(u))
              : (this.curve = new i.mont(u)),
            (this.g = this.curve.g),
            (this.n = this.curve.n),
            (this.hash = u.hash),
            a(this.g.validate(), "Invalid curve"),
            a(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
        }
        e.PresetCurve = f;
        function h(u, b) {
          Object.defineProperty(e, u, {
            configurable: !0,
            enumerable: !0,
            get: function () {
              var _ = new f(b);
              return (
                Object.defineProperty(e, u, {
                  configurable: !0,
                  enumerable: !0,
                  value: _,
                }),
                _
              );
            },
          });
        }
        h("p192", {
          type: "short",
          prime: "p192",
          p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
          a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
          b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
          n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
          hash: t.sha256,
          gRed: !1,
          g: [
            "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
            "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
          ],
        }),
          h("p224", {
            type: "short",
            prime: "p224",
            p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
            a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
            b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
            n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
            hash: t.sha256,
            gRed: !1,
            g: [
              "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
              "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
            ],
          }),
          h("p256", {
            type: "short",
            prime: null,
            p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
            a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
            b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
            n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
            hash: t.sha256,
            gRed: !1,
            g: [
              "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
              "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
            ],
          }),
          h("p384", {
            type: "short",
            prime: null,
            p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
            a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
            b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
            n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
            hash: t.sha384,
            gRed: !1,
            g: [
              "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
              "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
            ],
          }),
          h("p521", {
            type: "short",
            prime: null,
            p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
            a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
            b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
            n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
            hash: t.sha512,
            gRed: !1,
            g: [
              "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
              "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
            ],
          }),
          h("curve25519", {
            type: "mont",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "76d06",
            b: "1",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: t.sha256,
            gRed: !1,
            g: ["9"],
          }),
          h("ed25519", {
            type: "edwards",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "-1",
            c: "1",
            d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: t.sha256,
            gRed: !1,
            g: [
              "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
              "6666666666666666666666666666666666666666666666666666666666666658",
            ],
          });
        var d;
        try {
          d = j_();
        } catch {
          d = void 0;
        }
        h("secp256k1", {
          type: "short",
          prime: "k256",
          p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
          a: "0",
          b: "7",
          n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
          h: "1",
          hash: t.sha256,
          beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
          lambda:
            "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
          basis: [
            {
              a: "3086d221a7d46bcde86c90e49284eb15",
              b: "-e4437ed6010e88286f547fa90abfe4c3",
            },
            {
              a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
              b: "3086d221a7d46bcde86c90e49284eb15",
            },
          ],
          gRed: !1,
          g: [
            "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
            "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
            d,
          ],
        });
      })(Sh)),
    Sh
  );
}
var Fh, w1;
function $_() {
  if (w1) return Fh;
  w1 = 1;
  var r = Kl(),
    e = Kv(),
    t = ks();
  function i(s) {
    if (!(this instanceof i)) return new i(s);
    (this.hash = s.hash),
      (this.predResist = !!s.predResist),
      (this.outLen = this.hash.outSize),
      (this.minEntropy = s.minEntropy || this.hash.hmacStrength),
      (this._reseed = null),
      (this.reseedInterval = null),
      (this.K = null),
      (this.V = null);
    var a = e.toArray(s.entropy, s.entropyEnc || "hex"),
      f = e.toArray(s.nonce, s.nonceEnc || "hex"),
      h = e.toArray(s.pers, s.persEnc || "hex");
    t(
      a.length >= this.minEntropy / 8,
      "Not enough entropy. Minimum is: " + this.minEntropy + " bits",
    ),
      this._init(a, f, h);
  }
  return (
    (Fh = i),
    (i.prototype._init = function (a, f, h) {
      var d = a.concat(f).concat(h);
      (this.K = new Array(this.outLen / 8)),
        (this.V = new Array(this.outLen / 8));
      for (var u = 0; u < this.V.length; u++) (this.K[u] = 0), (this.V[u] = 1);
      this._update(d),
        (this._reseed = 1),
        (this.reseedInterval = 281474976710656);
    }),
    (i.prototype._hmac = function () {
      return new r.hmac(this.hash, this.K);
    }),
    (i.prototype._update = function (a) {
      var f = this._hmac().update(this.V).update([0]);
      a && (f = f.update(a)),
        (this.K = f.digest()),
        (this.V = this._hmac().update(this.V).digest()),
        a &&
          ((this.K = this._hmac()
            .update(this.V)
            .update([1])
            .update(a)
            .digest()),
          (this.V = this._hmac().update(this.V).digest()));
    }),
    (i.prototype.reseed = function (a, f, h, d) {
      typeof f != "string" && ((d = h), (h = f), (f = null)),
        (a = e.toArray(a, f)),
        (h = e.toArray(h, d)),
        t(
          a.length >= this.minEntropy / 8,
          "Not enough entropy. Minimum is: " + this.minEntropy + " bits",
        ),
        this._update(a.concat(h || [])),
        (this._reseed = 1);
    }),
    (i.prototype.generate = function (a, f, h, d) {
      if (this._reseed > this.reseedInterval)
        throw new Error("Reseed is required");
      typeof f != "string" && ((d = h), (h = f), (f = null)),
        h && ((h = e.toArray(h, d || "hex")), this._update(h));
      for (var u = []; u.length < a; )
        (this.V = this._hmac().update(this.V).digest()), (u = u.concat(this.V));
      var b = u.slice(0, a);
      return this._update(h), this._reseed++, e.encode(b, f);
    }),
    Fh
  );
}
var Bh, _1;
function H_() {
  if (_1) return Bh;
  _1 = 1;
  var r = Wn(),
    e = Ni(),
    t = e.assert;
  function i(s, a) {
    (this.ec = s),
      (this.priv = null),
      (this.pub = null),
      a.priv && this._importPrivate(a.priv, a.privEnc),
      a.pub && this._importPublic(a.pub, a.pubEnc);
  }
  return (
    (Bh = i),
    (i.fromPublic = function (a, f, h) {
      return f instanceof i ? f : new i(a, { pub: f, pubEnc: h });
    }),
    (i.fromPrivate = function (a, f, h) {
      return f instanceof i ? f : new i(a, { priv: f, privEnc: h });
    }),
    (i.prototype.validate = function () {
      var a = this.getPublic();
      return a.isInfinity()
        ? { result: !1, reason: "Invalid public key" }
        : a.validate()
          ? a.mul(this.ec.curve.n).isInfinity()
            ? { result: !0, reason: null }
            : { result: !1, reason: "Public key * N != O" }
          : { result: !1, reason: "Public key is not a point" };
    }),
    (i.prototype.getPublic = function (a, f) {
      return (
        typeof a == "string" && ((f = a), (a = null)),
        this.pub || (this.pub = this.ec.g.mul(this.priv)),
        f ? this.pub.encode(f, a) : this.pub
      );
    }),
    (i.prototype.getPrivate = function (a) {
      return a === "hex" ? this.priv.toString(16, 2) : this.priv;
    }),
    (i.prototype._importPrivate = function (a, f) {
      (this.priv = new r(a, f || 16)),
        (this.priv = this.priv.umod(this.ec.curve.n));
    }),
    (i.prototype._importPublic = function (a, f) {
      if (a.x || a.y) {
        this.ec.curve.type === "mont"
          ? t(a.x, "Need x coordinate")
          : (this.ec.curve.type === "short" ||
              this.ec.curve.type === "edwards") &&
            t(a.x && a.y, "Need both x and y coordinate"),
          (this.pub = this.ec.curve.point(a.x, a.y));
        return;
      }
      this.pub = this.ec.curve.decodePoint(a, f);
    }),
    (i.prototype.derive = function (a) {
      return (
        a.validate() || t(a.validate(), "public point not validated"),
        a.mul(this.priv).getX()
      );
    }),
    (i.prototype.sign = function (a, f, h) {
      return this.ec.sign(a, this, f, h);
    }),
    (i.prototype.verify = function (a, f, h) {
      return this.ec.verify(a, f, this, void 0, h);
    }),
    (i.prototype.inspect = function () {
      return (
        "<Key priv: " +
        (this.priv && this.priv.toString(16, 2)) +
        " pub: " +
        (this.pub && this.pub.inspect()) +
        " >"
      );
    }),
    Bh
  );
}
var Lh, A1;
function K_() {
  if (A1) return Lh;
  A1 = 1;
  var r = Wn(),
    e = Ni(),
    t = e.assert;
  function i(d, u) {
    if (d instanceof i) return d;
    this._importDER(d, u) ||
      (t(d.r && d.s, "Signature without r or s"),
      (this.r = new r(d.r, 16)),
      (this.s = new r(d.s, 16)),
      d.recoveryParam === void 0
        ? (this.recoveryParam = null)
        : (this.recoveryParam = d.recoveryParam));
  }
  Lh = i;
  function s() {
    this.place = 0;
  }
  function a(d, u) {
    var b = d[u.place++];
    if (!(b & 128)) return b;
    var _ = b & 15;
    if (_ === 0 || _ > 4 || d[u.place] === 0) return !1;
    for (var I = 0, M = 0, C = u.place; M < _; M++, C++)
      (I <<= 8), (I |= d[C]), (I >>>= 0);
    return I <= 127 ? !1 : ((u.place = C), I);
  }
  function f(d) {
    for (var u = 0, b = d.length - 1; !d[u] && !(d[u + 1] & 128) && u < b; )
      u++;
    return u === 0 ? d : d.slice(u);
  }
  i.prototype._importDER = function (u, b) {
    u = e.toArray(u, b);
    var _ = new s();
    if (u[_.place++] !== 48) return !1;
    var I = a(u, _);
    if (I === !1 || I + _.place !== u.length || u[_.place++] !== 2) return !1;
    var M = a(u, _);
    if (M === !1 || (u[_.place] & 128) !== 0) return !1;
    var C = u.slice(_.place, M + _.place);
    if (((_.place += M), u[_.place++] !== 2)) return !1;
    var R = a(u, _);
    if (R === !1 || u.length !== R + _.place || (u[_.place] & 128) !== 0)
      return !1;
    var L = u.slice(_.place, R + _.place);
    if (C[0] === 0)
      if (C[1] & 128) C = C.slice(1);
      else return !1;
    if (L[0] === 0)
      if (L[1] & 128) L = L.slice(1);
      else return !1;
    return (
      (this.r = new r(C)), (this.s = new r(L)), (this.recoveryParam = null), !0
    );
  };
  function h(d, u) {
    if (u < 128) {
      d.push(u);
      return;
    }
    var b = 1 + ((Math.log(u) / Math.LN2) >>> 3);
    for (d.push(b | 128); --b; ) d.push((u >>> (b << 3)) & 255);
    d.push(u);
  }
  return (
    (i.prototype.toDER = function (u) {
      var b = this.r.toArray(),
        _ = this.s.toArray();
      for (
        b[0] & 128 && (b = [0].concat(b)),
          _[0] & 128 && (_ = [0].concat(_)),
          b = f(b),
          _ = f(_);
        !_[0] && !(_[1] & 128);

      )
        _ = _.slice(1);
      var I = [2];
      h(I, b.length), (I = I.concat(b)), I.push(2), h(I, _.length);
      var M = I.concat(_),
        C = [48];
      return h(C, M.length), (C = C.concat(M)), e.encode(C, u);
    }),
    Lh
  );
}
var Uh, E1;
function V_() {
  if (E1) return Uh;
  E1 = 1;
  var r = Wn(),
    e = $_(),
    t = Ni(),
    i = Vl(),
    s = Vv(),
    a = t.assert,
    f = H_(),
    h = K_();
  function d(u) {
    if (!(this instanceof d)) return new d(u);
    typeof u == "string" &&
      (a(Object.prototype.hasOwnProperty.call(i, u), "Unknown curve " + u),
      (u = i[u])),
      u instanceof i.PresetCurve && (u = { curve: u }),
      (this.curve = u.curve.curve),
      (this.n = this.curve.n),
      (this.nh = this.n.ushrn(1)),
      (this.g = this.curve.g),
      (this.g = u.curve.g),
      this.g.precompute(u.curve.n.bitLength() + 1),
      (this.hash = u.hash || u.curve.hash);
  }
  return (
    (Uh = d),
    (d.prototype.keyPair = function (b) {
      return new f(this, b);
    }),
    (d.prototype.keyFromPrivate = function (b, _) {
      return f.fromPrivate(this, b, _);
    }),
    (d.prototype.keyFromPublic = function (b, _) {
      return f.fromPublic(this, b, _);
    }),
    (d.prototype.genKeyPair = function (b) {
      b || (b = {});
      for (
        var _ = new e({
            hash: this.hash,
            pers: b.pers,
            persEnc: b.persEnc || "utf8",
            entropy: b.entropy || s(this.hash.hmacStrength),
            entropyEnc: (b.entropy && b.entropyEnc) || "utf8",
            nonce: this.n.toArray(),
          }),
          I = this.n.byteLength(),
          M = this.n.sub(new r(2));
        ;

      ) {
        var C = new r(_.generate(I));
        if (!(C.cmp(M) > 0)) return C.iaddn(1), this.keyFromPrivate(C);
      }
    }),
    (d.prototype._truncateToN = function (b, _, I) {
      var M;
      if (r.isBN(b) || typeof b == "number")
        (b = new r(b, 16)), (M = b.byteLength());
      else if (typeof b == "object") (M = b.length), (b = new r(b, 16));
      else {
        var C = b.toString();
        (M = (C.length + 1) >>> 1), (b = new r(C, 16));
      }
      typeof I != "number" && (I = M * 8);
      var R = I - this.n.bitLength();
      return (
        R > 0 && (b = b.ushrn(R)), !_ && b.cmp(this.n) >= 0 ? b.sub(this.n) : b
      );
    }),
    (d.prototype.sign = function (b, _, I, M) {
      if (
        (typeof I == "object" && ((M = I), (I = null)),
        M || (M = {}),
        typeof b != "string" && typeof b != "number" && !r.isBN(b))
      ) {
        a(
          typeof b == "object" && b && typeof b.length == "number",
          "Expected message to be an array-like, a hex string, or a BN instance",
        ),
          a(b.length >>> 0 === b.length);
        for (var C = 0; C < b.length; C++) a((b[C] & 255) === b[C]);
      }
      (_ = this.keyFromPrivate(_, I)),
        (b = this._truncateToN(b, !1, M.msgBitLength)),
        a(!b.isNeg(), "Can not sign a negative message");
      var R = this.n.byteLength(),
        L = _.getPrivate().toArray("be", R),
        V = b.toArray("be", R);
      a(new r(V).eq(b), "Can not sign message");
      for (
        var F = new e({
            hash: this.hash,
            entropy: L,
            nonce: V,
            pers: M.pers,
            persEnc: M.persEnc || "utf8",
          }),
          K = this.n.sub(new r(1)),
          B = 0;
        ;
        B++
      ) {
        var z = M.k ? M.k(B) : new r(F.generate(this.n.byteLength()));
        if (
          ((z = this._truncateToN(z, !0)), !(z.cmpn(1) <= 0 || z.cmp(K) >= 0))
        ) {
          var q = this.g.mul(z);
          if (!q.isInfinity()) {
            var E = q.getX(),
              U = E.umod(this.n);
            if (U.cmpn(0) !== 0) {
              var te = z.invm(this.n).mul(U.mul(_.getPrivate()).iadd(b));
              if (((te = te.umod(this.n)), te.cmpn(0) !== 0)) {
                var oe = (q.getY().isOdd() ? 1 : 0) | (E.cmp(U) !== 0 ? 2 : 0);
                return (
                  M.canonical &&
                    te.cmp(this.nh) > 0 &&
                    ((te = this.n.sub(te)), (oe ^= 1)),
                  new h({ r: U, s: te, recoveryParam: oe })
                );
              }
            }
          }
        }
      }
    }),
    (d.prototype.verify = function (b, _, I, M, C) {
      C || (C = {}),
        (b = this._truncateToN(b, !1, C.msgBitLength)),
        (I = this.keyFromPublic(I, M)),
        (_ = new h(_, "hex"));
      var R = _.r,
        L = _.s;
      if (
        R.cmpn(1) < 0 ||
        R.cmp(this.n) >= 0 ||
        L.cmpn(1) < 0 ||
        L.cmp(this.n) >= 0
      )
        return !1;
      var V = L.invm(this.n),
        F = V.mul(b).umod(this.n),
        K = V.mul(R).umod(this.n),
        B;
      return this.curve._maxwellTrick
        ? ((B = this.g.jmulAdd(F, I.getPublic(), K)),
          B.isInfinity() ? !1 : B.eqXToP(R))
        : ((B = this.g.mulAdd(F, I.getPublic(), K)),
          B.isInfinity() ? !1 : B.getX().umod(this.n).cmp(R) === 0);
    }),
    (d.prototype.recoverPubKey = function (u, b, _, I) {
      a((3 & _) === _, "The recovery param is more than two bits"),
        (b = new h(b, I));
      var M = this.n,
        C = new r(u),
        R = b.r,
        L = b.s,
        V = _ & 1,
        F = _ >> 1;
      if (R.cmp(this.curve.p.umod(this.curve.n)) >= 0 && F)
        throw new Error("Unable to find sencond key candinate");
      F
        ? (R = this.curve.pointFromX(R.add(this.curve.n), V))
        : (R = this.curve.pointFromX(R, V));
      var K = b.r.invm(M),
        B = M.sub(C).mul(K).umod(M),
        z = L.mul(K).umod(M);
      return this.g.mulAdd(B, R, z);
    }),
    (d.prototype.getKeyRecoveryParam = function (u, b, _, I) {
      if (((b = new h(b, I)), b.recoveryParam !== null)) return b.recoveryParam;
      for (var M = 0; M < 4; M++) {
        var C;
        try {
          C = this.recoverPubKey(u, b, M);
        } catch {
          continue;
        }
        if (C.eq(_)) return M;
      }
      throw new Error("Unable to find valid recovery factor");
    }),
    Uh
  );
}
var zh, x1;
function G_() {
  if (x1) return zh;
  x1 = 1;
  var r = Ni(),
    e = r.assert,
    t = r.parseBytes,
    i = r.cachedProperty;
  function s(a, f) {
    (this.eddsa = a),
      (this._secret = t(f.secret)),
      a.isPoint(f.pub) ? (this._pub = f.pub) : (this._pubBytes = t(f.pub));
  }
  return (
    (s.fromPublic = function (f, h) {
      return h instanceof s ? h : new s(f, { pub: h });
    }),
    (s.fromSecret = function (f, h) {
      return h instanceof s ? h : new s(f, { secret: h });
    }),
    (s.prototype.secret = function () {
      return this._secret;
    }),
    i(s, "pubBytes", function () {
      return this.eddsa.encodePoint(this.pub());
    }),
    i(s, "pub", function () {
      return this._pubBytes
        ? this.eddsa.decodePoint(this._pubBytes)
        : this.eddsa.g.mul(this.priv());
    }),
    i(s, "privBytes", function () {
      var f = this.eddsa,
        h = this.hash(),
        d = f.encodingLength - 1,
        u = h.slice(0, f.encodingLength);
      return (u[0] &= 248), (u[d] &= 127), (u[d] |= 64), u;
    }),
    i(s, "priv", function () {
      return this.eddsa.decodeInt(this.privBytes());
    }),
    i(s, "hash", function () {
      return this.eddsa.hash().update(this.secret()).digest();
    }),
    i(s, "messagePrefix", function () {
      return this.hash().slice(this.eddsa.encodingLength);
    }),
    (s.prototype.sign = function (f) {
      return (
        e(this._secret, "KeyPair can only verify"), this.eddsa.sign(f, this)
      );
    }),
    (s.prototype.verify = function (f, h) {
      return this.eddsa.verify(f, h, this);
    }),
    (s.prototype.getSecret = function (f) {
      return (
        e(this._secret, "KeyPair is public only"), r.encode(this.secret(), f)
      );
    }),
    (s.prototype.getPublic = function (f) {
      return r.encode(this.pubBytes(), f);
    }),
    (zh = s),
    zh
  );
}
var kh, S1;
function W_() {
  if (S1) return kh;
  S1 = 1;
  var r = Wn(),
    e = Ni(),
    t = e.assert,
    i = e.cachedProperty,
    s = e.parseBytes;
  function a(f, h) {
    (this.eddsa = f),
      typeof h != "object" && (h = s(h)),
      Array.isArray(h) &&
        (t(h.length === f.encodingLength * 2, "Signature has invalid size"),
        (h = {
          R: h.slice(0, f.encodingLength),
          S: h.slice(f.encodingLength),
        })),
      t(h.R && h.S, "Signature without R or S"),
      f.isPoint(h.R) && (this._R = h.R),
      h.S instanceof r && (this._S = h.S),
      (this._Rencoded = Array.isArray(h.R) ? h.R : h.Rencoded),
      (this._Sencoded = Array.isArray(h.S) ? h.S : h.Sencoded);
  }
  return (
    i(a, "S", function () {
      return this.eddsa.decodeInt(this.Sencoded());
    }),
    i(a, "R", function () {
      return this.eddsa.decodePoint(this.Rencoded());
    }),
    i(a, "Rencoded", function () {
      return this.eddsa.encodePoint(this.R());
    }),
    i(a, "Sencoded", function () {
      return this.eddsa.encodeInt(this.S());
    }),
    (a.prototype.toBytes = function () {
      return this.Rencoded().concat(this.Sencoded());
    }),
    (a.prototype.toHex = function () {
      return e.encode(this.toBytes(), "hex").toUpperCase();
    }),
    (kh = a),
    kh
  );
}
var jh, M1;
function J_() {
  if (M1) return jh;
  M1 = 1;
  var r = Kl(),
    e = Vl(),
    t = Ni(),
    i = t.assert,
    s = t.parseBytes,
    a = G_(),
    f = W_();
  function h(d) {
    if (
      (i(d === "ed25519", "only tested with ed25519 so far"),
      !(this instanceof h))
    )
      return new h(d);
    (d = e[d].curve),
      (this.curve = d),
      (this.g = d.g),
      this.g.precompute(d.n.bitLength() + 1),
      (this.pointClass = d.point().constructor),
      (this.encodingLength = Math.ceil(d.n.bitLength() / 8)),
      (this.hash = r.sha512);
  }
  return (
    (jh = h),
    (h.prototype.sign = function (u, b) {
      u = s(u);
      var _ = this.keyFromSecret(b),
        I = this.hashInt(_.messagePrefix(), u),
        M = this.g.mul(I),
        C = this.encodePoint(M),
        R = this.hashInt(C, _.pubBytes(), u).mul(_.priv()),
        L = I.add(R).umod(this.curve.n);
      return this.makeSignature({ R: M, S: L, Rencoded: C });
    }),
    (h.prototype.verify = function (u, b, _) {
      if (
        ((u = s(u)),
        (b = this.makeSignature(b)),
        b.S().gte(b.eddsa.curve.n) || b.S().isNeg())
      )
        return !1;
      var I = this.keyFromPublic(_),
        M = this.hashInt(b.Rencoded(), I.pubBytes(), u),
        C = this.g.mul(b.S()),
        R = b.R().add(I.pub().mul(M));
      return R.eq(C);
    }),
    (h.prototype.hashInt = function () {
      for (var u = this.hash(), b = 0; b < arguments.length; b++)
        u.update(arguments[b]);
      return t.intFromLE(u.digest()).umod(this.curve.n);
    }),
    (h.prototype.keyFromPublic = function (u) {
      return a.fromPublic(this, u);
    }),
    (h.prototype.keyFromSecret = function (u) {
      return a.fromSecret(this, u);
    }),
    (h.prototype.makeSignature = function (u) {
      return u instanceof f ? u : new f(this, u);
    }),
    (h.prototype.encodePoint = function (u) {
      var b = u.getY().toArray("le", this.encodingLength);
      return (b[this.encodingLength - 1] |= u.getX().isOdd() ? 128 : 0), b;
    }),
    (h.prototype.decodePoint = function (u) {
      u = t.parseBytes(u);
      var b = u.length - 1,
        _ = u.slice(0, b).concat(u[b] & -129),
        I = (u[b] & 128) !== 0,
        M = t.intFromLE(_);
      return this.curve.pointFromY(M, I);
    }),
    (h.prototype.encodeInt = function (u) {
      return u.toArray("le", this.encodingLength);
    }),
    (h.prototype.decodeInt = function (u) {
      return t.intFromLE(u);
    }),
    (h.prototype.isPoint = function (u) {
      return u instanceof this.pointClass;
    }),
    jh
  );
}
var I1;
function Y_() {
  return (
    I1 ||
      ((I1 = 1),
      (function (r) {
        var e = r;
        (e.version = O_.version),
          (e.utils = Ni()),
          (e.rand = Vv()),
          (e.curve = Gv()),
          (e.curves = Vl()),
          (e.ec = V_()),
          (e.eddsa = J_());
      })(vh)),
    vh
  );
}
var Q_ = Y_(),
  $h = {},
  Hh = {},
  D1;
function X_() {
  return (
    D1 ||
      ((D1 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        var e = Oo(),
          t = en();
        (r.DIGEST_LENGTH = 64), (r.BLOCK_SIZE = 128);
        var i = (function () {
          function h() {
            (this.digestLength = r.DIGEST_LENGTH),
              (this.blockSize = r.BLOCK_SIZE),
              (this._stateHi = new Int32Array(8)),
              (this._stateLo = new Int32Array(8)),
              (this._tempHi = new Int32Array(16)),
              (this._tempLo = new Int32Array(16)),
              (this._buffer = new Uint8Array(256)),
              (this._bufferLength = 0),
              (this._bytesHashed = 0),
              (this._finished = !1),
              this.reset();
          }
          return (
            (h.prototype._initState = function () {
              (this._stateHi[0] = 1779033703),
                (this._stateHi[1] = 3144134277),
                (this._stateHi[2] = 1013904242),
                (this._stateHi[3] = 2773480762),
                (this._stateHi[4] = 1359893119),
                (this._stateHi[5] = 2600822924),
                (this._stateHi[6] = 528734635),
                (this._stateHi[7] = 1541459225),
                (this._stateLo[0] = 4089235720),
                (this._stateLo[1] = 2227873595),
                (this._stateLo[2] = 4271175723),
                (this._stateLo[3] = 1595750129),
                (this._stateLo[4] = 2917565137),
                (this._stateLo[5] = 725511199),
                (this._stateLo[6] = 4215389547),
                (this._stateLo[7] = 327033209);
            }),
            (h.prototype.reset = function () {
              return (
                this._initState(),
                (this._bufferLength = 0),
                (this._bytesHashed = 0),
                (this._finished = !1),
                this
              );
            }),
            (h.prototype.clean = function () {
              t.wipe(this._buffer),
                t.wipe(this._tempHi),
                t.wipe(this._tempLo),
                this.reset();
            }),
            (h.prototype.update = function (d, u) {
              if ((u === void 0 && (u = d.length), this._finished))
                throw new Error(
                  "SHA512: can't update because hash was finished.",
                );
              var b = 0;
              if (((this._bytesHashed += u), this._bufferLength > 0)) {
                for (; this._bufferLength < r.BLOCK_SIZE && u > 0; )
                  (this._buffer[this._bufferLength++] = d[b++]), u--;
                this._bufferLength === this.blockSize &&
                  (a(
                    this._tempHi,
                    this._tempLo,
                    this._stateHi,
                    this._stateLo,
                    this._buffer,
                    0,
                    this.blockSize,
                  ),
                  (this._bufferLength = 0));
              }
              for (
                u >= this.blockSize &&
                ((b = a(
                  this._tempHi,
                  this._tempLo,
                  this._stateHi,
                  this._stateLo,
                  d,
                  b,
                  u,
                )),
                (u %= this.blockSize));
                u > 0;

              )
                (this._buffer[this._bufferLength++] = d[b++]), u--;
              return this;
            }),
            (h.prototype.finish = function (d) {
              if (!this._finished) {
                var u = this._bytesHashed,
                  b = this._bufferLength,
                  _ = (u / 536870912) | 0,
                  I = u << 3,
                  M = u % 128 < 112 ? 128 : 256;
                this._buffer[b] = 128;
                for (var C = b + 1; C < M - 8; C++) this._buffer[C] = 0;
                e.writeUint32BE(_, this._buffer, M - 8),
                  e.writeUint32BE(I, this._buffer, M - 4),
                  a(
                    this._tempHi,
                    this._tempLo,
                    this._stateHi,
                    this._stateLo,
                    this._buffer,
                    0,
                    M,
                  ),
                  (this._finished = !0);
              }
              for (var C = 0; C < this.digestLength / 8; C++)
                e.writeUint32BE(this._stateHi[C], d, C * 8),
                  e.writeUint32BE(this._stateLo[C], d, C * 8 + 4);
              return this;
            }),
            (h.prototype.digest = function () {
              var d = new Uint8Array(this.digestLength);
              return this.finish(d), d;
            }),
            (h.prototype.saveState = function () {
              if (this._finished)
                throw new Error("SHA256: cannot save finished state");
              return {
                stateHi: new Int32Array(this._stateHi),
                stateLo: new Int32Array(this._stateLo),
                buffer:
                  this._bufferLength > 0
                    ? new Uint8Array(this._buffer)
                    : void 0,
                bufferLength: this._bufferLength,
                bytesHashed: this._bytesHashed,
              };
            }),
            (h.prototype.restoreState = function (d) {
              return (
                this._stateHi.set(d.stateHi),
                this._stateLo.set(d.stateLo),
                (this._bufferLength = d.bufferLength),
                d.buffer && this._buffer.set(d.buffer),
                (this._bytesHashed = d.bytesHashed),
                (this._finished = !1),
                this
              );
            }),
            (h.prototype.cleanSavedState = function (d) {
              t.wipe(d.stateHi),
                t.wipe(d.stateLo),
                d.buffer && t.wipe(d.buffer),
                (d.bufferLength = 0),
                (d.bytesHashed = 0);
            }),
            h
          );
        })();
        r.SHA512 = i;
        var s = new Int32Array([
          1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
          3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
          2453635748, 2937671579, 2870763221, 3664609560, 3624381080,
          2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987,
          3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103,
          633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774,
          944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983,
          1495990901, 1249150122, 1856431235, 1555081692, 3175218132,
          1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016,
          2952996808, 2566594879, 3210313671, 3203337956, 3336571891,
          1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895,
          168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372,
          1522805485, 1396182291, 2643833823, 1695183700, 2343527390,
          1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627,
          2730485921, 1290863460, 2820302411, 3158454273, 3259730800,
          3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804,
          1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734,
          3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877,
          3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063,
          2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
          2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
          2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
          3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
          3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
          174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
          685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
          1126000580, 2618297676, 1288033470, 3409855158, 1501505948,
          4234509866, 1607167915, 987167468, 1816402316, 1246189591,
        ]);
        function a(h, d, u, b, _, I, M) {
          for (
            var C = u[0],
              R = u[1],
              L = u[2],
              V = u[3],
              F = u[4],
              K = u[5],
              B = u[6],
              z = u[7],
              q = b[0],
              E = b[1],
              U = b[2],
              te = b[3],
              oe = b[4],
              k = b[5],
              y = b[6],
              c = b[7],
              l,
              p,
              w,
              A,
              P,
              S,
              g,
              m;
            M >= 128;

          ) {
            for (var N = 0; N < 16; N++) {
              var Q = 8 * N + I;
              (h[N] = e.readUint32BE(_, Q)), (d[N] = e.readUint32BE(_, Q + 4));
            }
            for (var N = 0; N < 80; N++) {
              var re = C,
                O = R,
                Z = L,
                $ = V,
                W = F,
                J = K,
                x = B,
                G = z,
                ae = q,
                ce = E,
                fe = U,
                be = te,
                we = oe,
                Ie = k,
                Je = y,
                Ce = c;
              if (
                ((l = z),
                (p = c),
                (P = p & 65535),
                (S = p >>> 16),
                (g = l & 65535),
                (m = l >>> 16),
                (l =
                  ((F >>> 14) | (oe << 18)) ^
                  ((F >>> 18) | (oe << 14)) ^
                  ((oe >>> 9) | (F << 23))),
                (p =
                  ((oe >>> 14) | (F << 18)) ^
                  ((oe >>> 18) | (F << 14)) ^
                  ((F >>> 9) | (oe << 23))),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (l = (F & K) ^ (~F & B)),
                (p = (oe & k) ^ (~oe & y)),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (l = s[N * 2]),
                (p = s[N * 2 + 1]),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (l = h[N % 16]),
                (p = d[N % 16]),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (S += P >>> 16),
                (g += S >>> 16),
                (m += g >>> 16),
                (w = (g & 65535) | (m << 16)),
                (A = (P & 65535) | (S << 16)),
                (l = w),
                (p = A),
                (P = p & 65535),
                (S = p >>> 16),
                (g = l & 65535),
                (m = l >>> 16),
                (l =
                  ((C >>> 28) | (q << 4)) ^
                  ((q >>> 2) | (C << 30)) ^
                  ((q >>> 7) | (C << 25))),
                (p =
                  ((q >>> 28) | (C << 4)) ^
                  ((C >>> 2) | (q << 30)) ^
                  ((C >>> 7) | (q << 25))),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (l = (C & R) ^ (C & L) ^ (R & L)),
                (p = (q & E) ^ (q & U) ^ (E & U)),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (S += P >>> 16),
                (g += S >>> 16),
                (m += g >>> 16),
                (G = (g & 65535) | (m << 16)),
                (Ce = (P & 65535) | (S << 16)),
                (l = $),
                (p = be),
                (P = p & 65535),
                (S = p >>> 16),
                (g = l & 65535),
                (m = l >>> 16),
                (l = w),
                (p = A),
                (P += p & 65535),
                (S += p >>> 16),
                (g += l & 65535),
                (m += l >>> 16),
                (S += P >>> 16),
                (g += S >>> 16),
                (m += g >>> 16),
                ($ = (g & 65535) | (m << 16)),
                (be = (P & 65535) | (S << 16)),
                (R = re),
                (L = O),
                (V = Z),
                (F = $),
                (K = W),
                (B = J),
                (z = x),
                (C = G),
                (E = ae),
                (U = ce),
                (te = fe),
                (oe = be),
                (k = we),
                (y = Ie),
                (c = Je),
                (q = Ce),
                N % 16 === 15)
              )
                for (var Q = 0; Q < 16; Q++)
                  (l = h[Q]),
                    (p = d[Q]),
                    (P = p & 65535),
                    (S = p >>> 16),
                    (g = l & 65535),
                    (m = l >>> 16),
                    (l = h[(Q + 9) % 16]),
                    (p = d[(Q + 9) % 16]),
                    (P += p & 65535),
                    (S += p >>> 16),
                    (g += l & 65535),
                    (m += l >>> 16),
                    (w = h[(Q + 1) % 16]),
                    (A = d[(Q + 1) % 16]),
                    (l =
                      ((w >>> 1) | (A << 31)) ^
                      ((w >>> 8) | (A << 24)) ^
                      (w >>> 7)),
                    (p =
                      ((A >>> 1) | (w << 31)) ^
                      ((A >>> 8) | (w << 24)) ^
                      ((A >>> 7) | (w << 25))),
                    (P += p & 65535),
                    (S += p >>> 16),
                    (g += l & 65535),
                    (m += l >>> 16),
                    (w = h[(Q + 14) % 16]),
                    (A = d[(Q + 14) % 16]),
                    (l =
                      ((w >>> 19) | (A << 13)) ^
                      ((A >>> 29) | (w << 3)) ^
                      (w >>> 6)),
                    (p =
                      ((A >>> 19) | (w << 13)) ^
                      ((w >>> 29) | (A << 3)) ^
                      ((A >>> 6) | (w << 26))),
                    (P += p & 65535),
                    (S += p >>> 16),
                    (g += l & 65535),
                    (m += l >>> 16),
                    (S += P >>> 16),
                    (g += S >>> 16),
                    (m += g >>> 16),
                    (h[Q] = (g & 65535) | (m << 16)),
                    (d[Q] = (P & 65535) | (S << 16));
            }
            (l = C),
              (p = q),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[0]),
              (p = b[0]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[0] = C = (g & 65535) | (m << 16)),
              (b[0] = q = (P & 65535) | (S << 16)),
              (l = R),
              (p = E),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[1]),
              (p = b[1]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[1] = R = (g & 65535) | (m << 16)),
              (b[1] = E = (P & 65535) | (S << 16)),
              (l = L),
              (p = U),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[2]),
              (p = b[2]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[2] = L = (g & 65535) | (m << 16)),
              (b[2] = U = (P & 65535) | (S << 16)),
              (l = V),
              (p = te),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[3]),
              (p = b[3]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[3] = V = (g & 65535) | (m << 16)),
              (b[3] = te = (P & 65535) | (S << 16)),
              (l = F),
              (p = oe),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[4]),
              (p = b[4]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[4] = F = (g & 65535) | (m << 16)),
              (b[4] = oe = (P & 65535) | (S << 16)),
              (l = K),
              (p = k),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[5]),
              (p = b[5]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[5] = K = (g & 65535) | (m << 16)),
              (b[5] = k = (P & 65535) | (S << 16)),
              (l = B),
              (p = y),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[6]),
              (p = b[6]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[6] = B = (g & 65535) | (m << 16)),
              (b[6] = y = (P & 65535) | (S << 16)),
              (l = z),
              (p = c),
              (P = p & 65535),
              (S = p >>> 16),
              (g = l & 65535),
              (m = l >>> 16),
              (l = u[7]),
              (p = b[7]),
              (P += p & 65535),
              (S += p >>> 16),
              (g += l & 65535),
              (m += l >>> 16),
              (S += P >>> 16),
              (g += S >>> 16),
              (m += g >>> 16),
              (u[7] = z = (g & 65535) | (m << 16)),
              (b[7] = c = (P & 65535) | (S << 16)),
              (I += 128),
              (M -= 128);
          }
          return I;
        }
        function f(h) {
          var d = new i();
          d.update(h);
          var u = d.digest();
          return d.clean(), u;
        }
        r.hash = f;
      })(Hh)),
    Hh
  );
}
var P1;
function Z_() {
  return (
    P1 ||
      ((P1 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.convertSecretKeyToX25519 =
            r.convertPublicKeyToX25519 =
            r.verify =
            r.sign =
            r.extractPublicKeyFromSecretKey =
            r.generateKeyPair =
            r.generateKeyPairFromSeed =
            r.SEED_LENGTH =
            r.SECRET_KEY_LENGTH =
            r.PUBLIC_KEY_LENGTH =
            r.SIGNATURE_LENGTH =
              void 0);
        const e = Hl(),
          t = X_(),
          i = en();
        (r.SIGNATURE_LENGTH = 64),
          (r.PUBLIC_KEY_LENGTH = 32),
          (r.SECRET_KEY_LENGTH = 64),
          (r.SEED_LENGTH = 32);
        function s($) {
          const W = new Float64Array(16);
          if ($) for (let J = 0; J < $.length; J++) W[J] = $[J];
          return W;
        }
        const a = new Uint8Array(32);
        a[0] = 9;
        const f = s(),
          h = s([1]),
          d = s([
            30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585,
            16505, 36039, 65139, 11119, 27886, 20995,
          ]),
          u = s([
            61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171,
            33010, 6542, 64743, 22239, 55772, 9222,
          ]),
          b = s([
            54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412,
            64982, 57905, 49316, 21502, 52590, 14035, 8553,
          ]),
          _ = s([
            26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214,
            26214, 26214, 26214, 26214, 26214, 26214, 26214,
          ]),
          I = s([
            41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867,
            153, 11085, 57099, 20417, 9344, 11139,
          ]);
        function M($, W) {
          for (let J = 0; J < 16; J++) $[J] = W[J] | 0;
        }
        function C($) {
          let W = 1;
          for (let J = 0; J < 16; J++) {
            let x = $[J] + W + 65535;
            (W = Math.floor(x / 65536)), ($[J] = x - W * 65536);
          }
          $[0] += W - 1 + 37 * (W - 1);
        }
        function R($, W, J) {
          const x = ~(J - 1);
          for (let G = 0; G < 16; G++) {
            const ae = x & ($[G] ^ W[G]);
            ($[G] ^= ae), (W[G] ^= ae);
          }
        }
        function L($, W) {
          const J = s(),
            x = s();
          for (let G = 0; G < 16; G++) x[G] = W[G];
          C(x), C(x), C(x);
          for (let G = 0; G < 2; G++) {
            J[0] = x[0] - 65517;
            for (let ce = 1; ce < 15; ce++)
              (J[ce] = x[ce] - 65535 - ((J[ce - 1] >> 16) & 1)),
                (J[ce - 1] &= 65535);
            J[15] = x[15] - 32767 - ((J[14] >> 16) & 1);
            const ae = (J[15] >> 16) & 1;
            (J[14] &= 65535), R(x, J, 1 - ae);
          }
          for (let G = 0; G < 16; G++)
            ($[2 * G] = x[G] & 255), ($[2 * G + 1] = x[G] >> 8);
        }
        function V($, W) {
          let J = 0;
          for (let x = 0; x < 32; x++) J |= $[x] ^ W[x];
          return (1 & ((J - 1) >>> 8)) - 1;
        }
        function F($, W) {
          const J = new Uint8Array(32),
            x = new Uint8Array(32);
          return L(J, $), L(x, W), V(J, x);
        }
        function K($) {
          const W = new Uint8Array(32);
          return L(W, $), W[0] & 1;
        }
        function B($, W) {
          for (let J = 0; J < 16; J++) $[J] = W[2 * J] + (W[2 * J + 1] << 8);
          $[15] &= 32767;
        }
        function z($, W, J) {
          for (let x = 0; x < 16; x++) $[x] = W[x] + J[x];
        }
        function q($, W, J) {
          for (let x = 0; x < 16; x++) $[x] = W[x] - J[x];
        }
        function E($, W, J) {
          let x,
            G,
            ae = 0,
            ce = 0,
            fe = 0,
            be = 0,
            we = 0,
            Ie = 0,
            Je = 0,
            Ce = 0,
            Te = 0,
            Se = 0,
            me = 0,
            Oe = 0,
            Re = 0,
            ve = 0,
            Ne = 0,
            Ee = 0,
            ye = 0,
            Le = 0,
            De = 0,
            _e = 0,
            He = 0,
            Ve = 0,
            xe = 0,
            Ke = 0,
            ht = 0,
            Ge = 0,
            _t = 0,
            lt = 0,
            Ye = 0,
            xt = 0,
            It = 0,
            qe = J[0],
            Xe = J[1],
            tt = J[2],
            Fe = J[3],
            et = J[4],
            Ze = J[5],
            ze = J[6],
            ut = J[7],
            rt = J[8],
            ke = J[9],
            it = J[10],
            st = J[11],
            Be = J[12],
            Qe = J[13],
            ft = J[14],
            je = J[15];
          (x = W[0]),
            (ae += x * qe),
            (ce += x * Xe),
            (fe += x * tt),
            (be += x * Fe),
            (we += x * et),
            (Ie += x * Ze),
            (Je += x * ze),
            (Ce += x * ut),
            (Te += x * rt),
            (Se += x * ke),
            (me += x * it),
            (Oe += x * st),
            (Re += x * Be),
            (ve += x * Qe),
            (Ne += x * ft),
            (Ee += x * je),
            (x = W[1]),
            (ce += x * qe),
            (fe += x * Xe),
            (be += x * tt),
            (we += x * Fe),
            (Ie += x * et),
            (Je += x * Ze),
            (Ce += x * ze),
            (Te += x * ut),
            (Se += x * rt),
            (me += x * ke),
            (Oe += x * it),
            (Re += x * st),
            (ve += x * Be),
            (Ne += x * Qe),
            (Ee += x * ft),
            (ye += x * je),
            (x = W[2]),
            (fe += x * qe),
            (be += x * Xe),
            (we += x * tt),
            (Ie += x * Fe),
            (Je += x * et),
            (Ce += x * Ze),
            (Te += x * ze),
            (Se += x * ut),
            (me += x * rt),
            (Oe += x * ke),
            (Re += x * it),
            (ve += x * st),
            (Ne += x * Be),
            (Ee += x * Qe),
            (ye += x * ft),
            (Le += x * je),
            (x = W[3]),
            (be += x * qe),
            (we += x * Xe),
            (Ie += x * tt),
            (Je += x * Fe),
            (Ce += x * et),
            (Te += x * Ze),
            (Se += x * ze),
            (me += x * ut),
            (Oe += x * rt),
            (Re += x * ke),
            (ve += x * it),
            (Ne += x * st),
            (Ee += x * Be),
            (ye += x * Qe),
            (Le += x * ft),
            (De += x * je),
            (x = W[4]),
            (we += x * qe),
            (Ie += x * Xe),
            (Je += x * tt),
            (Ce += x * Fe),
            (Te += x * et),
            (Se += x * Ze),
            (me += x * ze),
            (Oe += x * ut),
            (Re += x * rt),
            (ve += x * ke),
            (Ne += x * it),
            (Ee += x * st),
            (ye += x * Be),
            (Le += x * Qe),
            (De += x * ft),
            (_e += x * je),
            (x = W[5]),
            (Ie += x * qe),
            (Je += x * Xe),
            (Ce += x * tt),
            (Te += x * Fe),
            (Se += x * et),
            (me += x * Ze),
            (Oe += x * ze),
            (Re += x * ut),
            (ve += x * rt),
            (Ne += x * ke),
            (Ee += x * it),
            (ye += x * st),
            (Le += x * Be),
            (De += x * Qe),
            (_e += x * ft),
            (He += x * je),
            (x = W[6]),
            (Je += x * qe),
            (Ce += x * Xe),
            (Te += x * tt),
            (Se += x * Fe),
            (me += x * et),
            (Oe += x * Ze),
            (Re += x * ze),
            (ve += x * ut),
            (Ne += x * rt),
            (Ee += x * ke),
            (ye += x * it),
            (Le += x * st),
            (De += x * Be),
            (_e += x * Qe),
            (He += x * ft),
            (Ve += x * je),
            (x = W[7]),
            (Ce += x * qe),
            (Te += x * Xe),
            (Se += x * tt),
            (me += x * Fe),
            (Oe += x * et),
            (Re += x * Ze),
            (ve += x * ze),
            (Ne += x * ut),
            (Ee += x * rt),
            (ye += x * ke),
            (Le += x * it),
            (De += x * st),
            (_e += x * Be),
            (He += x * Qe),
            (Ve += x * ft),
            (xe += x * je),
            (x = W[8]),
            (Te += x * qe),
            (Se += x * Xe),
            (me += x * tt),
            (Oe += x * Fe),
            (Re += x * et),
            (ve += x * Ze),
            (Ne += x * ze),
            (Ee += x * ut),
            (ye += x * rt),
            (Le += x * ke),
            (De += x * it),
            (_e += x * st),
            (He += x * Be),
            (Ve += x * Qe),
            (xe += x * ft),
            (Ke += x * je),
            (x = W[9]),
            (Se += x * qe),
            (me += x * Xe),
            (Oe += x * tt),
            (Re += x * Fe),
            (ve += x * et),
            (Ne += x * Ze),
            (Ee += x * ze),
            (ye += x * ut),
            (Le += x * rt),
            (De += x * ke),
            (_e += x * it),
            (He += x * st),
            (Ve += x * Be),
            (xe += x * Qe),
            (Ke += x * ft),
            (ht += x * je),
            (x = W[10]),
            (me += x * qe),
            (Oe += x * Xe),
            (Re += x * tt),
            (ve += x * Fe),
            (Ne += x * et),
            (Ee += x * Ze),
            (ye += x * ze),
            (Le += x * ut),
            (De += x * rt),
            (_e += x * ke),
            (He += x * it),
            (Ve += x * st),
            (xe += x * Be),
            (Ke += x * Qe),
            (ht += x * ft),
            (Ge += x * je),
            (x = W[11]),
            (Oe += x * qe),
            (Re += x * Xe),
            (ve += x * tt),
            (Ne += x * Fe),
            (Ee += x * et),
            (ye += x * Ze),
            (Le += x * ze),
            (De += x * ut),
            (_e += x * rt),
            (He += x * ke),
            (Ve += x * it),
            (xe += x * st),
            (Ke += x * Be),
            (ht += x * Qe),
            (Ge += x * ft),
            (_t += x * je),
            (x = W[12]),
            (Re += x * qe),
            (ve += x * Xe),
            (Ne += x * tt),
            (Ee += x * Fe),
            (ye += x * et),
            (Le += x * Ze),
            (De += x * ze),
            (_e += x * ut),
            (He += x * rt),
            (Ve += x * ke),
            (xe += x * it),
            (Ke += x * st),
            (ht += x * Be),
            (Ge += x * Qe),
            (_t += x * ft),
            (lt += x * je),
            (x = W[13]),
            (ve += x * qe),
            (Ne += x * Xe),
            (Ee += x * tt),
            (ye += x * Fe),
            (Le += x * et),
            (De += x * Ze),
            (_e += x * ze),
            (He += x * ut),
            (Ve += x * rt),
            (xe += x * ke),
            (Ke += x * it),
            (ht += x * st),
            (Ge += x * Be),
            (_t += x * Qe),
            (lt += x * ft),
            (Ye += x * je),
            (x = W[14]),
            (Ne += x * qe),
            (Ee += x * Xe),
            (ye += x * tt),
            (Le += x * Fe),
            (De += x * et),
            (_e += x * Ze),
            (He += x * ze),
            (Ve += x * ut),
            (xe += x * rt),
            (Ke += x * ke),
            (ht += x * it),
            (Ge += x * st),
            (_t += x * Be),
            (lt += x * Qe),
            (Ye += x * ft),
            (xt += x * je),
            (x = W[15]),
            (Ee += x * qe),
            (ye += x * Xe),
            (Le += x * tt),
            (De += x * Fe),
            (_e += x * et),
            (He += x * Ze),
            (Ve += x * ze),
            (xe += x * ut),
            (Ke += x * rt),
            (ht += x * ke),
            (Ge += x * it),
            (_t += x * st),
            (lt += x * Be),
            (Ye += x * Qe),
            (xt += x * ft),
            (It += x * je),
            (ae += 38 * ye),
            (ce += 38 * Le),
            (fe += 38 * De),
            (be += 38 * _e),
            (we += 38 * He),
            (Ie += 38 * Ve),
            (Je += 38 * xe),
            (Ce += 38 * Ke),
            (Te += 38 * ht),
            (Se += 38 * Ge),
            (me += 38 * _t),
            (Oe += 38 * lt),
            (Re += 38 * Ye),
            (ve += 38 * xt),
            (Ne += 38 * It),
            (G = 1),
            (x = ae + G + 65535),
            (G = Math.floor(x / 65536)),
            (ae = x - G * 65536),
            (x = ce + G + 65535),
            (G = Math.floor(x / 65536)),
            (ce = x - G * 65536),
            (x = fe + G + 65535),
            (G = Math.floor(x / 65536)),
            (fe = x - G * 65536),
            (x = be + G + 65535),
            (G = Math.floor(x / 65536)),
            (be = x - G * 65536),
            (x = we + G + 65535),
            (G = Math.floor(x / 65536)),
            (we = x - G * 65536),
            (x = Ie + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ie = x - G * 65536),
            (x = Je + G + 65535),
            (G = Math.floor(x / 65536)),
            (Je = x - G * 65536),
            (x = Ce + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ce = x - G * 65536),
            (x = Te + G + 65535),
            (G = Math.floor(x / 65536)),
            (Te = x - G * 65536),
            (x = Se + G + 65535),
            (G = Math.floor(x / 65536)),
            (Se = x - G * 65536),
            (x = me + G + 65535),
            (G = Math.floor(x / 65536)),
            (me = x - G * 65536),
            (x = Oe + G + 65535),
            (G = Math.floor(x / 65536)),
            (Oe = x - G * 65536),
            (x = Re + G + 65535),
            (G = Math.floor(x / 65536)),
            (Re = x - G * 65536),
            (x = ve + G + 65535),
            (G = Math.floor(x / 65536)),
            (ve = x - G * 65536),
            (x = Ne + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ne = x - G * 65536),
            (x = Ee + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ee = x - G * 65536),
            (ae += G - 1 + 37 * (G - 1)),
            (G = 1),
            (x = ae + G + 65535),
            (G = Math.floor(x / 65536)),
            (ae = x - G * 65536),
            (x = ce + G + 65535),
            (G = Math.floor(x / 65536)),
            (ce = x - G * 65536),
            (x = fe + G + 65535),
            (G = Math.floor(x / 65536)),
            (fe = x - G * 65536),
            (x = be + G + 65535),
            (G = Math.floor(x / 65536)),
            (be = x - G * 65536),
            (x = we + G + 65535),
            (G = Math.floor(x / 65536)),
            (we = x - G * 65536),
            (x = Ie + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ie = x - G * 65536),
            (x = Je + G + 65535),
            (G = Math.floor(x / 65536)),
            (Je = x - G * 65536),
            (x = Ce + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ce = x - G * 65536),
            (x = Te + G + 65535),
            (G = Math.floor(x / 65536)),
            (Te = x - G * 65536),
            (x = Se + G + 65535),
            (G = Math.floor(x / 65536)),
            (Se = x - G * 65536),
            (x = me + G + 65535),
            (G = Math.floor(x / 65536)),
            (me = x - G * 65536),
            (x = Oe + G + 65535),
            (G = Math.floor(x / 65536)),
            (Oe = x - G * 65536),
            (x = Re + G + 65535),
            (G = Math.floor(x / 65536)),
            (Re = x - G * 65536),
            (x = ve + G + 65535),
            (G = Math.floor(x / 65536)),
            (ve = x - G * 65536),
            (x = Ne + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ne = x - G * 65536),
            (x = Ee + G + 65535),
            (G = Math.floor(x / 65536)),
            (Ee = x - G * 65536),
            (ae += G - 1 + 37 * (G - 1)),
            ($[0] = ae),
            ($[1] = ce),
            ($[2] = fe),
            ($[3] = be),
            ($[4] = we),
            ($[5] = Ie),
            ($[6] = Je),
            ($[7] = Ce),
            ($[8] = Te),
            ($[9] = Se),
            ($[10] = me),
            ($[11] = Oe),
            ($[12] = Re),
            ($[13] = ve),
            ($[14] = Ne),
            ($[15] = Ee);
        }
        function U($, W) {
          E($, W, W);
        }
        function te($, W) {
          const J = s();
          let x;
          for (x = 0; x < 16; x++) J[x] = W[x];
          for (x = 253; x >= 0; x--) U(J, J), x !== 2 && x !== 4 && E(J, J, W);
          for (x = 0; x < 16; x++) $[x] = J[x];
        }
        function oe($, W) {
          const J = s();
          let x;
          for (x = 0; x < 16; x++) J[x] = W[x];
          for (x = 250; x >= 0; x--) U(J, J), x !== 1 && E(J, J, W);
          for (x = 0; x < 16; x++) $[x] = J[x];
        }
        function k($, W) {
          const J = s(),
            x = s(),
            G = s(),
            ae = s(),
            ce = s(),
            fe = s(),
            be = s(),
            we = s(),
            Ie = s();
          q(J, $[1], $[0]),
            q(Ie, W[1], W[0]),
            E(J, J, Ie),
            z(x, $[0], $[1]),
            z(Ie, W[0], W[1]),
            E(x, x, Ie),
            E(G, $[3], W[3]),
            E(G, G, u),
            E(ae, $[2], W[2]),
            z(ae, ae, ae),
            q(ce, x, J),
            q(fe, ae, G),
            z(be, ae, G),
            z(we, x, J),
            E($[0], ce, fe),
            E($[1], we, be),
            E($[2], be, fe),
            E($[3], ce, we);
        }
        function y($, W, J) {
          for (let x = 0; x < 4; x++) R($[x], W[x], J);
        }
        function c($, W) {
          const J = s(),
            x = s(),
            G = s();
          te(G, W[2]),
            E(J, W[0], G),
            E(x, W[1], G),
            L($, x),
            ($[31] ^= K(J) << 7);
        }
        function l($, W, J) {
          M($[0], f), M($[1], h), M($[2], h), M($[3], f);
          for (let x = 255; x >= 0; --x) {
            const G = (J[(x / 8) | 0] >> (x & 7)) & 1;
            y($, W, G), k(W, $), k($, $), y($, W, G);
          }
        }
        function p($, W) {
          const J = [s(), s(), s(), s()];
          M(J[0], b), M(J[1], _), M(J[2], h), E(J[3], b, _), l($, J, W);
        }
        function w($) {
          if ($.length !== r.SEED_LENGTH)
            throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);
          const W = (0, t.hash)($);
          (W[0] &= 248), (W[31] &= 127), (W[31] |= 64);
          const J = new Uint8Array(32),
            x = [s(), s(), s(), s()];
          p(x, W), c(J, x);
          const G = new Uint8Array(64);
          return G.set($), G.set(J, 32), { publicKey: J, secretKey: G };
        }
        r.generateKeyPairFromSeed = w;
        function A($) {
          const W = (0, e.randomBytes)(32, $),
            J = w(W);
          return (0, i.wipe)(W), J;
        }
        r.generateKeyPair = A;
        function P($) {
          if ($.length !== r.SECRET_KEY_LENGTH)
            throw new Error(
              `ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`,
            );
          return new Uint8Array($.subarray(32));
        }
        r.extractPublicKeyFromSecretKey = P;
        const S = new Float64Array([
          237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222,
          20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16,
        ]);
        function g($, W) {
          let J, x, G, ae;
          for (x = 63; x >= 32; --x) {
            for (J = 0, G = x - 32, ae = x - 12; G < ae; ++G)
              (W[G] += J - 16 * W[x] * S[G - (x - 32)]),
                (J = Math.floor((W[G] + 128) / 256)),
                (W[G] -= J * 256);
            (W[G] += J), (W[x] = 0);
          }
          for (J = 0, G = 0; G < 32; G++)
            (W[G] += J - (W[31] >> 4) * S[G]), (J = W[G] >> 8), (W[G] &= 255);
          for (G = 0; G < 32; G++) W[G] -= J * S[G];
          for (x = 0; x < 32; x++) (W[x + 1] += W[x] >> 8), ($[x] = W[x] & 255);
        }
        function m($) {
          const W = new Float64Array(64);
          for (let J = 0; J < 64; J++) W[J] = $[J];
          for (let J = 0; J < 64; J++) $[J] = 0;
          g($, W);
        }
        function N($, W) {
          const J = new Float64Array(64),
            x = [s(), s(), s(), s()],
            G = (0, t.hash)($.subarray(0, 32));
          (G[0] &= 248), (G[31] &= 127), (G[31] |= 64);
          const ae = new Uint8Array(64);
          ae.set(G.subarray(32), 32);
          const ce = new t.SHA512();
          ce.update(ae.subarray(32)), ce.update(W);
          const fe = ce.digest();
          ce.clean(),
            m(fe),
            p(x, fe),
            c(ae, x),
            ce.reset(),
            ce.update(ae.subarray(0, 32)),
            ce.update($.subarray(32)),
            ce.update(W);
          const be = ce.digest();
          m(be);
          for (let we = 0; we < 32; we++) J[we] = fe[we];
          for (let we = 0; we < 32; we++)
            for (let Ie = 0; Ie < 32; Ie++) J[we + Ie] += be[we] * G[Ie];
          return g(ae.subarray(32), J), ae;
        }
        r.sign = N;
        function Q($, W) {
          const J = s(),
            x = s(),
            G = s(),
            ae = s(),
            ce = s(),
            fe = s(),
            be = s();
          return (
            M($[2], h),
            B($[1], W),
            U(G, $[1]),
            E(ae, G, d),
            q(G, G, $[2]),
            z(ae, $[2], ae),
            U(ce, ae),
            U(fe, ce),
            E(be, fe, ce),
            E(J, be, G),
            E(J, J, ae),
            oe(J, J),
            E(J, J, G),
            E(J, J, ae),
            E(J, J, ae),
            E($[0], J, ae),
            U(x, $[0]),
            E(x, x, ae),
            F(x, G) && E($[0], $[0], I),
            U(x, $[0]),
            E(x, x, ae),
            F(x, G)
              ? -1
              : (K($[0]) === W[31] >> 7 && q($[0], f, $[0]),
                E($[3], $[0], $[1]),
                0)
          );
        }
        function re($, W, J) {
          const x = new Uint8Array(32),
            G = [s(), s(), s(), s()],
            ae = [s(), s(), s(), s()];
          if (J.length !== r.SIGNATURE_LENGTH)
            throw new Error(
              `ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`,
            );
          if (Q(ae, $)) return !1;
          const ce = new t.SHA512();
          ce.update(J.subarray(0, 32)), ce.update($), ce.update(W);
          const fe = ce.digest();
          return (
            m(fe),
            l(G, ae, fe),
            p(ae, J.subarray(32)),
            k(G, ae),
            c(x, G),
            !V(J, x)
          );
        }
        r.verify = re;
        function O($) {
          let W = [s(), s(), s(), s()];
          if (Q(W, $)) throw new Error("Ed25519: invalid public key");
          let J = s(),
            x = s(),
            G = W[1];
          z(J, h, G), q(x, h, G), te(x, x), E(J, J, x);
          let ae = new Uint8Array(32);
          return L(ae, J), ae;
        }
        r.convertPublicKeyToX25519 = O;
        function Z($) {
          const W = (0, t.hash)($.subarray(0, 32));
          (W[0] &= 248), (W[31] &= 127), (W[31] |= 64);
          const J = new Uint8Array(W.subarray(0, 32));
          return (0, i.wipe)(W), J;
        }
        r.convertSecretKeyToX25519 = Z;
      })($h)),
    $h
  );
}
var Qv = Z_();
const e7 = "EdDSA",
  t7 = "JWT",
  yu = ".",
  qu = "base64url",
  Xv = "utf8",
  Zv = "utf8",
  r7 = ":",
  i7 = "did",
  n7 = "key",
  C1 = "base58btc",
  s7 = "z",
  a7 = "K36",
  o7 = 32,
  c7 = (r) =>
    JSON.stringify(r, (e, t) =>
      typeof t == "bigint" ? t.toString() + "n" : t,
    ),
  u7 = (r) => {
    const e =
        /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,
      t = r.replace(e, '$1"$2n"$3');
    return JSON.parse(t, (i, s) =>
      typeof s == "string" && s.match(/^\d+n$/)
        ? BigInt(s.substring(0, s.length - 1))
        : s,
    );
  };
function Ls(r) {
  if (typeof r != "string")
    throw new Error(`Cannot safe json parse value of type ${typeof r}`);
  try {
    return u7(r);
  } catch {
    return r;
  }
}
function Gn(r) {
  return typeof r == "string" ? r : c7(r) || "";
}
function O1(r) {
  return Ls(Ar(_r(r, qu), Xv));
}
function wu(r) {
  return Ar(_r(Gn(r), Xv), qu);
}
function eb(r) {
  const e = _r(a7, C1),
    t = s7 + Ar(ou([e, r]), C1);
  return [i7, n7, t].join(r7);
}
function f7(r) {
  return Ar(r, qu);
}
function h7(r) {
  return _r(r, qu);
}
function l7(r) {
  return _r([wu(r.header), wu(r.payload)].join(yu), Zv);
}
function d7(r) {
  return [wu(r.header), wu(r.payload), f7(r.signature)].join(yu);
}
function Sl(r) {
  const e = r.split(yu),
    t = O1(e[0]),
    i = O1(e[1]),
    s = h7(e[2]),
    a = _r(e.slice(0, 2).join(yu), Zv);
  return { header: t, payload: i, signature: s, data: a };
}
function R1(r = Ro.randomBytes(o7)) {
  return Qv.generateKeyPairFromSeed(r);
}
async function p7(r, e, t, i, s = Me.fromMiliseconds(Date.now())) {
  const a = { alg: e7, typ: t7 },
    f = eb(i.publicKey),
    h = s + t,
    d = { iss: f, sub: r, aud: e, iat: s, exp: h },
    u = l7({ header: a, payload: d }),
    b = Qv.sign(i.secretKey, u);
  return d7({ header: a, payload: d, signature: b });
}
const g7 = {
  waku: {
    publish: "waku_publish",
    batchPublish: "waku_batchPublish",
    subscribe: "waku_subscribe",
    batchSubscribe: "waku_batchSubscribe",
    subscription: "waku_subscription",
    unsubscribe: "waku_unsubscribe",
    batchUnsubscribe: "waku_batchUnsubscribe",
    batchFetchMessages: "waku_batchFetchMessages",
  },
  irn: {
    publish: "irn_publish",
    batchPublish: "irn_batchPublish",
    subscribe: "irn_subscribe",
    batchSubscribe: "irn_batchSubscribe",
    subscription: "irn_subscription",
    unsubscribe: "irn_unsubscribe",
    batchUnsubscribe: "irn_batchUnsubscribe",
    batchFetchMessages: "irn_batchFetchMessages",
  },
  iridium: {
    publish: "iridium_publish",
    batchPublish: "iridium_batchPublish",
    subscribe: "iridium_subscribe",
    batchSubscribe: "iridium_batchSubscribe",
    subscription: "iridium_subscription",
    unsubscribe: "iridium_unsubscribe",
    batchUnsubscribe: "iridium_batchUnsubscribe",
    batchFetchMessages: "iridium_batchFetchMessages",
  },
};
var v7 = {};
const b7 = ":";
function yo(r) {
  const [e, t] = r.split(b7);
  return { namespace: e, reference: t };
}
function N1(r, e = []) {
  const t = [];
  return (
    Object.keys(r).forEach((i) => {
      if (e.length && !e.includes(i)) return;
      const s = r[i];
      t.push(...s.accounts);
    }),
    t
  );
}
function tb(r, e) {
  return r.includes(":") ? [r] : e.chains || [];
}
var m7 = Object.defineProperty,
  T1 = Object.getOwnPropertySymbols,
  y7 = Object.prototype.hasOwnProperty,
  w7 = Object.prototype.propertyIsEnumerable,
  q1 = (r, e, t) =>
    e in r
      ? m7(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  F1 = (r, e) => {
    for (var t in e || (e = {})) y7.call(e, t) && q1(r, t, e[t]);
    if (T1) for (var t of T1(e)) w7.call(e, t) && q1(r, t, e[t]);
    return r;
  };
const _7 = "ReactNative",
  li = {
    reactNative: "react-native",
    node: "node",
    browser: "browser",
    unknown: "unknown",
  },
  A7 = "js";
function _u() {
  return (
    typeof process < "u" &&
    typeof process.versions < "u" &&
    typeof process.versions.node < "u"
  );
}
function xa() {
  return !_a.getDocument() && !!_a.getNavigator() && navigator.product === _7;
}
function qo() {
  return !_u() && !!_a.getNavigator() && !!_a.getDocument();
}
function Fo() {
  return xa()
    ? li.reactNative
    : _u()
      ? li.node
      : qo()
        ? li.browser
        : li.unknown;
}
function E7() {
  var r;
  try {
    return xa() &&
      typeof mt < "u" &&
      typeof (mt == null ? void 0 : mt.Application) < "u"
      ? (r = mt.Application) == null
        ? void 0
        : r.applicationId
      : void 0;
  } catch {
    return;
  }
}
function x7(r, e) {
  let t = mu.parse(r);
  return (t = F1(F1({}, t), e)), (r = mu.stringify(t)), r;
}
function rb() {
  return (
    t4.getWindowMetadata() || {
      name: "",
      description: "",
      url: "",
      icons: [""],
    }
  );
}
function S7() {
  if (
    Fo() === li.reactNative &&
    typeof mt < "u" &&
    typeof (mt == null ? void 0 : mt.Platform) < "u"
  ) {
    const { OS: t, Version: i } = mt.Platform;
    return [t, i].join("-");
  }
  const r = y8();
  if (r === null) return "unknown";
  const e = r.os ? r.os.replace(" ", "").toLowerCase() : "unknown";
  return r.type === "browser"
    ? [e, r.name, r.version].join("-")
    : [e, r.version].join("-");
}
function M7() {
  var r;
  const e = Fo();
  return e === li.browser
    ? [e, ((r = _a.getLocation()) == null ? void 0 : r.host) || "unknown"].join(
        ":",
      )
    : e;
}
function ib(r, e, t) {
  const i = S7(),
    s = M7();
  return [[r, e].join("-"), [A7, t].join("-"), i, s].join("/");
}
function I7({
  protocol: r,
  version: e,
  relayUrl: t,
  sdkVersion: i,
  auth: s,
  projectId: a,
  useOnCloseEvent: f,
  bundleId: h,
}) {
  const d = t.split("?"),
    u = ib(r, e, i),
    b = {
      auth: s,
      ua: u,
      projectId: a,
      useOnCloseEvent: f || void 0,
      origin: h || void 0,
    },
    _ = x7(d[1] || "", b);
  return d[0] + "?" + _;
}
function qs(r, e) {
  return r.filter((t) => e.includes(t)).length === r.length;
}
function nb(r) {
  return Object.fromEntries(r.entries());
}
function sb(r) {
  return new Map(Object.entries(r));
}
function Ns(r = Me.FIVE_MINUTES, e) {
  const t = Me.toMiliseconds(r || Me.FIVE_MINUTES);
  let i, s, a;
  return {
    resolve: (f) => {
      a && i && (clearTimeout(a), i(f));
    },
    reject: (f) => {
      a && s && (clearTimeout(a), s(f));
    },
    done: () =>
      new Promise((f, h) => {
        (a = setTimeout(() => {
          h(new Error(e));
        }, t)),
          (i = f),
          (s = h);
      }),
  };
}
function ma(r, e, t) {
  return new Promise(async (i, s) => {
    const a = setTimeout(() => s(new Error(t)), e);
    try {
      const f = await r;
      i(f);
    } catch (f) {
      s(f);
    }
    clearTimeout(a);
  });
}
function ab(r, e) {
  if (typeof e == "string" && e.startsWith(`${r}:`)) return e;
  if (r.toLowerCase() === "topic") {
    if (typeof e != "string")
      throw new Error('Value must be "string" for expirer target type: topic');
    return `topic:${e}`;
  } else if (r.toLowerCase() === "id") {
    if (typeof e != "number")
      throw new Error('Value must be "number" for expirer target type: id');
    return `id:${e}`;
  }
  throw new Error(`Unknown expirer target type: ${r}`);
}
function D7(r) {
  return ab("topic", r);
}
function P7(r) {
  return ab("id", r);
}
function ob(r) {
  const [e, t] = r.split(":"),
    i = { id: void 0, topic: void 0 };
  if (e === "topic" && typeof t == "string") i.topic = t;
  else if (e === "id" && Number.isInteger(Number(t))) i.id = Number(t);
  else
    throw new Error(
      `Invalid target, expected id:number or topic:string, got ${e}:${t}`,
    );
  return i;
}
function gr(r, e) {
  return Me.fromMiliseconds(Date.now() + Me.toMiliseconds(r));
}
function as(r) {
  return Date.now() >= Me.toMiliseconds(r);
}
function Mt(r, e) {
  return `${r}${e ? `:${e}` : ""}`;
}
function uu(r = [], e = []) {
  return [...new Set([...r, ...e])];
}
async function C7({ id: r, topic: e, wcDeepLink: t }) {
  var i;
  try {
    if (!t) return;
    const s = typeof t == "string" ? JSON.parse(t) : t,
      a = s == null ? void 0 : s.href;
    if (typeof a != "string") return;
    const f = O7(a, r, e),
      h = Fo();
    if (h === li.browser) {
      if (!((i = _a.getDocument()) != null && i.hasFocus())) {
        console.warn("Document does not have focus, skipping deeplink.");
        return;
      }
      f.startsWith("https://") || f.startsWith("http://")
        ? window.open(f, "_blank", "noreferrer noopener")
        : window.open(f, N7() ? "_blank" : "_self", "noreferrer noopener");
    } else
      h === li.reactNative &&
        typeof (mt == null ? void 0 : mt.Linking) < "u" &&
        (await mt.Linking.openURL(f));
  } catch (s) {
    console.error(s);
  }
}
function O7(r, e, t) {
  const i = `requestId=${e}&sessionTopic=${t}`;
  r.endsWith("/") && (r = r.slice(0, -1));
  let s = `${r}`;
  if (r.startsWith("https://t.me")) {
    const a = r.includes("?") ? "&startapp=" : "?startapp=";
    s = `${s}${a}${T7(i, !0)}`;
  } else s = `${s}/wc?${i}`;
  return s;
}
async function R7(r, e) {
  let t = "";
  try {
    if (qo() && ((t = localStorage.getItem(e)), t)) return t;
    t = await r.getItem(e);
  } catch (i) {
    console.error(i);
  }
  return t;
}
function B1(r, e) {
  if (!r.includes(e)) return null;
  const t = r.split(/([&,?,=])/),
    i = t.indexOf(e);
  return t[i + 2];
}
function L1() {
  return typeof crypto < "u" && crypto != null && crypto.randomUUID
    ? crypto.randomUUID()
    : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu, (r) => {
        const e = (Math.random() * 16) | 0;
        return (r === "x" ? e : (e & 3) | 8).toString(16);
      });
}
function Gl() {
  return typeof process < "u" && v7.IS_VITEST === "true";
}
function N7() {
  return (
    typeof window < "u" &&
    (!!window.TelegramWebviewProxy ||
      !!window.Telegram ||
      !!window.TelegramWebviewProxyProto)
  );
}
function T7(r, e = !1) {
  const t = Xi.from(r).toString("base64");
  return e ? t.replace(/[=]/g, "") : t;
}
function cb(r) {
  return Xi.from(r, "base64").toString("utf-8");
}
var ub =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
      ? window
      : typeof mt < "u"
        ? mt
        : typeof self < "u"
          ? self
          : {};
function q7(r) {
  var e = r.default;
  if (typeof e == "function") {
    var t = function () {
      return e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return (
    Object.defineProperty(t, "__esModule", { value: !0 }),
    Object.keys(r).forEach(function (i) {
      var s = Object.getOwnPropertyDescriptor(r, i);
      Object.defineProperty(
        t,
        i,
        s.get
          ? s
          : {
              enumerable: !0,
              get: function () {
                return r[i];
              },
            },
      );
    }),
    t
  );
}
var fb = { exports: {} };
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */ (function (r) {
  (function () {
    var e = "input is invalid type",
      t = "finalize already called",
      i = typeof window == "object",
      s = i ? window : {};
    s.JS_SHA3_NO_WINDOW && (i = !1);
    var a = !i && typeof self == "object",
      f =
        !s.JS_SHA3_NO_NODE_JS &&
        typeof process == "object" &&
        process.versions &&
        process.versions.node;
    f ? (s = ub) : a && (s = self);
    var h = !s.JS_SHA3_NO_COMMON_JS && !0 && r.exports,
      d = !s.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u",
      u = "0123456789abcdef".split(""),
      b = [31, 7936, 2031616, 520093696],
      _ = [4, 1024, 262144, 67108864],
      I = [1, 256, 65536, 16777216],
      M = [6, 1536, 393216, 100663296],
      C = [0, 8, 16, 24],
      R = [
        1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0,
        2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136,
        0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905,
        2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648,
        32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896,
        2147483648, 2147483649, 0, 2147516424, 2147483648,
      ],
      L = [224, 256, 384, 512],
      V = [128, 256],
      F = ["hex", "buffer", "arrayBuffer", "array", "digest"],
      K = { 128: 168, 256: 136 };
    (s.JS_SHA3_NO_NODE_JS || !Array.isArray) &&
      (Array.isArray = function (O) {
        return Object.prototype.toString.call(O) === "[object Array]";
      }),
      d &&
        (s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) &&
        (ArrayBuffer.isView = function (O) {
          return (
            typeof O == "object" &&
            O.buffer &&
            O.buffer.constructor === ArrayBuffer
          );
        });
    for (
      var B = function (O, Z, $) {
          return function (W) {
            return new N(O, Z, O).update(W)[$]();
          };
        },
        z = function (O, Z, $) {
          return function (W, J) {
            return new N(O, Z, J).update(W)[$]();
          };
        },
        q = function (O, Z, $) {
          return function (W, J, x, G) {
            return l["cshake" + O].update(W, J, x, G)[$]();
          };
        },
        E = function (O, Z, $) {
          return function (W, J, x, G) {
            return l["kmac" + O].update(W, J, x, G)[$]();
          };
        },
        U = function (O, Z, $, W) {
          for (var J = 0; J < F.length; ++J) {
            var x = F[J];
            O[x] = Z($, W, x);
          }
          return O;
        },
        te = function (O, Z) {
          var $ = B(O, Z, "hex");
          return (
            ($.create = function () {
              return new N(O, Z, O);
            }),
            ($.update = function (W) {
              return $.create().update(W);
            }),
            U($, B, O, Z)
          );
        },
        oe = function (O, Z) {
          var $ = z(O, Z, "hex");
          return (
            ($.create = function (W) {
              return new N(O, Z, W);
            }),
            ($.update = function (W, J) {
              return $.create(J).update(W);
            }),
            U($, z, O, Z)
          );
        },
        k = function (O, Z) {
          var $ = K[O],
            W = q(O, Z, "hex");
          return (
            (W.create = function (J, x, G) {
              return !x && !G
                ? l["shake" + O].create(J)
                : new N(O, Z, J).bytepad([x, G], $);
            }),
            (W.update = function (J, x, G, ae) {
              return W.create(x, G, ae).update(J);
            }),
            U(W, q, O, Z)
          );
        },
        y = function (O, Z) {
          var $ = K[O],
            W = E(O, Z, "hex");
          return (
            (W.create = function (J, x, G) {
              return new Q(O, Z, x).bytepad(["KMAC", G], $).bytepad([J], $);
            }),
            (W.update = function (J, x, G, ae) {
              return W.create(J, G, ae).update(x);
            }),
            U(W, E, O, Z)
          );
        },
        c = [
          { name: "keccak", padding: I, bits: L, createMethod: te },
          { name: "sha3", padding: M, bits: L, createMethod: te },
          { name: "shake", padding: b, bits: V, createMethod: oe },
          { name: "cshake", padding: _, bits: V, createMethod: k },
          { name: "kmac", padding: _, bits: V, createMethod: y },
        ],
        l = {},
        p = [],
        w = 0;
      w < c.length;
      ++w
    )
      for (var A = c[w], P = A.bits, S = 0; S < P.length; ++S) {
        var g = A.name + "_" + P[S];
        if (
          (p.push(g),
          (l[g] = A.createMethod(P[S], A.padding)),
          A.name !== "sha3")
        ) {
          var m = A.name + P[S];
          p.push(m), (l[m] = l[g]);
        }
      }
    function N(O, Z, $) {
      (this.blocks = []),
        (this.s = []),
        (this.padding = Z),
        (this.outputBits = $),
        (this.reset = !0),
        (this.finalized = !1),
        (this.block = 0),
        (this.start = 0),
        (this.blockCount = (1600 - (O << 1)) >> 5),
        (this.byteCount = this.blockCount << 2),
        (this.outputBlocks = $ >> 5),
        (this.extraBytes = ($ & 31) >> 3);
      for (var W = 0; W < 50; ++W) this.s[W] = 0;
    }
    (N.prototype.update = function (O) {
      if (this.finalized) throw new Error(t);
      var Z,
        $ = typeof O;
      if ($ !== "string") {
        if ($ === "object") {
          if (O === null) throw new Error(e);
          if (d && O.constructor === ArrayBuffer) O = new Uint8Array(O);
          else if (!Array.isArray(O) && (!d || !ArrayBuffer.isView(O)))
            throw new Error(e);
        } else throw new Error(e);
        Z = !0;
      }
      for (
        var W = this.blocks,
          J = this.byteCount,
          x = O.length,
          G = this.blockCount,
          ae = 0,
          ce = this.s,
          fe,
          be;
        ae < x;

      ) {
        if (this.reset)
          for (this.reset = !1, W[0] = this.block, fe = 1; fe < G + 1; ++fe)
            W[fe] = 0;
        if (Z)
          for (fe = this.start; ae < x && fe < J; ++ae)
            W[fe >> 2] |= O[ae] << C[fe++ & 3];
        else
          for (fe = this.start; ae < x && fe < J; ++ae)
            (be = O.charCodeAt(ae)),
              be < 128
                ? (W[fe >> 2] |= be << C[fe++ & 3])
                : be < 2048
                  ? ((W[fe >> 2] |= (192 | (be >> 6)) << C[fe++ & 3]),
                    (W[fe >> 2] |= (128 | (be & 63)) << C[fe++ & 3]))
                  : be < 55296 || be >= 57344
                    ? ((W[fe >> 2] |= (224 | (be >> 12)) << C[fe++ & 3]),
                      (W[fe >> 2] |= (128 | ((be >> 6) & 63)) << C[fe++ & 3]),
                      (W[fe >> 2] |= (128 | (be & 63)) << C[fe++ & 3]))
                    : ((be =
                        65536 +
                        (((be & 1023) << 10) | (O.charCodeAt(++ae) & 1023))),
                      (W[fe >> 2] |= (240 | (be >> 18)) << C[fe++ & 3]),
                      (W[fe >> 2] |= (128 | ((be >> 12) & 63)) << C[fe++ & 3]),
                      (W[fe >> 2] |= (128 | ((be >> 6) & 63)) << C[fe++ & 3]),
                      (W[fe >> 2] |= (128 | (be & 63)) << C[fe++ & 3]));
        if (((this.lastByteIndex = fe), fe >= J)) {
          for (this.start = fe - J, this.block = W[G], fe = 0; fe < G; ++fe)
            ce[fe] ^= W[fe];
          re(ce), (this.reset = !0);
        } else this.start = fe;
      }
      return this;
    }),
      (N.prototype.encode = function (O, Z) {
        var $ = O & 255,
          W = 1,
          J = [$];
        for (O = O >> 8, $ = O & 255; $ > 0; )
          J.unshift($), (O = O >> 8), ($ = O & 255), ++W;
        return Z ? J.push(W) : J.unshift(W), this.update(J), J.length;
      }),
      (N.prototype.encodeString = function (O) {
        var Z,
          $ = typeof O;
        if ($ !== "string") {
          if ($ === "object") {
            if (O === null) throw new Error(e);
            if (d && O.constructor === ArrayBuffer) O = new Uint8Array(O);
            else if (!Array.isArray(O) && (!d || !ArrayBuffer.isView(O)))
              throw new Error(e);
          } else throw new Error(e);
          Z = !0;
        }
        var W = 0,
          J = O.length;
        if (Z) W = J;
        else
          for (var x = 0; x < O.length; ++x) {
            var G = O.charCodeAt(x);
            G < 128
              ? (W += 1)
              : G < 2048
                ? (W += 2)
                : G < 55296 || G >= 57344
                  ? (W += 3)
                  : ((G =
                      65536 +
                      (((G & 1023) << 10) | (O.charCodeAt(++x) & 1023))),
                    (W += 4));
          }
        return (W += this.encode(W * 8)), this.update(O), W;
      }),
      (N.prototype.bytepad = function (O, Z) {
        for (var $ = this.encode(Z), W = 0; W < O.length; ++W)
          $ += this.encodeString(O[W]);
        var J = Z - ($ % Z),
          x = [];
        return (x.length = J), this.update(x), this;
      }),
      (N.prototype.finalize = function () {
        if (!this.finalized) {
          this.finalized = !0;
          var O = this.blocks,
            Z = this.lastByteIndex,
            $ = this.blockCount,
            W = this.s;
          if (
            ((O[Z >> 2] |= this.padding[Z & 3]),
            this.lastByteIndex === this.byteCount)
          )
            for (O[0] = O[$], Z = 1; Z < $ + 1; ++Z) O[Z] = 0;
          for (O[$ - 1] |= 2147483648, Z = 0; Z < $; ++Z) W[Z] ^= O[Z];
          re(W);
        }
      }),
      (N.prototype.toString = N.prototype.hex =
        function () {
          this.finalize();
          for (
            var O = this.blockCount,
              Z = this.s,
              $ = this.outputBlocks,
              W = this.extraBytes,
              J = 0,
              x = 0,
              G = "",
              ae;
            x < $;

          ) {
            for (J = 0; J < O && x < $; ++J, ++x)
              (ae = Z[J]),
                (G +=
                  u[(ae >> 4) & 15] +
                  u[ae & 15] +
                  u[(ae >> 12) & 15] +
                  u[(ae >> 8) & 15] +
                  u[(ae >> 20) & 15] +
                  u[(ae >> 16) & 15] +
                  u[(ae >> 28) & 15] +
                  u[(ae >> 24) & 15]);
            x % O === 0 && (re(Z), (J = 0));
          }
          return (
            W &&
              ((ae = Z[J]),
              (G += u[(ae >> 4) & 15] + u[ae & 15]),
              W > 1 && (G += u[(ae >> 12) & 15] + u[(ae >> 8) & 15]),
              W > 2 && (G += u[(ae >> 20) & 15] + u[(ae >> 16) & 15])),
            G
          );
        }),
      (N.prototype.arrayBuffer = function () {
        this.finalize();
        var O = this.blockCount,
          Z = this.s,
          $ = this.outputBlocks,
          W = this.extraBytes,
          J = 0,
          x = 0,
          G = this.outputBits >> 3,
          ae;
        W ? (ae = new ArrayBuffer(($ + 1) << 2)) : (ae = new ArrayBuffer(G));
        for (var ce = new Uint32Array(ae); x < $; ) {
          for (J = 0; J < O && x < $; ++J, ++x) ce[x] = Z[J];
          x % O === 0 && re(Z);
        }
        return W && ((ce[J] = Z[J]), (ae = ae.slice(0, G))), ae;
      }),
      (N.prototype.buffer = N.prototype.arrayBuffer),
      (N.prototype.digest = N.prototype.array =
        function () {
          this.finalize();
          for (
            var O = this.blockCount,
              Z = this.s,
              $ = this.outputBlocks,
              W = this.extraBytes,
              J = 0,
              x = 0,
              G = [],
              ae,
              ce;
            x < $;

          ) {
            for (J = 0; J < O && x < $; ++J, ++x)
              (ae = x << 2),
                (ce = Z[J]),
                (G[ae] = ce & 255),
                (G[ae + 1] = (ce >> 8) & 255),
                (G[ae + 2] = (ce >> 16) & 255),
                (G[ae + 3] = (ce >> 24) & 255);
            x % O === 0 && re(Z);
          }
          return (
            W &&
              ((ae = x << 2),
              (ce = Z[J]),
              (G[ae] = ce & 255),
              W > 1 && (G[ae + 1] = (ce >> 8) & 255),
              W > 2 && (G[ae + 2] = (ce >> 16) & 255)),
            G
          );
        });
    function Q(O, Z, $) {
      N.call(this, O, Z, $);
    }
    (Q.prototype = new N()),
      (Q.prototype.finalize = function () {
        return (
          this.encode(this.outputBits, !0), N.prototype.finalize.call(this)
        );
      });
    var re = function (O) {
      var Z,
        $,
        W,
        J,
        x,
        G,
        ae,
        ce,
        fe,
        be,
        we,
        Ie,
        Je,
        Ce,
        Te,
        Se,
        me,
        Oe,
        Re,
        ve,
        Ne,
        Ee,
        ye,
        Le,
        De,
        _e,
        He,
        Ve,
        xe,
        Ke,
        ht,
        Ge,
        _t,
        lt,
        Ye,
        xt,
        It,
        qe,
        Xe,
        tt,
        Fe,
        et,
        Ze,
        ze,
        ut,
        rt,
        ke,
        it,
        st,
        Be,
        Qe,
        ft,
        je,
        Nt,
        Tt,
        at,
        bt,
        Dr,
        Pr,
        Cr,
        Or,
        Rr,
        er;
      for (W = 0; W < 48; W += 2)
        (J = O[0] ^ O[10] ^ O[20] ^ O[30] ^ O[40]),
          (x = O[1] ^ O[11] ^ O[21] ^ O[31] ^ O[41]),
          (G = O[2] ^ O[12] ^ O[22] ^ O[32] ^ O[42]),
          (ae = O[3] ^ O[13] ^ O[23] ^ O[33] ^ O[43]),
          (ce = O[4] ^ O[14] ^ O[24] ^ O[34] ^ O[44]),
          (fe = O[5] ^ O[15] ^ O[25] ^ O[35] ^ O[45]),
          (be = O[6] ^ O[16] ^ O[26] ^ O[36] ^ O[46]),
          (we = O[7] ^ O[17] ^ O[27] ^ O[37] ^ O[47]),
          (Ie = O[8] ^ O[18] ^ O[28] ^ O[38] ^ O[48]),
          (Je = O[9] ^ O[19] ^ O[29] ^ O[39] ^ O[49]),
          (Z = Ie ^ ((G << 1) | (ae >>> 31))),
          ($ = Je ^ ((ae << 1) | (G >>> 31))),
          (O[0] ^= Z),
          (O[1] ^= $),
          (O[10] ^= Z),
          (O[11] ^= $),
          (O[20] ^= Z),
          (O[21] ^= $),
          (O[30] ^= Z),
          (O[31] ^= $),
          (O[40] ^= Z),
          (O[41] ^= $),
          (Z = J ^ ((ce << 1) | (fe >>> 31))),
          ($ = x ^ ((fe << 1) | (ce >>> 31))),
          (O[2] ^= Z),
          (O[3] ^= $),
          (O[12] ^= Z),
          (O[13] ^= $),
          (O[22] ^= Z),
          (O[23] ^= $),
          (O[32] ^= Z),
          (O[33] ^= $),
          (O[42] ^= Z),
          (O[43] ^= $),
          (Z = G ^ ((be << 1) | (we >>> 31))),
          ($ = ae ^ ((we << 1) | (be >>> 31))),
          (O[4] ^= Z),
          (O[5] ^= $),
          (O[14] ^= Z),
          (O[15] ^= $),
          (O[24] ^= Z),
          (O[25] ^= $),
          (O[34] ^= Z),
          (O[35] ^= $),
          (O[44] ^= Z),
          (O[45] ^= $),
          (Z = ce ^ ((Ie << 1) | (Je >>> 31))),
          ($ = fe ^ ((Je << 1) | (Ie >>> 31))),
          (O[6] ^= Z),
          (O[7] ^= $),
          (O[16] ^= Z),
          (O[17] ^= $),
          (O[26] ^= Z),
          (O[27] ^= $),
          (O[36] ^= Z),
          (O[37] ^= $),
          (O[46] ^= Z),
          (O[47] ^= $),
          (Z = be ^ ((J << 1) | (x >>> 31))),
          ($ = we ^ ((x << 1) | (J >>> 31))),
          (O[8] ^= Z),
          (O[9] ^= $),
          (O[18] ^= Z),
          (O[19] ^= $),
          (O[28] ^= Z),
          (O[29] ^= $),
          (O[38] ^= Z),
          (O[39] ^= $),
          (O[48] ^= Z),
          (O[49] ^= $),
          (Ce = O[0]),
          (Te = O[1]),
          (rt = (O[11] << 4) | (O[10] >>> 28)),
          (ke = (O[10] << 4) | (O[11] >>> 28)),
          (Ve = (O[20] << 3) | (O[21] >>> 29)),
          (xe = (O[21] << 3) | (O[20] >>> 29)),
          (Cr = (O[31] << 9) | (O[30] >>> 23)),
          (Or = (O[30] << 9) | (O[31] >>> 23)),
          (et = (O[40] << 18) | (O[41] >>> 14)),
          (Ze = (O[41] << 18) | (O[40] >>> 14)),
          (lt = (O[2] << 1) | (O[3] >>> 31)),
          (Ye = (O[3] << 1) | (O[2] >>> 31)),
          (Se = (O[13] << 12) | (O[12] >>> 20)),
          (me = (O[12] << 12) | (O[13] >>> 20)),
          (it = (O[22] << 10) | (O[23] >>> 22)),
          (st = (O[23] << 10) | (O[22] >>> 22)),
          (Ke = (O[33] << 13) | (O[32] >>> 19)),
          (ht = (O[32] << 13) | (O[33] >>> 19)),
          (Rr = (O[42] << 2) | (O[43] >>> 30)),
          (er = (O[43] << 2) | (O[42] >>> 30)),
          (Nt = (O[5] << 30) | (O[4] >>> 2)),
          (Tt = (O[4] << 30) | (O[5] >>> 2)),
          (xt = (O[14] << 6) | (O[15] >>> 26)),
          (It = (O[15] << 6) | (O[14] >>> 26)),
          (Oe = (O[25] << 11) | (O[24] >>> 21)),
          (Re = (O[24] << 11) | (O[25] >>> 21)),
          (Be = (O[34] << 15) | (O[35] >>> 17)),
          (Qe = (O[35] << 15) | (O[34] >>> 17)),
          (Ge = (O[45] << 29) | (O[44] >>> 3)),
          (_t = (O[44] << 29) | (O[45] >>> 3)),
          (Le = (O[6] << 28) | (O[7] >>> 4)),
          (De = (O[7] << 28) | (O[6] >>> 4)),
          (at = (O[17] << 23) | (O[16] >>> 9)),
          (bt = (O[16] << 23) | (O[17] >>> 9)),
          (qe = (O[26] << 25) | (O[27] >>> 7)),
          (Xe = (O[27] << 25) | (O[26] >>> 7)),
          (ve = (O[36] << 21) | (O[37] >>> 11)),
          (Ne = (O[37] << 21) | (O[36] >>> 11)),
          (ft = (O[47] << 24) | (O[46] >>> 8)),
          (je = (O[46] << 24) | (O[47] >>> 8)),
          (ze = (O[8] << 27) | (O[9] >>> 5)),
          (ut = (O[9] << 27) | (O[8] >>> 5)),
          (_e = (O[18] << 20) | (O[19] >>> 12)),
          (He = (O[19] << 20) | (O[18] >>> 12)),
          (Dr = (O[29] << 7) | (O[28] >>> 25)),
          (Pr = (O[28] << 7) | (O[29] >>> 25)),
          (tt = (O[38] << 8) | (O[39] >>> 24)),
          (Fe = (O[39] << 8) | (O[38] >>> 24)),
          (Ee = (O[48] << 14) | (O[49] >>> 18)),
          (ye = (O[49] << 14) | (O[48] >>> 18)),
          (O[0] = Ce ^ (~Se & Oe)),
          (O[1] = Te ^ (~me & Re)),
          (O[10] = Le ^ (~_e & Ve)),
          (O[11] = De ^ (~He & xe)),
          (O[20] = lt ^ (~xt & qe)),
          (O[21] = Ye ^ (~It & Xe)),
          (O[30] = ze ^ (~rt & it)),
          (O[31] = ut ^ (~ke & st)),
          (O[40] = Nt ^ (~at & Dr)),
          (O[41] = Tt ^ (~bt & Pr)),
          (O[2] = Se ^ (~Oe & ve)),
          (O[3] = me ^ (~Re & Ne)),
          (O[12] = _e ^ (~Ve & Ke)),
          (O[13] = He ^ (~xe & ht)),
          (O[22] = xt ^ (~qe & tt)),
          (O[23] = It ^ (~Xe & Fe)),
          (O[32] = rt ^ (~it & Be)),
          (O[33] = ke ^ (~st & Qe)),
          (O[42] = at ^ (~Dr & Cr)),
          (O[43] = bt ^ (~Pr & Or)),
          (O[4] = Oe ^ (~ve & Ee)),
          (O[5] = Re ^ (~Ne & ye)),
          (O[14] = Ve ^ (~Ke & Ge)),
          (O[15] = xe ^ (~ht & _t)),
          (O[24] = qe ^ (~tt & et)),
          (O[25] = Xe ^ (~Fe & Ze)),
          (O[34] = it ^ (~Be & ft)),
          (O[35] = st ^ (~Qe & je)),
          (O[44] = Dr ^ (~Cr & Rr)),
          (O[45] = Pr ^ (~Or & er)),
          (O[6] = ve ^ (~Ee & Ce)),
          (O[7] = Ne ^ (~ye & Te)),
          (O[16] = Ke ^ (~Ge & Le)),
          (O[17] = ht ^ (~_t & De)),
          (O[26] = tt ^ (~et & lt)),
          (O[27] = Fe ^ (~Ze & Ye)),
          (O[36] = Be ^ (~ft & ze)),
          (O[37] = Qe ^ (~je & ut)),
          (O[46] = Cr ^ (~Rr & Nt)),
          (O[47] = Or ^ (~er & Tt)),
          (O[8] = Ee ^ (~Ce & Se)),
          (O[9] = ye ^ (~Te & me)),
          (O[18] = Ge ^ (~Le & _e)),
          (O[19] = _t ^ (~De & He)),
          (O[28] = et ^ (~lt & xt)),
          (O[29] = Ze ^ (~Ye & It)),
          (O[38] = ft ^ (~ze & rt)),
          (O[39] = je ^ (~ut & ke)),
          (O[48] = Rr ^ (~Nt & at)),
          (O[49] = er ^ (~Tt & bt)),
          (O[0] ^= R[W]),
          (O[1] ^= R[W + 1]);
    };
    if (h) r.exports = l;
    else for (w = 0; w < p.length; ++w) s[p[w]] = l[p[w]];
  })();
})(fb);
var F7 = fb.exports;
const B7 = "logger/5.7.0";
let U1 = !1,
  z1 = !1;
const fu = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let k1 = fu.default,
  Kh = null;
function L7() {
  try {
    const r = [];
    if (
      (["NFD", "NFC", "NFKD", "NFKC"].forEach((e) => {
        try {
          if ("test".normalize(e) !== "test") throw new Error("bad normalize");
        } catch {
          r.push(e);
        }
      }),
      r.length)
    )
      throw new Error("missing " + r.join(", "));
    if ("é".normalize("NFD") !== "é") throw new Error("broken implementation");
  } catch (r) {
    return r.message;
  }
  return null;
}
const j1 = L7();
var Ml;
(function (r) {
  (r.DEBUG = "DEBUG"),
    (r.INFO = "INFO"),
    (r.WARNING = "WARNING"),
    (r.ERROR = "ERROR"),
    (r.OFF = "OFF");
})(Ml || (Ml = {}));
var Ji;
(function (r) {
  (r.UNKNOWN_ERROR = "UNKNOWN_ERROR"),
    (r.NOT_IMPLEMENTED = "NOT_IMPLEMENTED"),
    (r.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION"),
    (r.NETWORK_ERROR = "NETWORK_ERROR"),
    (r.SERVER_ERROR = "SERVER_ERROR"),
    (r.TIMEOUT = "TIMEOUT"),
    (r.BUFFER_OVERRUN = "BUFFER_OVERRUN"),
    (r.NUMERIC_FAULT = "NUMERIC_FAULT"),
    (r.MISSING_NEW = "MISSING_NEW"),
    (r.INVALID_ARGUMENT = "INVALID_ARGUMENT"),
    (r.MISSING_ARGUMENT = "MISSING_ARGUMENT"),
    (r.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT"),
    (r.CALL_EXCEPTION = "CALL_EXCEPTION"),
    (r.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS"),
    (r.NONCE_EXPIRED = "NONCE_EXPIRED"),
    (r.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED"),
    (r.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT"),
    (r.TRANSACTION_REPLACED = "TRANSACTION_REPLACED"),
    (r.ACTION_REJECTED = "ACTION_REJECTED");
})(Ji || (Ji = {}));
const $1 = "0123456789abcdef";
let Sr = class pr {
  constructor(e) {
    Object.defineProperty(this, "version", {
      enumerable: !0,
      value: e,
      writable: !1,
    });
  }
  _log(e, t) {
    const i = e.toLowerCase();
    fu[i] == null &&
      this.throwArgumentError("invalid log level name", "logLevel", e),
      !(k1 > fu[i]) && console.log.apply(console, t);
  }
  debug(...e) {
    this._log(pr.levels.DEBUG, e);
  }
  info(...e) {
    this._log(pr.levels.INFO, e);
  }
  warn(...e) {
    this._log(pr.levels.WARNING, e);
  }
  makeError(e, t, i) {
    if (z1) return this.makeError("censored error", t, {});
    t || (t = pr.errors.UNKNOWN_ERROR), i || (i = {});
    const s = [];
    Object.keys(i).forEach((d) => {
      const u = i[d];
      try {
        if (u instanceof Uint8Array) {
          let b = "";
          for (let _ = 0; _ < u.length; _++)
            (b += $1[u[_] >> 4]), (b += $1[u[_] & 15]);
          s.push(d + "=Uint8Array(0x" + b + ")");
        } else s.push(d + "=" + JSON.stringify(u));
      } catch {
        s.push(d + "=" + JSON.stringify(i[d].toString()));
      }
    }),
      s.push(`code=${t}`),
      s.push(`version=${this.version}`);
    const a = e;
    let f = "";
    switch (t) {
      case Ji.NUMERIC_FAULT: {
        f = "NUMERIC_FAULT";
        const d = e;
        switch (d) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            f += "-" + d;
            break;
          case "negative-power":
          case "negative-width":
            f += "-unsupported";
            break;
          case "unbound-bitwise-result":
            f += "-unbound-result";
            break;
        }
        break;
      }
      case Ji.CALL_EXCEPTION:
      case Ji.INSUFFICIENT_FUNDS:
      case Ji.MISSING_NEW:
      case Ji.NONCE_EXPIRED:
      case Ji.REPLACEMENT_UNDERPRICED:
      case Ji.TRANSACTION_REPLACED:
      case Ji.UNPREDICTABLE_GAS_LIMIT:
        f = t;
        break;
    }
    f && (e += " [ See: https://links.ethers.org/v5-errors-" + f + " ]"),
      s.length && (e += " (" + s.join(", ") + ")");
    const h = new Error(e);
    return (
      (h.reason = a),
      (h.code = t),
      Object.keys(i).forEach(function (d) {
        h[d] = i[d];
      }),
      h
    );
  }
  throwError(e, t, i) {
    throw this.makeError(e, t, i);
  }
  throwArgumentError(e, t, i) {
    return this.throwError(e, pr.errors.INVALID_ARGUMENT, {
      argument: t,
      value: i,
    });
  }
  assert(e, t, i, s) {
    e || this.throwError(t, i, s);
  }
  assertArgument(e, t, i, s) {
    e || this.throwArgumentError(t, i, s);
  }
  checkNormalize(e) {
    j1 &&
      this.throwError(
        "platform missing String.prototype.normalize",
        pr.errors.UNSUPPORTED_OPERATION,
        { operation: "String.prototype.normalize", form: j1 },
      );
  }
  checkSafeUint53(e, t) {
    typeof e == "number" &&
      (t == null && (t = "value not safe"),
      (e < 0 || e >= 9007199254740991) &&
        this.throwError(t, pr.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "out-of-safe-range",
          value: e,
        }),
      e % 1 &&
        this.throwError(t, pr.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "non-integer",
          value: e,
        }));
  }
  checkArgumentCount(e, t, i) {
    i ? (i = ": " + i) : (i = ""),
      e < t &&
        this.throwError("missing argument" + i, pr.errors.MISSING_ARGUMENT, {
          count: e,
          expectedCount: t,
        }),
      e > t &&
        this.throwError(
          "too many arguments" + i,
          pr.errors.UNEXPECTED_ARGUMENT,
          { count: e, expectedCount: t },
        );
  }
  checkNew(e, t) {
    (e === Object || e == null) &&
      this.throwError("missing new", pr.errors.MISSING_NEW, { name: t.name });
  }
  checkAbstract(e, t) {
    e === t
      ? this.throwError(
          "cannot instantiate abstract class " +
            JSON.stringify(t.name) +
            " directly; use a sub-class",
          pr.errors.UNSUPPORTED_OPERATION,
          { name: e.name, operation: "new" },
        )
      : (e === Object || e == null) &&
        this.throwError("missing new", pr.errors.MISSING_NEW, { name: t.name });
  }
  static globalLogger() {
    return Kh || (Kh = new pr(B7)), Kh;
  }
  static setCensorship(e, t) {
    if (
      (!e &&
        t &&
        this.globalLogger().throwError(
          "cannot permanently disable censorship",
          pr.errors.UNSUPPORTED_OPERATION,
          { operation: "setCensorship" },
        ),
      U1)
    ) {
      if (!e) return;
      this.globalLogger().throwError(
        "error censorship permanent",
        pr.errors.UNSUPPORTED_OPERATION,
        { operation: "setCensorship" },
      );
    }
    (z1 = !!e), (U1 = !!t);
  }
  static setLogLevel(e) {
    const t = fu[e.toLowerCase()];
    if (t == null) {
      pr.globalLogger().warn("invalid log level - " + e);
      return;
    }
    k1 = t;
  }
  static from(e) {
    return new pr(e);
  }
};
(Sr.errors = Ji), (Sr.levels = Ml);
const U7 = "bytes/5.7.0",
  or = new Sr(U7);
function hb(r) {
  return !!r.toHexString;
}
function ya(r) {
  return (
    r.slice ||
      (r.slice = function () {
        const e = Array.prototype.slice.call(arguments);
        return ya(new Uint8Array(Array.prototype.slice.apply(r, e)));
      }),
    r
  );
}
function z7(r) {
  return (di(r) && !(r.length % 2)) || Sa(r);
}
function H1(r) {
  return typeof r == "number" && r == r && r % 1 === 0;
}
function Sa(r) {
  if (r == null) return !1;
  if (r.constructor === Uint8Array) return !0;
  if (typeof r == "string" || !H1(r.length) || r.length < 0) return !1;
  for (let e = 0; e < r.length; e++) {
    const t = r[e];
    if (!H1(t) || t < 0 || t >= 256) return !1;
  }
  return !0;
}
function ir(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    or.checkSafeUint53(r, "invalid arrayify value");
    const t = [];
    for (; r; ) t.unshift(r & 255), (r = parseInt(String(r / 256)));
    return t.length === 0 && t.push(0), ya(new Uint8Array(t));
  }
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    hb(r) && (r = r.toHexString()),
    di(r))
  ) {
    let t = r.substring(2);
    t.length % 2 &&
      (e.hexPad === "left"
        ? (t = "0" + t)
        : e.hexPad === "right"
          ? (t += "0")
          : or.throwArgumentError("hex data is odd-length", "value", r));
    const i = [];
    for (let s = 0; s < t.length; s += 2)
      i.push(parseInt(t.substring(s, s + 2), 16));
    return ya(new Uint8Array(i));
  }
  return Sa(r)
    ? ya(new Uint8Array(r))
    : or.throwArgumentError("invalid arrayify value", "value", r);
}
function k7(r) {
  const e = r.map((s) => ir(s)),
    t = e.reduce((s, a) => s + a.length, 0),
    i = new Uint8Array(t);
  return e.reduce((s, a) => (i.set(a, s), s + a.length), 0), ya(i);
}
function j7(r, e) {
  (r = ir(r)),
    r.length > e &&
      or.throwArgumentError("value out of range", "value", arguments[0]);
  const t = new Uint8Array(e);
  return t.set(r, e - r.length), ya(t);
}
function di(r, e) {
  return !(
    typeof r != "string" ||
    !r.match(/^0x[0-9A-Fa-f]*$/) ||
    (e && r.length !== 2 + 2 * e)
  );
}
const Vh = "0123456789abcdef";
function ii(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    or.checkSafeUint53(r, "invalid hexlify value");
    let t = "";
    for (; r; ) (t = Vh[r & 15] + t), (r = Math.floor(r / 16));
    return t.length ? (t.length % 2 && (t = "0" + t), "0x" + t) : "0x00";
  }
  if (typeof r == "bigint")
    return (r = r.toString(16)), r.length % 2 ? "0x0" + r : "0x" + r;
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    hb(r))
  )
    return r.toHexString();
  if (di(r))
    return (
      r.length % 2 &&
        (e.hexPad === "left"
          ? (r = "0x0" + r.substring(2))
          : e.hexPad === "right"
            ? (r += "0")
            : or.throwArgumentError("hex data is odd-length", "value", r)),
      r.toLowerCase()
    );
  if (Sa(r)) {
    let t = "0x";
    for (let i = 0; i < r.length; i++) {
      let s = r[i];
      t += Vh[(s & 240) >> 4] + Vh[s & 15];
    }
    return t;
  }
  return or.throwArgumentError("invalid hexlify value", "value", r);
}
function $7(r) {
  if (typeof r != "string") r = ii(r);
  else if (!di(r) || r.length % 2) return null;
  return (r.length - 2) / 2;
}
function K1(r, e, t) {
  return (
    typeof r != "string"
      ? (r = ii(r))
      : (!di(r) || r.length % 2) &&
        or.throwArgumentError("invalid hexData", "value", r),
    (e = 2 + 2 * e),
    t != null ? "0x" + r.substring(e, 2 + 2 * t) : "0x" + r.substring(e)
  );
}
function yn(r, e) {
  for (
    typeof r != "string"
      ? (r = ii(r))
      : di(r) || or.throwArgumentError("invalid hex string", "value", r),
      r.length > 2 * e + 2 &&
        or.throwArgumentError("value out of range", "value", arguments[1]);
    r.length < 2 * e + 2;

  )
    r = "0x0" + r.substring(2);
  return r;
}
function lb(r) {
  const e = {
    r: "0x",
    s: "0x",
    _vs: "0x",
    recoveryParam: 0,
    v: 0,
    yParityAndS: "0x",
    compact: "0x",
  };
  if (z7(r)) {
    let t = ir(r);
    t.length === 64
      ? ((e.v = 27 + (t[32] >> 7)),
        (t[32] &= 127),
        (e.r = ii(t.slice(0, 32))),
        (e.s = ii(t.slice(32, 64))))
      : t.length === 65
        ? ((e.r = ii(t.slice(0, 32))),
          (e.s = ii(t.slice(32, 64))),
          (e.v = t[64]))
        : or.throwArgumentError("invalid signature string", "signature", r),
      e.v < 27 &&
        (e.v === 0 || e.v === 1
          ? (e.v += 27)
          : or.throwArgumentError("signature invalid v byte", "signature", r)),
      (e.recoveryParam = 1 - (e.v % 2)),
      e.recoveryParam && (t[32] |= 128),
      (e._vs = ii(t.slice(32, 64)));
  } else {
    if (
      ((e.r = r.r),
      (e.s = r.s),
      (e.v = r.v),
      (e.recoveryParam = r.recoveryParam),
      (e._vs = r._vs),
      e._vs != null)
    ) {
      const s = j7(ir(e._vs), 32);
      e._vs = ii(s);
      const a = s[0] >= 128 ? 1 : 0;
      e.recoveryParam == null
        ? (e.recoveryParam = a)
        : e.recoveryParam !== a &&
          or.throwArgumentError(
            "signature recoveryParam mismatch _vs",
            "signature",
            r,
          ),
        (s[0] &= 127);
      const f = ii(s);
      e.s == null
        ? (e.s = f)
        : e.s !== f &&
          or.throwArgumentError("signature v mismatch _vs", "signature", r);
    }
    if (e.recoveryParam == null)
      e.v == null
        ? or.throwArgumentError(
            "signature missing v and recoveryParam",
            "signature",
            r,
          )
        : e.v === 0 || e.v === 1
          ? (e.recoveryParam = e.v)
          : (e.recoveryParam = 1 - (e.v % 2));
    else if (e.v == null) e.v = 27 + e.recoveryParam;
    else {
      const s = e.v === 0 || e.v === 1 ? e.v : 1 - (e.v % 2);
      e.recoveryParam !== s &&
        or.throwArgumentError(
          "signature recoveryParam mismatch v",
          "signature",
          r,
        );
    }
    e.r == null || !di(e.r)
      ? or.throwArgumentError("signature missing or invalid r", "signature", r)
      : (e.r = yn(e.r, 32)),
      e.s == null || !di(e.s)
        ? or.throwArgumentError(
            "signature missing or invalid s",
            "signature",
            r,
          )
        : (e.s = yn(e.s, 32));
    const t = ir(e.s);
    t[0] >= 128 &&
      or.throwArgumentError("signature s out of range", "signature", r),
      e.recoveryParam && (t[0] |= 128);
    const i = ii(t);
    e._vs &&
      (di(e._vs) ||
        or.throwArgumentError("signature invalid _vs", "signature", r),
      (e._vs = yn(e._vs, 32))),
      e._vs == null
        ? (e._vs = i)
        : e._vs !== i &&
          or.throwArgumentError(
            "signature _vs mismatch v and s",
            "signature",
            r,
          );
  }
  return (
    (e.yParityAndS = e._vs), (e.compact = e.r + e.yParityAndS.substring(2)), e
  );
}
function Wl(r) {
  return "0x" + F7.keccak_256(ir(r));
}
var db = { exports: {} },
  H7 = {},
  K7 = Object.freeze({ __proto__: null, default: H7 }),
  V7 = q7(K7);
(function (r) {
  (function (e, t) {
    function i(c, l) {
      if (!c) throw new Error(l || "Assertion failed");
    }
    function s(c, l) {
      c.super_ = l;
      var p = function () {};
      (p.prototype = l.prototype),
        (c.prototype = new p()),
        (c.prototype.constructor = c);
    }
    function a(c, l, p) {
      if (a.isBN(c)) return c;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        c !== null &&
          ((l === "le" || l === "be") && ((p = l), (l = 10)),
          this._init(c || 0, l || 10, p || "be"));
    }
    typeof e == "object" ? (e.exports = a) : (t.BN = a),
      (a.BN = a),
      (a.wordSize = 26);
    var f;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (f = window.Buffer)
        : (f = V7.Buffer);
    } catch {}
    (a.isBN = function (c) {
      return c instanceof a
        ? !0
        : c !== null &&
            typeof c == "object" &&
            c.constructor.wordSize === a.wordSize &&
            Array.isArray(c.words);
    }),
      (a.max = function (c, l) {
        return c.cmp(l) > 0 ? c : l;
      }),
      (a.min = function (c, l) {
        return c.cmp(l) < 0 ? c : l;
      }),
      (a.prototype._init = function (c, l, p) {
        if (typeof c == "number") return this._initNumber(c, l, p);
        if (typeof c == "object") return this._initArray(c, l, p);
        l === "hex" && (l = 16),
          i(l === (l | 0) && l >= 2 && l <= 36),
          (c = c.toString().replace(/\s+/g, ""));
        var w = 0;
        c[0] === "-" && (w++, (this.negative = 1)),
          w < c.length &&
            (l === 16
              ? this._parseHex(c, w, p)
              : (this._parseBase(c, l, w),
                p === "le" && this._initArray(this.toArray(), l, p)));
      }),
      (a.prototype._initNumber = function (c, l, p) {
        c < 0 && ((this.negative = 1), (c = -c)),
          c < 67108864
            ? ((this.words = [c & 67108863]), (this.length = 1))
            : c < 4503599627370496
              ? ((this.words = [c & 67108863, (c / 67108864) & 67108863]),
                (this.length = 2))
              : (i(c < 9007199254740992),
                (this.words = [c & 67108863, (c / 67108864) & 67108863, 1]),
                (this.length = 3)),
          p === "le" && this._initArray(this.toArray(), l, p);
      }),
      (a.prototype._initArray = function (c, l, p) {
        if ((i(typeof c.length == "number"), c.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(c.length / 3)),
          (this.words = new Array(this.length));
        for (var w = 0; w < this.length; w++) this.words[w] = 0;
        var A,
          P,
          S = 0;
        if (p === "be")
          for (w = c.length - 1, A = 0; w >= 0; w -= 3)
            (P = c[w] | (c[w - 1] << 8) | (c[w - 2] << 16)),
              (this.words[A] |= (P << S) & 67108863),
              (this.words[A + 1] = (P >>> (26 - S)) & 67108863),
              (S += 24),
              S >= 26 && ((S -= 26), A++);
        else if (p === "le")
          for (w = 0, A = 0; w < c.length; w += 3)
            (P = c[w] | (c[w + 1] << 8) | (c[w + 2] << 16)),
              (this.words[A] |= (P << S) & 67108863),
              (this.words[A + 1] = (P >>> (26 - S)) & 67108863),
              (S += 24),
              S >= 26 && ((S -= 26), A++);
        return this._strip();
      });
    function h(c, l) {
      var p = c.charCodeAt(l);
      if (p >= 48 && p <= 57) return p - 48;
      if (p >= 65 && p <= 70) return p - 55;
      if (p >= 97 && p <= 102) return p - 87;
      i(!1, "Invalid character in " + c);
    }
    function d(c, l, p) {
      var w = h(c, p);
      return p - 1 >= l && (w |= h(c, p - 1) << 4), w;
    }
    a.prototype._parseHex = function (c, l, p) {
      (this.length = Math.ceil((c.length - l) / 6)),
        (this.words = new Array(this.length));
      for (var w = 0; w < this.length; w++) this.words[w] = 0;
      var A = 0,
        P = 0,
        S;
      if (p === "be")
        for (w = c.length - 1; w >= l; w -= 2)
          (S = d(c, l, w) << A),
            (this.words[P] |= S & 67108863),
            A >= 18
              ? ((A -= 18), (P += 1), (this.words[P] |= S >>> 26))
              : (A += 8);
      else {
        var g = c.length - l;
        for (w = g % 2 === 0 ? l + 1 : l; w < c.length; w += 2)
          (S = d(c, l, w) << A),
            (this.words[P] |= S & 67108863),
            A >= 18
              ? ((A -= 18), (P += 1), (this.words[P] |= S >>> 26))
              : (A += 8);
      }
      this._strip();
    };
    function u(c, l, p, w) {
      for (var A = 0, P = 0, S = Math.min(c.length, p), g = l; g < S; g++) {
        var m = c.charCodeAt(g) - 48;
        (A *= w),
          m >= 49 ? (P = m - 49 + 10) : m >= 17 ? (P = m - 17 + 10) : (P = m),
          i(m >= 0 && P < w, "Invalid character"),
          (A += P);
      }
      return A;
    }
    (a.prototype._parseBase = function (c, l, p) {
      (this.words = [0]), (this.length = 1);
      for (var w = 0, A = 1; A <= 67108863; A *= l) w++;
      w--, (A = (A / l) | 0);
      for (
        var P = c.length - p,
          S = P % w,
          g = Math.min(P, P - S) + p,
          m = 0,
          N = p;
        N < g;
        N += w
      )
        (m = u(c, N, N + w, l)),
          this.imuln(A),
          this.words[0] + m < 67108864 ? (this.words[0] += m) : this._iaddn(m);
      if (S !== 0) {
        var Q = 1;
        for (m = u(c, N, c.length, l), N = 0; N < S; N++) Q *= l;
        this.imuln(Q),
          this.words[0] + m < 67108864 ? (this.words[0] += m) : this._iaddn(m);
      }
      this._strip();
    }),
      (a.prototype.copy = function (c) {
        c.words = new Array(this.length);
        for (var l = 0; l < this.length; l++) c.words[l] = this.words[l];
        (c.length = this.length),
          (c.negative = this.negative),
          (c.red = this.red);
      });
    function b(c, l) {
      (c.words = l.words),
        (c.length = l.length),
        (c.negative = l.negative),
        (c.red = l.red);
    }
    if (
      ((a.prototype._move = function (c) {
        b(c, this);
      }),
      (a.prototype.clone = function () {
        var c = new a(null);
        return this.copy(c), c;
      }),
      (a.prototype._expand = function (c) {
        for (; this.length < c; ) this.words[this.length++] = 0;
        return this;
      }),
      (a.prototype._strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (a.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      typeof Symbol < "u" && typeof Symbol.for == "function")
    )
      try {
        a.prototype[Symbol.for("nodejs.util.inspect.custom")] = _;
      } catch {
        a.prototype.inspect = _;
      }
    else a.prototype.inspect = _;
    function _() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var I = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      M = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      C = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (a.prototype.toString = function (c, l) {
      (c = c || 10), (l = l | 0 || 1);
      var p;
      if (c === 16 || c === "hex") {
        p = "";
        for (var w = 0, A = 0, P = 0; P < this.length; P++) {
          var S = this.words[P],
            g = (((S << w) | A) & 16777215).toString(16);
          (A = (S >>> (24 - w)) & 16777215),
            (w += 2),
            w >= 26 && ((w -= 26), P--),
            A !== 0 || P !== this.length - 1
              ? (p = I[6 - g.length] + g + p)
              : (p = g + p);
        }
        for (A !== 0 && (p = A.toString(16) + p); p.length % l !== 0; )
          p = "0" + p;
        return this.negative !== 0 && (p = "-" + p), p;
      }
      if (c === (c | 0) && c >= 2 && c <= 36) {
        var m = M[c],
          N = C[c];
        p = "";
        var Q = this.clone();
        for (Q.negative = 0; !Q.isZero(); ) {
          var re = Q.modrn(N).toString(c);
          (Q = Q.idivn(N)),
            Q.isZero() ? (p = re + p) : (p = I[m - re.length] + re + p);
        }
        for (this.isZero() && (p = "0" + p); p.length % l !== 0; ) p = "0" + p;
        return this.negative !== 0 && (p = "-" + p), p;
      }
      i(!1, "Base should be between 2 and 36");
    }),
      (a.prototype.toNumber = function () {
        var c = this.words[0];
        return (
          this.length === 2
            ? (c += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
              ? (c += 4503599627370496 + this.words[1] * 67108864)
              : this.length > 2 &&
                i(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -c : c
        );
      }),
      (a.prototype.toJSON = function () {
        return this.toString(16, 2);
      }),
      f &&
        (a.prototype.toBuffer = function (c, l) {
          return this.toArrayLike(f, c, l);
        }),
      (a.prototype.toArray = function (c, l) {
        return this.toArrayLike(Array, c, l);
      });
    var R = function (c, l) {
      return c.allocUnsafe ? c.allocUnsafe(l) : new c(l);
    };
    (a.prototype.toArrayLike = function (c, l, p) {
      this._strip();
      var w = this.byteLength(),
        A = p || Math.max(1, w);
      i(w <= A, "byte array longer than desired length"),
        i(A > 0, "Requested array length <= 0");
      var P = R(c, A),
        S = l === "le" ? "LE" : "BE";
      return this["_toArrayLike" + S](P, w), P;
    }),
      (a.prototype._toArrayLikeLE = function (c, l) {
        for (var p = 0, w = 0, A = 0, P = 0; A < this.length; A++) {
          var S = (this.words[A] << P) | w;
          (c[p++] = S & 255),
            p < c.length && (c[p++] = (S >> 8) & 255),
            p < c.length && (c[p++] = (S >> 16) & 255),
            P === 6
              ? (p < c.length && (c[p++] = (S >> 24) & 255), (w = 0), (P = 0))
              : ((w = S >>> 24), (P += 2));
        }
        if (p < c.length) for (c[p++] = w; p < c.length; ) c[p++] = 0;
      }),
      (a.prototype._toArrayLikeBE = function (c, l) {
        for (var p = c.length - 1, w = 0, A = 0, P = 0; A < this.length; A++) {
          var S = (this.words[A] << P) | w;
          (c[p--] = S & 255),
            p >= 0 && (c[p--] = (S >> 8) & 255),
            p >= 0 && (c[p--] = (S >> 16) & 255),
            P === 6
              ? (p >= 0 && (c[p--] = (S >> 24) & 255), (w = 0), (P = 0))
              : ((w = S >>> 24), (P += 2));
        }
        if (p >= 0) for (c[p--] = w; p >= 0; ) c[p--] = 0;
      }),
      Math.clz32
        ? (a.prototype._countBits = function (c) {
            return 32 - Math.clz32(c);
          })
        : (a.prototype._countBits = function (c) {
            var l = c,
              p = 0;
            return (
              l >= 4096 && ((p += 13), (l >>>= 13)),
              l >= 64 && ((p += 7), (l >>>= 7)),
              l >= 8 && ((p += 4), (l >>>= 4)),
              l >= 2 && ((p += 2), (l >>>= 2)),
              p + l
            );
          }),
      (a.prototype._zeroBits = function (c) {
        if (c === 0) return 26;
        var l = c,
          p = 0;
        return (
          l & 8191 || ((p += 13), (l >>>= 13)),
          l & 127 || ((p += 7), (l >>>= 7)),
          l & 15 || ((p += 4), (l >>>= 4)),
          l & 3 || ((p += 2), (l >>>= 2)),
          l & 1 || p++,
          p
        );
      }),
      (a.prototype.bitLength = function () {
        var c = this.words[this.length - 1],
          l = this._countBits(c);
        return (this.length - 1) * 26 + l;
      });
    function L(c) {
      for (var l = new Array(c.bitLength()), p = 0; p < l.length; p++) {
        var w = (p / 26) | 0,
          A = p % 26;
        l[p] = (c.words[w] >>> A) & 1;
      }
      return l;
    }
    (a.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var c = 0, l = 0; l < this.length; l++) {
        var p = this._zeroBits(this.words[l]);
        if (((c += p), p !== 26)) break;
      }
      return c;
    }),
      (a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (a.prototype.toTwos = function (c) {
        return this.negative !== 0
          ? this.abs().inotn(c).iaddn(1)
          : this.clone();
      }),
      (a.prototype.fromTwos = function (c) {
        return this.testn(c - 1) ? this.notn(c).iaddn(1).ineg() : this.clone();
      }),
      (a.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (a.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (a.prototype.iuor = function (c) {
        for (; this.length < c.length; ) this.words[this.length++] = 0;
        for (var l = 0; l < c.length; l++)
          this.words[l] = this.words[l] | c.words[l];
        return this._strip();
      }),
      (a.prototype.ior = function (c) {
        return i((this.negative | c.negative) === 0), this.iuor(c);
      }),
      (a.prototype.or = function (c) {
        return this.length > c.length
          ? this.clone().ior(c)
          : c.clone().ior(this);
      }),
      (a.prototype.uor = function (c) {
        return this.length > c.length
          ? this.clone().iuor(c)
          : c.clone().iuor(this);
      }),
      (a.prototype.iuand = function (c) {
        var l;
        this.length > c.length ? (l = c) : (l = this);
        for (var p = 0; p < l.length; p++)
          this.words[p] = this.words[p] & c.words[p];
        return (this.length = l.length), this._strip();
      }),
      (a.prototype.iand = function (c) {
        return i((this.negative | c.negative) === 0), this.iuand(c);
      }),
      (a.prototype.and = function (c) {
        return this.length > c.length
          ? this.clone().iand(c)
          : c.clone().iand(this);
      }),
      (a.prototype.uand = function (c) {
        return this.length > c.length
          ? this.clone().iuand(c)
          : c.clone().iuand(this);
      }),
      (a.prototype.iuxor = function (c) {
        var l, p;
        this.length > c.length ? ((l = this), (p = c)) : ((l = c), (p = this));
        for (var w = 0; w < p.length; w++)
          this.words[w] = l.words[w] ^ p.words[w];
        if (this !== l) for (; w < l.length; w++) this.words[w] = l.words[w];
        return (this.length = l.length), this._strip();
      }),
      (a.prototype.ixor = function (c) {
        return i((this.negative | c.negative) === 0), this.iuxor(c);
      }),
      (a.prototype.xor = function (c) {
        return this.length > c.length
          ? this.clone().ixor(c)
          : c.clone().ixor(this);
      }),
      (a.prototype.uxor = function (c) {
        return this.length > c.length
          ? this.clone().iuxor(c)
          : c.clone().iuxor(this);
      }),
      (a.prototype.inotn = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = Math.ceil(c / 26) | 0,
          p = c % 26;
        this._expand(l), p > 0 && l--;
        for (var w = 0; w < l; w++) this.words[w] = ~this.words[w] & 67108863;
        return (
          p > 0 && (this.words[w] = ~this.words[w] & (67108863 >> (26 - p))),
          this._strip()
        );
      }),
      (a.prototype.notn = function (c) {
        return this.clone().inotn(c);
      }),
      (a.prototype.setn = function (c, l) {
        i(typeof c == "number" && c >= 0);
        var p = (c / 26) | 0,
          w = c % 26;
        return (
          this._expand(p + 1),
          l
            ? (this.words[p] = this.words[p] | (1 << w))
            : (this.words[p] = this.words[p] & ~(1 << w)),
          this._strip()
        );
      }),
      (a.prototype.iadd = function (c) {
        var l;
        if (this.negative !== 0 && c.negative === 0)
          return (
            (this.negative = 0),
            (l = this.isub(c)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && c.negative !== 0)
          return (
            (c.negative = 0),
            (l = this.isub(c)),
            (c.negative = 1),
            l._normSign()
          );
        var p, w;
        this.length > c.length ? ((p = this), (w = c)) : ((p = c), (w = this));
        for (var A = 0, P = 0; P < w.length; P++)
          (l = (p.words[P] | 0) + (w.words[P] | 0) + A),
            (this.words[P] = l & 67108863),
            (A = l >>> 26);
        for (; A !== 0 && P < p.length; P++)
          (l = (p.words[P] | 0) + A),
            (this.words[P] = l & 67108863),
            (A = l >>> 26);
        if (((this.length = p.length), A !== 0))
          (this.words[this.length] = A), this.length++;
        else if (p !== this)
          for (; P < p.length; P++) this.words[P] = p.words[P];
        return this;
      }),
      (a.prototype.add = function (c) {
        var l;
        return c.negative !== 0 && this.negative === 0
          ? ((c.negative = 0), (l = this.sub(c)), (c.negative ^= 1), l)
          : c.negative === 0 && this.negative !== 0
            ? ((this.negative = 0), (l = c.sub(this)), (this.negative = 1), l)
            : this.length > c.length
              ? this.clone().iadd(c)
              : c.clone().iadd(this);
      }),
      (a.prototype.isub = function (c) {
        if (c.negative !== 0) {
          c.negative = 0;
          var l = this.iadd(c);
          return (c.negative = 1), l._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(c),
            (this.negative = 1),
            this._normSign()
          );
        var p = this.cmp(c);
        if (p === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var w, A;
        p > 0 ? ((w = this), (A = c)) : ((w = c), (A = this));
        for (var P = 0, S = 0; S < A.length; S++)
          (l = (w.words[S] | 0) - (A.words[S] | 0) + P),
            (P = l >> 26),
            (this.words[S] = l & 67108863);
        for (; P !== 0 && S < w.length; S++)
          (l = (w.words[S] | 0) + P),
            (P = l >> 26),
            (this.words[S] = l & 67108863);
        if (P === 0 && S < w.length && w !== this)
          for (; S < w.length; S++) this.words[S] = w.words[S];
        return (
          (this.length = Math.max(this.length, S)),
          w !== this && (this.negative = 1),
          this._strip()
        );
      }),
      (a.prototype.sub = function (c) {
        return this.clone().isub(c);
      });
    function V(c, l, p) {
      p.negative = l.negative ^ c.negative;
      var w = (c.length + l.length) | 0;
      (p.length = w), (w = (w - 1) | 0);
      var A = c.words[0] | 0,
        P = l.words[0] | 0,
        S = A * P,
        g = S & 67108863,
        m = (S / 67108864) | 0;
      p.words[0] = g;
      for (var N = 1; N < w; N++) {
        for (
          var Q = m >>> 26,
            re = m & 67108863,
            O = Math.min(N, l.length - 1),
            Z = Math.max(0, N - c.length + 1);
          Z <= O;
          Z++
        ) {
          var $ = (N - Z) | 0;
          (A = c.words[$] | 0),
            (P = l.words[Z] | 0),
            (S = A * P + re),
            (Q += (S / 67108864) | 0),
            (re = S & 67108863);
        }
        (p.words[N] = re | 0), (m = Q | 0);
      }
      return m !== 0 ? (p.words[N] = m | 0) : p.length--, p._strip();
    }
    var F = function (c, l, p) {
      var w = c.words,
        A = l.words,
        P = p.words,
        S = 0,
        g,
        m,
        N,
        Q = w[0] | 0,
        re = Q & 8191,
        O = Q >>> 13,
        Z = w[1] | 0,
        $ = Z & 8191,
        W = Z >>> 13,
        J = w[2] | 0,
        x = J & 8191,
        G = J >>> 13,
        ae = w[3] | 0,
        ce = ae & 8191,
        fe = ae >>> 13,
        be = w[4] | 0,
        we = be & 8191,
        Ie = be >>> 13,
        Je = w[5] | 0,
        Ce = Je & 8191,
        Te = Je >>> 13,
        Se = w[6] | 0,
        me = Se & 8191,
        Oe = Se >>> 13,
        Re = w[7] | 0,
        ve = Re & 8191,
        Ne = Re >>> 13,
        Ee = w[8] | 0,
        ye = Ee & 8191,
        Le = Ee >>> 13,
        De = w[9] | 0,
        _e = De & 8191,
        He = De >>> 13,
        Ve = A[0] | 0,
        xe = Ve & 8191,
        Ke = Ve >>> 13,
        ht = A[1] | 0,
        Ge = ht & 8191,
        _t = ht >>> 13,
        lt = A[2] | 0,
        Ye = lt & 8191,
        xt = lt >>> 13,
        It = A[3] | 0,
        qe = It & 8191,
        Xe = It >>> 13,
        tt = A[4] | 0,
        Fe = tt & 8191,
        et = tt >>> 13,
        Ze = A[5] | 0,
        ze = Ze & 8191,
        ut = Ze >>> 13,
        rt = A[6] | 0,
        ke = rt & 8191,
        it = rt >>> 13,
        st = A[7] | 0,
        Be = st & 8191,
        Qe = st >>> 13,
        ft = A[8] | 0,
        je = ft & 8191,
        Nt = ft >>> 13,
        Tt = A[9] | 0,
        at = Tt & 8191,
        bt = Tt >>> 13;
      (p.negative = c.negative ^ l.negative),
        (p.length = 19),
        (g = Math.imul(re, xe)),
        (m = Math.imul(re, Ke)),
        (m = (m + Math.imul(O, xe)) | 0),
        (N = Math.imul(O, Ke));
      var Dr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Dr >>> 26)) | 0),
        (Dr &= 67108863),
        (g = Math.imul($, xe)),
        (m = Math.imul($, Ke)),
        (m = (m + Math.imul(W, xe)) | 0),
        (N = Math.imul(W, Ke)),
        (g = (g + Math.imul(re, Ge)) | 0),
        (m = (m + Math.imul(re, _t)) | 0),
        (m = (m + Math.imul(O, Ge)) | 0),
        (N = (N + Math.imul(O, _t)) | 0);
      var Pr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Pr >>> 26)) | 0),
        (Pr &= 67108863),
        (g = Math.imul(x, xe)),
        (m = Math.imul(x, Ke)),
        (m = (m + Math.imul(G, xe)) | 0),
        (N = Math.imul(G, Ke)),
        (g = (g + Math.imul($, Ge)) | 0),
        (m = (m + Math.imul($, _t)) | 0),
        (m = (m + Math.imul(W, Ge)) | 0),
        (N = (N + Math.imul(W, _t)) | 0),
        (g = (g + Math.imul(re, Ye)) | 0),
        (m = (m + Math.imul(re, xt)) | 0),
        (m = (m + Math.imul(O, Ye)) | 0),
        (N = (N + Math.imul(O, xt)) | 0);
      var Cr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Cr >>> 26)) | 0),
        (Cr &= 67108863),
        (g = Math.imul(ce, xe)),
        (m = Math.imul(ce, Ke)),
        (m = (m + Math.imul(fe, xe)) | 0),
        (N = Math.imul(fe, Ke)),
        (g = (g + Math.imul(x, Ge)) | 0),
        (m = (m + Math.imul(x, _t)) | 0),
        (m = (m + Math.imul(G, Ge)) | 0),
        (N = (N + Math.imul(G, _t)) | 0),
        (g = (g + Math.imul($, Ye)) | 0),
        (m = (m + Math.imul($, xt)) | 0),
        (m = (m + Math.imul(W, Ye)) | 0),
        (N = (N + Math.imul(W, xt)) | 0),
        (g = (g + Math.imul(re, qe)) | 0),
        (m = (m + Math.imul(re, Xe)) | 0),
        (m = (m + Math.imul(O, qe)) | 0),
        (N = (N + Math.imul(O, Xe)) | 0);
      var Or = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Or >>> 26)) | 0),
        (Or &= 67108863),
        (g = Math.imul(we, xe)),
        (m = Math.imul(we, Ke)),
        (m = (m + Math.imul(Ie, xe)) | 0),
        (N = Math.imul(Ie, Ke)),
        (g = (g + Math.imul(ce, Ge)) | 0),
        (m = (m + Math.imul(ce, _t)) | 0),
        (m = (m + Math.imul(fe, Ge)) | 0),
        (N = (N + Math.imul(fe, _t)) | 0),
        (g = (g + Math.imul(x, Ye)) | 0),
        (m = (m + Math.imul(x, xt)) | 0),
        (m = (m + Math.imul(G, Ye)) | 0),
        (N = (N + Math.imul(G, xt)) | 0),
        (g = (g + Math.imul($, qe)) | 0),
        (m = (m + Math.imul($, Xe)) | 0),
        (m = (m + Math.imul(W, qe)) | 0),
        (N = (N + Math.imul(W, Xe)) | 0),
        (g = (g + Math.imul(re, Fe)) | 0),
        (m = (m + Math.imul(re, et)) | 0),
        (m = (m + Math.imul(O, Fe)) | 0),
        (N = (N + Math.imul(O, et)) | 0);
      var Rr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Rr >>> 26)) | 0),
        (Rr &= 67108863),
        (g = Math.imul(Ce, xe)),
        (m = Math.imul(Ce, Ke)),
        (m = (m + Math.imul(Te, xe)) | 0),
        (N = Math.imul(Te, Ke)),
        (g = (g + Math.imul(we, Ge)) | 0),
        (m = (m + Math.imul(we, _t)) | 0),
        (m = (m + Math.imul(Ie, Ge)) | 0),
        (N = (N + Math.imul(Ie, _t)) | 0),
        (g = (g + Math.imul(ce, Ye)) | 0),
        (m = (m + Math.imul(ce, xt)) | 0),
        (m = (m + Math.imul(fe, Ye)) | 0),
        (N = (N + Math.imul(fe, xt)) | 0),
        (g = (g + Math.imul(x, qe)) | 0),
        (m = (m + Math.imul(x, Xe)) | 0),
        (m = (m + Math.imul(G, qe)) | 0),
        (N = (N + Math.imul(G, Xe)) | 0),
        (g = (g + Math.imul($, Fe)) | 0),
        (m = (m + Math.imul($, et)) | 0),
        (m = (m + Math.imul(W, Fe)) | 0),
        (N = (N + Math.imul(W, et)) | 0),
        (g = (g + Math.imul(re, ze)) | 0),
        (m = (m + Math.imul(re, ut)) | 0),
        (m = (m + Math.imul(O, ze)) | 0),
        (N = (N + Math.imul(O, ut)) | 0);
      var er = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (er >>> 26)) | 0),
        (er &= 67108863),
        (g = Math.imul(me, xe)),
        (m = Math.imul(me, Ke)),
        (m = (m + Math.imul(Oe, xe)) | 0),
        (N = Math.imul(Oe, Ke)),
        (g = (g + Math.imul(Ce, Ge)) | 0),
        (m = (m + Math.imul(Ce, _t)) | 0),
        (m = (m + Math.imul(Te, Ge)) | 0),
        (N = (N + Math.imul(Te, _t)) | 0),
        (g = (g + Math.imul(we, Ye)) | 0),
        (m = (m + Math.imul(we, xt)) | 0),
        (m = (m + Math.imul(Ie, Ye)) | 0),
        (N = (N + Math.imul(Ie, xt)) | 0),
        (g = (g + Math.imul(ce, qe)) | 0),
        (m = (m + Math.imul(ce, Xe)) | 0),
        (m = (m + Math.imul(fe, qe)) | 0),
        (N = (N + Math.imul(fe, Xe)) | 0),
        (g = (g + Math.imul(x, Fe)) | 0),
        (m = (m + Math.imul(x, et)) | 0),
        (m = (m + Math.imul(G, Fe)) | 0),
        (N = (N + Math.imul(G, et)) | 0),
        (g = (g + Math.imul($, ze)) | 0),
        (m = (m + Math.imul($, ut)) | 0),
        (m = (m + Math.imul(W, ze)) | 0),
        (N = (N + Math.imul(W, ut)) | 0),
        (g = (g + Math.imul(re, ke)) | 0),
        (m = (m + Math.imul(re, it)) | 0),
        (m = (m + Math.imul(O, ke)) | 0),
        (N = (N + Math.imul(O, it)) | 0);
      var Vr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Vr >>> 26)) | 0),
        (Vr &= 67108863),
        (g = Math.imul(ve, xe)),
        (m = Math.imul(ve, Ke)),
        (m = (m + Math.imul(Ne, xe)) | 0),
        (N = Math.imul(Ne, Ke)),
        (g = (g + Math.imul(me, Ge)) | 0),
        (m = (m + Math.imul(me, _t)) | 0),
        (m = (m + Math.imul(Oe, Ge)) | 0),
        (N = (N + Math.imul(Oe, _t)) | 0),
        (g = (g + Math.imul(Ce, Ye)) | 0),
        (m = (m + Math.imul(Ce, xt)) | 0),
        (m = (m + Math.imul(Te, Ye)) | 0),
        (N = (N + Math.imul(Te, xt)) | 0),
        (g = (g + Math.imul(we, qe)) | 0),
        (m = (m + Math.imul(we, Xe)) | 0),
        (m = (m + Math.imul(Ie, qe)) | 0),
        (N = (N + Math.imul(Ie, Xe)) | 0),
        (g = (g + Math.imul(ce, Fe)) | 0),
        (m = (m + Math.imul(ce, et)) | 0),
        (m = (m + Math.imul(fe, Fe)) | 0),
        (N = (N + Math.imul(fe, et)) | 0),
        (g = (g + Math.imul(x, ze)) | 0),
        (m = (m + Math.imul(x, ut)) | 0),
        (m = (m + Math.imul(G, ze)) | 0),
        (N = (N + Math.imul(G, ut)) | 0),
        (g = (g + Math.imul($, ke)) | 0),
        (m = (m + Math.imul($, it)) | 0),
        (m = (m + Math.imul(W, ke)) | 0),
        (N = (N + Math.imul(W, it)) | 0),
        (g = (g + Math.imul(re, Be)) | 0),
        (m = (m + Math.imul(re, Qe)) | 0),
        (m = (m + Math.imul(O, Be)) | 0),
        (N = (N + Math.imul(O, Qe)) | 0);
      var Ti = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Ti >>> 26)) | 0),
        (Ti &= 67108863),
        (g = Math.imul(ye, xe)),
        (m = Math.imul(ye, Ke)),
        (m = (m + Math.imul(Le, xe)) | 0),
        (N = Math.imul(Le, Ke)),
        (g = (g + Math.imul(ve, Ge)) | 0),
        (m = (m + Math.imul(ve, _t)) | 0),
        (m = (m + Math.imul(Ne, Ge)) | 0),
        (N = (N + Math.imul(Ne, _t)) | 0),
        (g = (g + Math.imul(me, Ye)) | 0),
        (m = (m + Math.imul(me, xt)) | 0),
        (m = (m + Math.imul(Oe, Ye)) | 0),
        (N = (N + Math.imul(Oe, xt)) | 0),
        (g = (g + Math.imul(Ce, qe)) | 0),
        (m = (m + Math.imul(Ce, Xe)) | 0),
        (m = (m + Math.imul(Te, qe)) | 0),
        (N = (N + Math.imul(Te, Xe)) | 0),
        (g = (g + Math.imul(we, Fe)) | 0),
        (m = (m + Math.imul(we, et)) | 0),
        (m = (m + Math.imul(Ie, Fe)) | 0),
        (N = (N + Math.imul(Ie, et)) | 0),
        (g = (g + Math.imul(ce, ze)) | 0),
        (m = (m + Math.imul(ce, ut)) | 0),
        (m = (m + Math.imul(fe, ze)) | 0),
        (N = (N + Math.imul(fe, ut)) | 0),
        (g = (g + Math.imul(x, ke)) | 0),
        (m = (m + Math.imul(x, it)) | 0),
        (m = (m + Math.imul(G, ke)) | 0),
        (N = (N + Math.imul(G, it)) | 0),
        (g = (g + Math.imul($, Be)) | 0),
        (m = (m + Math.imul($, Qe)) | 0),
        (m = (m + Math.imul(W, Be)) | 0),
        (N = (N + Math.imul(W, Qe)) | 0),
        (g = (g + Math.imul(re, je)) | 0),
        (m = (m + Math.imul(re, Nt)) | 0),
        (m = (m + Math.imul(O, je)) | 0),
        (N = (N + Math.imul(O, Nt)) | 0);
      var Gr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Gr >>> 26)) | 0),
        (Gr &= 67108863),
        (g = Math.imul(_e, xe)),
        (m = Math.imul(_e, Ke)),
        (m = (m + Math.imul(He, xe)) | 0),
        (N = Math.imul(He, Ke)),
        (g = (g + Math.imul(ye, Ge)) | 0),
        (m = (m + Math.imul(ye, _t)) | 0),
        (m = (m + Math.imul(Le, Ge)) | 0),
        (N = (N + Math.imul(Le, _t)) | 0),
        (g = (g + Math.imul(ve, Ye)) | 0),
        (m = (m + Math.imul(ve, xt)) | 0),
        (m = (m + Math.imul(Ne, Ye)) | 0),
        (N = (N + Math.imul(Ne, xt)) | 0),
        (g = (g + Math.imul(me, qe)) | 0),
        (m = (m + Math.imul(me, Xe)) | 0),
        (m = (m + Math.imul(Oe, qe)) | 0),
        (N = (N + Math.imul(Oe, Xe)) | 0),
        (g = (g + Math.imul(Ce, Fe)) | 0),
        (m = (m + Math.imul(Ce, et)) | 0),
        (m = (m + Math.imul(Te, Fe)) | 0),
        (N = (N + Math.imul(Te, et)) | 0),
        (g = (g + Math.imul(we, ze)) | 0),
        (m = (m + Math.imul(we, ut)) | 0),
        (m = (m + Math.imul(Ie, ze)) | 0),
        (N = (N + Math.imul(Ie, ut)) | 0),
        (g = (g + Math.imul(ce, ke)) | 0),
        (m = (m + Math.imul(ce, it)) | 0),
        (m = (m + Math.imul(fe, ke)) | 0),
        (N = (N + Math.imul(fe, it)) | 0),
        (g = (g + Math.imul(x, Be)) | 0),
        (m = (m + Math.imul(x, Qe)) | 0),
        (m = (m + Math.imul(G, Be)) | 0),
        (N = (N + Math.imul(G, Qe)) | 0),
        (g = (g + Math.imul($, je)) | 0),
        (m = (m + Math.imul($, Nt)) | 0),
        (m = (m + Math.imul(W, je)) | 0),
        (N = (N + Math.imul(W, Nt)) | 0),
        (g = (g + Math.imul(re, at)) | 0),
        (m = (m + Math.imul(re, bt)) | 0),
        (m = (m + Math.imul(O, at)) | 0),
        (N = (N + Math.imul(O, bt)) | 0);
      var qi = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (qi >>> 26)) | 0),
        (qi &= 67108863),
        (g = Math.imul(_e, Ge)),
        (m = Math.imul(_e, _t)),
        (m = (m + Math.imul(He, Ge)) | 0),
        (N = Math.imul(He, _t)),
        (g = (g + Math.imul(ye, Ye)) | 0),
        (m = (m + Math.imul(ye, xt)) | 0),
        (m = (m + Math.imul(Le, Ye)) | 0),
        (N = (N + Math.imul(Le, xt)) | 0),
        (g = (g + Math.imul(ve, qe)) | 0),
        (m = (m + Math.imul(ve, Xe)) | 0),
        (m = (m + Math.imul(Ne, qe)) | 0),
        (N = (N + Math.imul(Ne, Xe)) | 0),
        (g = (g + Math.imul(me, Fe)) | 0),
        (m = (m + Math.imul(me, et)) | 0),
        (m = (m + Math.imul(Oe, Fe)) | 0),
        (N = (N + Math.imul(Oe, et)) | 0),
        (g = (g + Math.imul(Ce, ze)) | 0),
        (m = (m + Math.imul(Ce, ut)) | 0),
        (m = (m + Math.imul(Te, ze)) | 0),
        (N = (N + Math.imul(Te, ut)) | 0),
        (g = (g + Math.imul(we, ke)) | 0),
        (m = (m + Math.imul(we, it)) | 0),
        (m = (m + Math.imul(Ie, ke)) | 0),
        (N = (N + Math.imul(Ie, it)) | 0),
        (g = (g + Math.imul(ce, Be)) | 0),
        (m = (m + Math.imul(ce, Qe)) | 0),
        (m = (m + Math.imul(fe, Be)) | 0),
        (N = (N + Math.imul(fe, Qe)) | 0),
        (g = (g + Math.imul(x, je)) | 0),
        (m = (m + Math.imul(x, Nt)) | 0),
        (m = (m + Math.imul(G, je)) | 0),
        (N = (N + Math.imul(G, Nt)) | 0),
        (g = (g + Math.imul($, at)) | 0),
        (m = (m + Math.imul($, bt)) | 0),
        (m = (m + Math.imul(W, at)) | 0),
        (N = (N + Math.imul(W, bt)) | 0);
      var Fi = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Fi >>> 26)) | 0),
        (Fi &= 67108863),
        (g = Math.imul(_e, Ye)),
        (m = Math.imul(_e, xt)),
        (m = (m + Math.imul(He, Ye)) | 0),
        (N = Math.imul(He, xt)),
        (g = (g + Math.imul(ye, qe)) | 0),
        (m = (m + Math.imul(ye, Xe)) | 0),
        (m = (m + Math.imul(Le, qe)) | 0),
        (N = (N + Math.imul(Le, Xe)) | 0),
        (g = (g + Math.imul(ve, Fe)) | 0),
        (m = (m + Math.imul(ve, et)) | 0),
        (m = (m + Math.imul(Ne, Fe)) | 0),
        (N = (N + Math.imul(Ne, et)) | 0),
        (g = (g + Math.imul(me, ze)) | 0),
        (m = (m + Math.imul(me, ut)) | 0),
        (m = (m + Math.imul(Oe, ze)) | 0),
        (N = (N + Math.imul(Oe, ut)) | 0),
        (g = (g + Math.imul(Ce, ke)) | 0),
        (m = (m + Math.imul(Ce, it)) | 0),
        (m = (m + Math.imul(Te, ke)) | 0),
        (N = (N + Math.imul(Te, it)) | 0),
        (g = (g + Math.imul(we, Be)) | 0),
        (m = (m + Math.imul(we, Qe)) | 0),
        (m = (m + Math.imul(Ie, Be)) | 0),
        (N = (N + Math.imul(Ie, Qe)) | 0),
        (g = (g + Math.imul(ce, je)) | 0),
        (m = (m + Math.imul(ce, Nt)) | 0),
        (m = (m + Math.imul(fe, je)) | 0),
        (N = (N + Math.imul(fe, Nt)) | 0),
        (g = (g + Math.imul(x, at)) | 0),
        (m = (m + Math.imul(x, bt)) | 0),
        (m = (m + Math.imul(G, at)) | 0),
        (N = (N + Math.imul(G, bt)) | 0);
      var Wr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Wr >>> 26)) | 0),
        (Wr &= 67108863),
        (g = Math.imul(_e, qe)),
        (m = Math.imul(_e, Xe)),
        (m = (m + Math.imul(He, qe)) | 0),
        (N = Math.imul(He, Xe)),
        (g = (g + Math.imul(ye, Fe)) | 0),
        (m = (m + Math.imul(ye, et)) | 0),
        (m = (m + Math.imul(Le, Fe)) | 0),
        (N = (N + Math.imul(Le, et)) | 0),
        (g = (g + Math.imul(ve, ze)) | 0),
        (m = (m + Math.imul(ve, ut)) | 0),
        (m = (m + Math.imul(Ne, ze)) | 0),
        (N = (N + Math.imul(Ne, ut)) | 0),
        (g = (g + Math.imul(me, ke)) | 0),
        (m = (m + Math.imul(me, it)) | 0),
        (m = (m + Math.imul(Oe, ke)) | 0),
        (N = (N + Math.imul(Oe, it)) | 0),
        (g = (g + Math.imul(Ce, Be)) | 0),
        (m = (m + Math.imul(Ce, Qe)) | 0),
        (m = (m + Math.imul(Te, Be)) | 0),
        (N = (N + Math.imul(Te, Qe)) | 0),
        (g = (g + Math.imul(we, je)) | 0),
        (m = (m + Math.imul(we, Nt)) | 0),
        (m = (m + Math.imul(Ie, je)) | 0),
        (N = (N + Math.imul(Ie, Nt)) | 0),
        (g = (g + Math.imul(ce, at)) | 0),
        (m = (m + Math.imul(ce, bt)) | 0),
        (m = (m + Math.imul(fe, at)) | 0),
        (N = (N + Math.imul(fe, bt)) | 0);
      var vi = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (vi >>> 26)) | 0),
        (vi &= 67108863),
        (g = Math.imul(_e, Fe)),
        (m = Math.imul(_e, et)),
        (m = (m + Math.imul(He, Fe)) | 0),
        (N = Math.imul(He, et)),
        (g = (g + Math.imul(ye, ze)) | 0),
        (m = (m + Math.imul(ye, ut)) | 0),
        (m = (m + Math.imul(Le, ze)) | 0),
        (N = (N + Math.imul(Le, ut)) | 0),
        (g = (g + Math.imul(ve, ke)) | 0),
        (m = (m + Math.imul(ve, it)) | 0),
        (m = (m + Math.imul(Ne, ke)) | 0),
        (N = (N + Math.imul(Ne, it)) | 0),
        (g = (g + Math.imul(me, Be)) | 0),
        (m = (m + Math.imul(me, Qe)) | 0),
        (m = (m + Math.imul(Oe, Be)) | 0),
        (N = (N + Math.imul(Oe, Qe)) | 0),
        (g = (g + Math.imul(Ce, je)) | 0),
        (m = (m + Math.imul(Ce, Nt)) | 0),
        (m = (m + Math.imul(Te, je)) | 0),
        (N = (N + Math.imul(Te, Nt)) | 0),
        (g = (g + Math.imul(we, at)) | 0),
        (m = (m + Math.imul(we, bt)) | 0),
        (m = (m + Math.imul(Ie, at)) | 0),
        (N = (N + Math.imul(Ie, bt)) | 0);
      var bi = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (bi >>> 26)) | 0),
        (bi &= 67108863),
        (g = Math.imul(_e, ze)),
        (m = Math.imul(_e, ut)),
        (m = (m + Math.imul(He, ze)) | 0),
        (N = Math.imul(He, ut)),
        (g = (g + Math.imul(ye, ke)) | 0),
        (m = (m + Math.imul(ye, it)) | 0),
        (m = (m + Math.imul(Le, ke)) | 0),
        (N = (N + Math.imul(Le, it)) | 0),
        (g = (g + Math.imul(ve, Be)) | 0),
        (m = (m + Math.imul(ve, Qe)) | 0),
        (m = (m + Math.imul(Ne, Be)) | 0),
        (N = (N + Math.imul(Ne, Qe)) | 0),
        (g = (g + Math.imul(me, je)) | 0),
        (m = (m + Math.imul(me, Nt)) | 0),
        (m = (m + Math.imul(Oe, je)) | 0),
        (N = (N + Math.imul(Oe, Nt)) | 0),
        (g = (g + Math.imul(Ce, at)) | 0),
        (m = (m + Math.imul(Ce, bt)) | 0),
        (m = (m + Math.imul(Te, at)) | 0),
        (N = (N + Math.imul(Te, bt)) | 0);
      var hr = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (hr >>> 26)) | 0),
        (hr &= 67108863),
        (g = Math.imul(_e, ke)),
        (m = Math.imul(_e, it)),
        (m = (m + Math.imul(He, ke)) | 0),
        (N = Math.imul(He, it)),
        (g = (g + Math.imul(ye, Be)) | 0),
        (m = (m + Math.imul(ye, Qe)) | 0),
        (m = (m + Math.imul(Le, Be)) | 0),
        (N = (N + Math.imul(Le, Qe)) | 0),
        (g = (g + Math.imul(ve, je)) | 0),
        (m = (m + Math.imul(ve, Nt)) | 0),
        (m = (m + Math.imul(Ne, je)) | 0),
        (N = (N + Math.imul(Ne, Nt)) | 0),
        (g = (g + Math.imul(me, at)) | 0),
        (m = (m + Math.imul(me, bt)) | 0),
        (m = (m + Math.imul(Oe, at)) | 0),
        (N = (N + Math.imul(Oe, bt)) | 0);
      var Bi = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Bi >>> 26)) | 0),
        (Bi &= 67108863),
        (g = Math.imul(_e, Be)),
        (m = Math.imul(_e, Qe)),
        (m = (m + Math.imul(He, Be)) | 0),
        (N = Math.imul(He, Qe)),
        (g = (g + Math.imul(ye, je)) | 0),
        (m = (m + Math.imul(ye, Nt)) | 0),
        (m = (m + Math.imul(Le, je)) | 0),
        (N = (N + Math.imul(Le, Nt)) | 0),
        (g = (g + Math.imul(ve, at)) | 0),
        (m = (m + Math.imul(ve, bt)) | 0),
        (m = (m + Math.imul(Ne, at)) | 0),
        (N = (N + Math.imul(Ne, bt)) | 0);
      var Li = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Li >>> 26)) | 0),
        (Li &= 67108863),
        (g = Math.imul(_e, je)),
        (m = Math.imul(_e, Nt)),
        (m = (m + Math.imul(He, je)) | 0),
        (N = Math.imul(He, Nt)),
        (g = (g + Math.imul(ye, at)) | 0),
        (m = (m + Math.imul(ye, bt)) | 0),
        (m = (m + Math.imul(Le, at)) | 0),
        (N = (N + Math.imul(Le, bt)) | 0);
      var Ui = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      (S = (((N + (m >>> 13)) | 0) + (Ui >>> 26)) | 0),
        (Ui &= 67108863),
        (g = Math.imul(_e, at)),
        (m = Math.imul(_e, bt)),
        (m = (m + Math.imul(He, at)) | 0),
        (N = Math.imul(He, bt));
      var ds = (((S + g) | 0) + ((m & 8191) << 13)) | 0;
      return (
        (S = (((N + (m >>> 13)) | 0) + (ds >>> 26)) | 0),
        (ds &= 67108863),
        (P[0] = Dr),
        (P[1] = Pr),
        (P[2] = Cr),
        (P[3] = Or),
        (P[4] = Rr),
        (P[5] = er),
        (P[6] = Vr),
        (P[7] = Ti),
        (P[8] = Gr),
        (P[9] = qi),
        (P[10] = Fi),
        (P[11] = Wr),
        (P[12] = vi),
        (P[13] = bi),
        (P[14] = hr),
        (P[15] = Bi),
        (P[16] = Li),
        (P[17] = Ui),
        (P[18] = ds),
        S !== 0 && ((P[19] = S), p.length++),
        p
      );
    };
    Math.imul || (F = V);
    function K(c, l, p) {
      (p.negative = l.negative ^ c.negative), (p.length = c.length + l.length);
      for (var w = 0, A = 0, P = 0; P < p.length - 1; P++) {
        var S = A;
        A = 0;
        for (
          var g = w & 67108863,
            m = Math.min(P, l.length - 1),
            N = Math.max(0, P - c.length + 1);
          N <= m;
          N++
        ) {
          var Q = P - N,
            re = c.words[Q] | 0,
            O = l.words[N] | 0,
            Z = re * O,
            $ = Z & 67108863;
          (S = (S + ((Z / 67108864) | 0)) | 0),
            ($ = ($ + g) | 0),
            (g = $ & 67108863),
            (S = (S + ($ >>> 26)) | 0),
            (A += S >>> 26),
            (S &= 67108863);
        }
        (p.words[P] = g), (w = S), (S = A);
      }
      return w !== 0 ? (p.words[P] = w) : p.length--, p._strip();
    }
    function B(c, l, p) {
      return K(c, l, p);
    }
    (a.prototype.mulTo = function (c, l) {
      var p,
        w = this.length + c.length;
      return (
        this.length === 10 && c.length === 10
          ? (p = F(this, c, l))
          : w < 63
            ? (p = V(this, c, l))
            : w < 1024
              ? (p = K(this, c, l))
              : (p = B(this, c, l)),
        p
      );
    }),
      (a.prototype.mul = function (c) {
        var l = new a(null);
        return (l.words = new Array(this.length + c.length)), this.mulTo(c, l);
      }),
      (a.prototype.mulf = function (c) {
        var l = new a(null);
        return (l.words = new Array(this.length + c.length)), B(this, c, l);
      }),
      (a.prototype.imul = function (c) {
        return this.clone().mulTo(c, this);
      }),
      (a.prototype.imuln = function (c) {
        var l = c < 0;
        l && (c = -c), i(typeof c == "number"), i(c < 67108864);
        for (var p = 0, w = 0; w < this.length; w++) {
          var A = (this.words[w] | 0) * c,
            P = (A & 67108863) + (p & 67108863);
          (p >>= 26),
            (p += (A / 67108864) | 0),
            (p += P >>> 26),
            (this.words[w] = P & 67108863);
        }
        return (
          p !== 0 && ((this.words[w] = p), this.length++),
          l ? this.ineg() : this
        );
      }),
      (a.prototype.muln = function (c) {
        return this.clone().imuln(c);
      }),
      (a.prototype.sqr = function () {
        return this.mul(this);
      }),
      (a.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (a.prototype.pow = function (c) {
        var l = L(c);
        if (l.length === 0) return new a(1);
        for (var p = this, w = 0; w < l.length && l[w] === 0; w++, p = p.sqr());
        if (++w < l.length)
          for (var A = p.sqr(); w < l.length; w++, A = A.sqr())
            l[w] !== 0 && (p = p.mul(A));
        return p;
      }),
      (a.prototype.iushln = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = c % 26,
          p = (c - l) / 26,
          w = (67108863 >>> (26 - l)) << (26 - l),
          A;
        if (l !== 0) {
          var P = 0;
          for (A = 0; A < this.length; A++) {
            var S = this.words[A] & w,
              g = ((this.words[A] | 0) - S) << l;
            (this.words[A] = g | P), (P = S >>> (26 - l));
          }
          P && ((this.words[A] = P), this.length++);
        }
        if (p !== 0) {
          for (A = this.length - 1; A >= 0; A--)
            this.words[A + p] = this.words[A];
          for (A = 0; A < p; A++) this.words[A] = 0;
          this.length += p;
        }
        return this._strip();
      }),
      (a.prototype.ishln = function (c) {
        return i(this.negative === 0), this.iushln(c);
      }),
      (a.prototype.iushrn = function (c, l, p) {
        i(typeof c == "number" && c >= 0);
        var w;
        l ? (w = (l - (l % 26)) / 26) : (w = 0);
        var A = c % 26,
          P = Math.min((c - A) / 26, this.length),
          S = 67108863 ^ ((67108863 >>> A) << A),
          g = p;
        if (((w -= P), (w = Math.max(0, w)), g)) {
          for (var m = 0; m < P; m++) g.words[m] = this.words[m];
          g.length = P;
        }
        if (P !== 0)
          if (this.length > P)
            for (this.length -= P, m = 0; m < this.length; m++)
              this.words[m] = this.words[m + P];
          else (this.words[0] = 0), (this.length = 1);
        var N = 0;
        for (m = this.length - 1; m >= 0 && (N !== 0 || m >= w); m--) {
          var Q = this.words[m] | 0;
          (this.words[m] = (N << (26 - A)) | (Q >>> A)), (N = Q & S);
        }
        return (
          g && N !== 0 && (g.words[g.length++] = N),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this._strip()
        );
      }),
      (a.prototype.ishrn = function (c, l, p) {
        return i(this.negative === 0), this.iushrn(c, l, p);
      }),
      (a.prototype.shln = function (c) {
        return this.clone().ishln(c);
      }),
      (a.prototype.ushln = function (c) {
        return this.clone().iushln(c);
      }),
      (a.prototype.shrn = function (c) {
        return this.clone().ishrn(c);
      }),
      (a.prototype.ushrn = function (c) {
        return this.clone().iushrn(c);
      }),
      (a.prototype.testn = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = c % 26,
          p = (c - l) / 26,
          w = 1 << l;
        if (this.length <= p) return !1;
        var A = this.words[p];
        return !!(A & w);
      }),
      (a.prototype.imaskn = function (c) {
        i(typeof c == "number" && c >= 0);
        var l = c % 26,
          p = (c - l) / 26;
        if (
          (i(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= p)
        )
          return this;
        if (
          (l !== 0 && p++, (this.length = Math.min(p, this.length)), l !== 0)
        ) {
          var w = 67108863 ^ ((67108863 >>> l) << l);
          this.words[this.length - 1] &= w;
        }
        return this._strip();
      }),
      (a.prototype.maskn = function (c) {
        return this.clone().imaskn(c);
      }),
      (a.prototype.iaddn = function (c) {
        return (
          i(typeof c == "number"),
          i(c < 67108864),
          c < 0
            ? this.isubn(-c)
            : this.negative !== 0
              ? this.length === 1 && (this.words[0] | 0) <= c
                ? ((this.words[0] = c - (this.words[0] | 0)),
                  (this.negative = 0),
                  this)
                : ((this.negative = 0),
                  this.isubn(c),
                  (this.negative = 1),
                  this)
              : this._iaddn(c)
        );
      }),
      (a.prototype._iaddn = function (c) {
        this.words[0] += c;
        for (var l = 0; l < this.length && this.words[l] >= 67108864; l++)
          (this.words[l] -= 67108864),
            l === this.length - 1
              ? (this.words[l + 1] = 1)
              : this.words[l + 1]++;
        return (this.length = Math.max(this.length, l + 1)), this;
      }),
      (a.prototype.isubn = function (c) {
        if ((i(typeof c == "number"), i(c < 67108864), c < 0))
          return this.iaddn(-c);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(c), (this.negative = 1), this;
        if (((this.words[0] -= c), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var l = 0; l < this.length && this.words[l] < 0; l++)
            (this.words[l] += 67108864), (this.words[l + 1] -= 1);
        return this._strip();
      }),
      (a.prototype.addn = function (c) {
        return this.clone().iaddn(c);
      }),
      (a.prototype.subn = function (c) {
        return this.clone().isubn(c);
      }),
      (a.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (a.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (a.prototype._ishlnsubmul = function (c, l, p) {
        var w = c.length + p,
          A;
        this._expand(w);
        var P,
          S = 0;
        for (A = 0; A < c.length; A++) {
          P = (this.words[A + p] | 0) + S;
          var g = (c.words[A] | 0) * l;
          (P -= g & 67108863),
            (S = (P >> 26) - ((g / 67108864) | 0)),
            (this.words[A + p] = P & 67108863);
        }
        for (; A < this.length - p; A++)
          (P = (this.words[A + p] | 0) + S),
            (S = P >> 26),
            (this.words[A + p] = P & 67108863);
        if (S === 0) return this._strip();
        for (i(S === -1), S = 0, A = 0; A < this.length; A++)
          (P = -(this.words[A] | 0) + S),
            (S = P >> 26),
            (this.words[A] = P & 67108863);
        return (this.negative = 1), this._strip();
      }),
      (a.prototype._wordDiv = function (c, l) {
        var p = this.length - c.length,
          w = this.clone(),
          A = c,
          P = A.words[A.length - 1] | 0,
          S = this._countBits(P);
        (p = 26 - S),
          p !== 0 &&
            ((A = A.ushln(p)), w.iushln(p), (P = A.words[A.length - 1] | 0));
        var g = w.length - A.length,
          m;
        if (l !== "mod") {
          (m = new a(null)),
            (m.length = g + 1),
            (m.words = new Array(m.length));
          for (var N = 0; N < m.length; N++) m.words[N] = 0;
        }
        var Q = w.clone()._ishlnsubmul(A, 1, g);
        Q.negative === 0 && ((w = Q), m && (m.words[g] = 1));
        for (var re = g - 1; re >= 0; re--) {
          var O =
            (w.words[A.length + re] | 0) * 67108864 +
            (w.words[A.length + re - 1] | 0);
          for (
            O = Math.min((O / P) | 0, 67108863), w._ishlnsubmul(A, O, re);
            w.negative !== 0;

          )
            O--,
              (w.negative = 0),
              w._ishlnsubmul(A, 1, re),
              w.isZero() || (w.negative ^= 1);
          m && (m.words[re] = O);
        }
        return (
          m && m._strip(),
          w._strip(),
          l !== "div" && p !== 0 && w.iushrn(p),
          { div: m || null, mod: w }
        );
      }),
      (a.prototype.divmod = function (c, l, p) {
        if ((i(!c.isZero()), this.isZero()))
          return { div: new a(0), mod: new a(0) };
        var w, A, P;
        return this.negative !== 0 && c.negative === 0
          ? ((P = this.neg().divmod(c, l)),
            l !== "mod" && (w = P.div.neg()),
            l !== "div" &&
              ((A = P.mod.neg()), p && A.negative !== 0 && A.iadd(c)),
            { div: w, mod: A })
          : this.negative === 0 && c.negative !== 0
            ? ((P = this.divmod(c.neg(), l)),
              l !== "mod" && (w = P.div.neg()),
              { div: w, mod: P.mod })
            : this.negative & c.negative
              ? ((P = this.neg().divmod(c.neg(), l)),
                l !== "div" &&
                  ((A = P.mod.neg()), p && A.negative !== 0 && A.isub(c)),
                { div: P.div, mod: A })
              : c.length > this.length || this.cmp(c) < 0
                ? { div: new a(0), mod: this }
                : c.length === 1
                  ? l === "div"
                    ? { div: this.divn(c.words[0]), mod: null }
                    : l === "mod"
                      ? { div: null, mod: new a(this.modrn(c.words[0])) }
                      : {
                          div: this.divn(c.words[0]),
                          mod: new a(this.modrn(c.words[0])),
                        }
                  : this._wordDiv(c, l);
      }),
      (a.prototype.div = function (c) {
        return this.divmod(c, "div", !1).div;
      }),
      (a.prototype.mod = function (c) {
        return this.divmod(c, "mod", !1).mod;
      }),
      (a.prototype.umod = function (c) {
        return this.divmod(c, "mod", !0).mod;
      }),
      (a.prototype.divRound = function (c) {
        var l = this.divmod(c);
        if (l.mod.isZero()) return l.div;
        var p = l.div.negative !== 0 ? l.mod.isub(c) : l.mod,
          w = c.ushrn(1),
          A = c.andln(1),
          P = p.cmp(w);
        return P < 0 || (A === 1 && P === 0)
          ? l.div
          : l.div.negative !== 0
            ? l.div.isubn(1)
            : l.div.iaddn(1);
      }),
      (a.prototype.modrn = function (c) {
        var l = c < 0;
        l && (c = -c), i(c <= 67108863);
        for (var p = (1 << 26) % c, w = 0, A = this.length - 1; A >= 0; A--)
          w = (p * w + (this.words[A] | 0)) % c;
        return l ? -w : w;
      }),
      (a.prototype.modn = function (c) {
        return this.modrn(c);
      }),
      (a.prototype.idivn = function (c) {
        var l = c < 0;
        l && (c = -c), i(c <= 67108863);
        for (var p = 0, w = this.length - 1; w >= 0; w--) {
          var A = (this.words[w] | 0) + p * 67108864;
          (this.words[w] = (A / c) | 0), (p = A % c);
        }
        return this._strip(), l ? this.ineg() : this;
      }),
      (a.prototype.divn = function (c) {
        return this.clone().idivn(c);
      }),
      (a.prototype.egcd = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var l = this,
          p = c.clone();
        l.negative !== 0 ? (l = l.umod(c)) : (l = l.clone());
        for (
          var w = new a(1), A = new a(0), P = new a(0), S = new a(1), g = 0;
          l.isEven() && p.isEven();

        )
          l.iushrn(1), p.iushrn(1), ++g;
        for (var m = p.clone(), N = l.clone(); !l.isZero(); ) {
          for (var Q = 0, re = 1; !(l.words[0] & re) && Q < 26; ++Q, re <<= 1);
          if (Q > 0)
            for (l.iushrn(Q); Q-- > 0; )
              (w.isOdd() || A.isOdd()) && (w.iadd(m), A.isub(N)),
                w.iushrn(1),
                A.iushrn(1);
          for (var O = 0, Z = 1; !(p.words[0] & Z) && O < 26; ++O, Z <<= 1);
          if (O > 0)
            for (p.iushrn(O); O-- > 0; )
              (P.isOdd() || S.isOdd()) && (P.iadd(m), S.isub(N)),
                P.iushrn(1),
                S.iushrn(1);
          l.cmp(p) >= 0
            ? (l.isub(p), w.isub(P), A.isub(S))
            : (p.isub(l), P.isub(w), S.isub(A));
        }
        return { a: P, b: S, gcd: p.iushln(g) };
      }),
      (a.prototype._invmp = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var l = this,
          p = c.clone();
        l.negative !== 0 ? (l = l.umod(c)) : (l = l.clone());
        for (
          var w = new a(1), A = new a(0), P = p.clone();
          l.cmpn(1) > 0 && p.cmpn(1) > 0;

        ) {
          for (var S = 0, g = 1; !(l.words[0] & g) && S < 26; ++S, g <<= 1);
          if (S > 0)
            for (l.iushrn(S); S-- > 0; ) w.isOdd() && w.iadd(P), w.iushrn(1);
          for (var m = 0, N = 1; !(p.words[0] & N) && m < 26; ++m, N <<= 1);
          if (m > 0)
            for (p.iushrn(m); m-- > 0; ) A.isOdd() && A.iadd(P), A.iushrn(1);
          l.cmp(p) >= 0 ? (l.isub(p), w.isub(A)) : (p.isub(l), A.isub(w));
        }
        var Q;
        return (
          l.cmpn(1) === 0 ? (Q = w) : (Q = A), Q.cmpn(0) < 0 && Q.iadd(c), Q
        );
      }),
      (a.prototype.gcd = function (c) {
        if (this.isZero()) return c.abs();
        if (c.isZero()) return this.abs();
        var l = this.clone(),
          p = c.clone();
        (l.negative = 0), (p.negative = 0);
        for (var w = 0; l.isEven() && p.isEven(); w++) l.iushrn(1), p.iushrn(1);
        do {
          for (; l.isEven(); ) l.iushrn(1);
          for (; p.isEven(); ) p.iushrn(1);
          var A = l.cmp(p);
          if (A < 0) {
            var P = l;
            (l = p), (p = P);
          } else if (A === 0 || p.cmpn(1) === 0) break;
          l.isub(p);
        } while (!0);
        return p.iushln(w);
      }),
      (a.prototype.invm = function (c) {
        return this.egcd(c).a.umod(c);
      }),
      (a.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (a.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (a.prototype.andln = function (c) {
        return this.words[0] & c;
      }),
      (a.prototype.bincn = function (c) {
        i(typeof c == "number");
        var l = c % 26,
          p = (c - l) / 26,
          w = 1 << l;
        if (this.length <= p)
          return this._expand(p + 1), (this.words[p] |= w), this;
        for (var A = w, P = p; A !== 0 && P < this.length; P++) {
          var S = this.words[P] | 0;
          (S += A), (A = S >>> 26), (S &= 67108863), (this.words[P] = S);
        }
        return A !== 0 && ((this.words[P] = A), this.length++), this;
      }),
      (a.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (a.prototype.cmpn = function (c) {
        var l = c < 0;
        if (this.negative !== 0 && !l) return -1;
        if (this.negative === 0 && l) return 1;
        this._strip();
        var p;
        if (this.length > 1) p = 1;
        else {
          l && (c = -c), i(c <= 67108863, "Number is too big");
          var w = this.words[0] | 0;
          p = w === c ? 0 : w < c ? -1 : 1;
        }
        return this.negative !== 0 ? -p | 0 : p;
      }),
      (a.prototype.cmp = function (c) {
        if (this.negative !== 0 && c.negative === 0) return -1;
        if (this.negative === 0 && c.negative !== 0) return 1;
        var l = this.ucmp(c);
        return this.negative !== 0 ? -l | 0 : l;
      }),
      (a.prototype.ucmp = function (c) {
        if (this.length > c.length) return 1;
        if (this.length < c.length) return -1;
        for (var l = 0, p = this.length - 1; p >= 0; p--) {
          var w = this.words[p] | 0,
            A = c.words[p] | 0;
          if (w !== A) {
            w < A ? (l = -1) : w > A && (l = 1);
            break;
          }
        }
        return l;
      }),
      (a.prototype.gtn = function (c) {
        return this.cmpn(c) === 1;
      }),
      (a.prototype.gt = function (c) {
        return this.cmp(c) === 1;
      }),
      (a.prototype.gten = function (c) {
        return this.cmpn(c) >= 0;
      }),
      (a.prototype.gte = function (c) {
        return this.cmp(c) >= 0;
      }),
      (a.prototype.ltn = function (c) {
        return this.cmpn(c) === -1;
      }),
      (a.prototype.lt = function (c) {
        return this.cmp(c) === -1;
      }),
      (a.prototype.lten = function (c) {
        return this.cmpn(c) <= 0;
      }),
      (a.prototype.lte = function (c) {
        return this.cmp(c) <= 0;
      }),
      (a.prototype.eqn = function (c) {
        return this.cmpn(c) === 0;
      }),
      (a.prototype.eq = function (c) {
        return this.cmp(c) === 0;
      }),
      (a.red = function (c) {
        return new k(c);
      }),
      (a.prototype.toRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          i(this.negative === 0, "red works only with positives"),
          c.convertTo(this)._forceRed(c)
        );
      }),
      (a.prototype.fromRed = function () {
        return (
          i(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (a.prototype._forceRed = function (c) {
        return (this.red = c), this;
      }),
      (a.prototype.forceRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          this._forceRed(c)
        );
      }),
      (a.prototype.redAdd = function (c) {
        return (
          i(this.red, "redAdd works only with red numbers"),
          this.red.add(this, c)
        );
      }),
      (a.prototype.redIAdd = function (c) {
        return (
          i(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, c)
        );
      }),
      (a.prototype.redSub = function (c) {
        return (
          i(this.red, "redSub works only with red numbers"),
          this.red.sub(this, c)
        );
      }),
      (a.prototype.redISub = function (c) {
        return (
          i(this.red, "redISub works only with red numbers"),
          this.red.isub(this, c)
        );
      }),
      (a.prototype.redShl = function (c) {
        return (
          i(this.red, "redShl works only with red numbers"),
          this.red.shl(this, c)
        );
      }),
      (a.prototype.redMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.mul(this, c)
        );
      }),
      (a.prototype.redIMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.imul(this, c)
        );
      }),
      (a.prototype.redSqr = function () {
        return (
          i(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (a.prototype.redISqr = function () {
        return (
          i(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (a.prototype.redSqrt = function () {
        return (
          i(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (a.prototype.redInvm = function () {
        return (
          i(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (a.prototype.redNeg = function () {
        return (
          i(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (a.prototype.redPow = function (c) {
        return (
          i(this.red && !c.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, c)
        );
      });
    var z = { k256: null, p224: null, p192: null, p25519: null };
    function q(c, l) {
      (this.name = c),
        (this.p = new a(l, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new a(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (q.prototype._tmp = function () {
      var c = new a(null);
      return (c.words = new Array(Math.ceil(this.n / 13))), c;
    }),
      (q.prototype.ireduce = function (c) {
        var l = c,
          p;
        do
          this.split(l, this.tmp),
            (l = this.imulK(l)),
            (l = l.iadd(this.tmp)),
            (p = l.bitLength());
        while (p > this.n);
        var w = p < this.n ? -1 : l.ucmp(this.p);
        return (
          w === 0
            ? ((l.words[0] = 0), (l.length = 1))
            : w > 0
              ? l.isub(this.p)
              : l.strip !== void 0
                ? l.strip()
                : l._strip(),
          l
        );
      }),
      (q.prototype.split = function (c, l) {
        c.iushrn(this.n, 0, l);
      }),
      (q.prototype.imulK = function (c) {
        return c.imul(this.k);
      });
    function E() {
      q.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
      );
    }
    s(E, q),
      (E.prototype.split = function (c, l) {
        for (var p = 4194303, w = Math.min(c.length, 9), A = 0; A < w; A++)
          l.words[A] = c.words[A];
        if (((l.length = w), c.length <= 9)) {
          (c.words[0] = 0), (c.length = 1);
          return;
        }
        var P = c.words[9];
        for (l.words[l.length++] = P & p, A = 10; A < c.length; A++) {
          var S = c.words[A] | 0;
          (c.words[A - 10] = ((S & p) << 4) | (P >>> 22)), (P = S);
        }
        (P >>>= 22),
          (c.words[A - 10] = P),
          P === 0 && c.length > 10 ? (c.length -= 10) : (c.length -= 9);
      }),
      (E.prototype.imulK = function (c) {
        (c.words[c.length] = 0), (c.words[c.length + 1] = 0), (c.length += 2);
        for (var l = 0, p = 0; p < c.length; p++) {
          var w = c.words[p] | 0;
          (l += w * 977),
            (c.words[p] = l & 67108863),
            (l = w * 64 + ((l / 67108864) | 0));
        }
        return (
          c.words[c.length - 1] === 0 &&
            (c.length--, c.words[c.length - 1] === 0 && c.length--),
          c
        );
      });
    function U() {
      q.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
      );
    }
    s(U, q);
    function te() {
      q.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
      );
    }
    s(te, q);
    function oe() {
      q.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
      );
    }
    s(oe, q),
      (oe.prototype.imulK = function (c) {
        for (var l = 0, p = 0; p < c.length; p++) {
          var w = (c.words[p] | 0) * 19 + l,
            A = w & 67108863;
          (w >>>= 26), (c.words[p] = A), (l = w);
        }
        return l !== 0 && (c.words[c.length++] = l), c;
      }),
      (a._prime = function (c) {
        if (z[c]) return z[c];
        var l;
        if (c === "k256") l = new E();
        else if (c === "p224") l = new U();
        else if (c === "p192") l = new te();
        else if (c === "p25519") l = new oe();
        else throw new Error("Unknown prime " + c);
        return (z[c] = l), l;
      });
    function k(c) {
      if (typeof c == "string") {
        var l = a._prime(c);
        (this.m = l.p), (this.prime = l);
      } else
        i(c.gtn(1), "modulus must be greater than 1"),
          (this.m = c),
          (this.prime = null);
    }
    (k.prototype._verify1 = function (c) {
      i(c.negative === 0, "red works only with positives"),
        i(c.red, "red works only with red numbers");
    }),
      (k.prototype._verify2 = function (c, l) {
        i((c.negative | l.negative) === 0, "red works only with positives"),
          i(c.red && c.red === l.red, "red works only with red numbers");
      }),
      (k.prototype.imod = function (c) {
        return this.prime
          ? this.prime.ireduce(c)._forceRed(this)
          : (b(c, c.umod(this.m)._forceRed(this)), c);
      }),
      (k.prototype.neg = function (c) {
        return c.isZero() ? c.clone() : this.m.sub(c)._forceRed(this);
      }),
      (k.prototype.add = function (c, l) {
        this._verify2(c, l);
        var p = c.add(l);
        return p.cmp(this.m) >= 0 && p.isub(this.m), p._forceRed(this);
      }),
      (k.prototype.iadd = function (c, l) {
        this._verify2(c, l);
        var p = c.iadd(l);
        return p.cmp(this.m) >= 0 && p.isub(this.m), p;
      }),
      (k.prototype.sub = function (c, l) {
        this._verify2(c, l);
        var p = c.sub(l);
        return p.cmpn(0) < 0 && p.iadd(this.m), p._forceRed(this);
      }),
      (k.prototype.isub = function (c, l) {
        this._verify2(c, l);
        var p = c.isub(l);
        return p.cmpn(0) < 0 && p.iadd(this.m), p;
      }),
      (k.prototype.shl = function (c, l) {
        return this._verify1(c), this.imod(c.ushln(l));
      }),
      (k.prototype.imul = function (c, l) {
        return this._verify2(c, l), this.imod(c.imul(l));
      }),
      (k.prototype.mul = function (c, l) {
        return this._verify2(c, l), this.imod(c.mul(l));
      }),
      (k.prototype.isqr = function (c) {
        return this.imul(c, c.clone());
      }),
      (k.prototype.sqr = function (c) {
        return this.mul(c, c);
      }),
      (k.prototype.sqrt = function (c) {
        if (c.isZero()) return c.clone();
        var l = this.m.andln(3);
        if ((i(l % 2 === 1), l === 3)) {
          var p = this.m.add(new a(1)).iushrn(2);
          return this.pow(c, p);
        }
        for (var w = this.m.subn(1), A = 0; !w.isZero() && w.andln(1) === 0; )
          A++, w.iushrn(1);
        i(!w.isZero());
        var P = new a(1).toRed(this),
          S = P.redNeg(),
          g = this.m.subn(1).iushrn(1),
          m = this.m.bitLength();
        for (m = new a(2 * m * m).toRed(this); this.pow(m, g).cmp(S) !== 0; )
          m.redIAdd(S);
        for (
          var N = this.pow(m, w),
            Q = this.pow(c, w.addn(1).iushrn(1)),
            re = this.pow(c, w),
            O = A;
          re.cmp(P) !== 0;

        ) {
          for (var Z = re, $ = 0; Z.cmp(P) !== 0; $++) Z = Z.redSqr();
          i($ < O);
          var W = this.pow(N, new a(1).iushln(O - $ - 1));
          (Q = Q.redMul(W)), (N = W.redSqr()), (re = re.redMul(N)), (O = $);
        }
        return Q;
      }),
      (k.prototype.invm = function (c) {
        var l = c._invmp(this.m);
        return l.negative !== 0
          ? ((l.negative = 0), this.imod(l).redNeg())
          : this.imod(l);
      }),
      (k.prototype.pow = function (c, l) {
        if (l.isZero()) return new a(1).toRed(this);
        if (l.cmpn(1) === 0) return c.clone();
        var p = 4,
          w = new Array(1 << p);
        (w[0] = new a(1).toRed(this)), (w[1] = c);
        for (var A = 2; A < w.length; A++) w[A] = this.mul(w[A - 1], c);
        var P = w[0],
          S = 0,
          g = 0,
          m = l.bitLength() % 26;
        for (m === 0 && (m = 26), A = l.length - 1; A >= 0; A--) {
          for (var N = l.words[A], Q = m - 1; Q >= 0; Q--) {
            var re = (N >> Q) & 1;
            if ((P !== w[0] && (P = this.sqr(P)), re === 0 && S === 0)) {
              g = 0;
              continue;
            }
            (S <<= 1),
              (S |= re),
              g++,
              !(g !== p && (A !== 0 || Q !== 0)) &&
                ((P = this.mul(P, w[S])), (g = 0), (S = 0));
          }
          m = 26;
        }
        return P;
      }),
      (k.prototype.convertTo = function (c) {
        var l = c.umod(this.m);
        return l === c ? l.clone() : l;
      }),
      (k.prototype.convertFrom = function (c) {
        var l = c.clone();
        return (l.red = null), l;
      }),
      (a.mont = function (c) {
        return new y(c);
      });
    function y(c) {
      k.call(this, c),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new a(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    s(y, k),
      (y.prototype.convertTo = function (c) {
        return this.imod(c.ushln(this.shift));
      }),
      (y.prototype.convertFrom = function (c) {
        var l = this.imod(c.mul(this.rinv));
        return (l.red = null), l;
      }),
      (y.prototype.imul = function (c, l) {
        if (c.isZero() || l.isZero())
          return (c.words[0] = 0), (c.length = 1), c;
        var p = c.imul(l),
          w = p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          A = p.isub(w).iushrn(this.shift),
          P = A;
        return (
          A.cmp(this.m) >= 0
            ? (P = A.isub(this.m))
            : A.cmpn(0) < 0 && (P = A.iadd(this.m)),
          P._forceRed(this)
        );
      }),
      (y.prototype.mul = function (c, l) {
        if (c.isZero() || l.isZero()) return new a(0)._forceRed(this);
        var p = c.mul(l),
          w = p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          A = p.isub(w).iushrn(this.shift),
          P = A;
        return (
          A.cmp(this.m) >= 0
            ? (P = A.isub(this.m))
            : A.cmpn(0) < 0 && (P = A.iadd(this.m)),
          P._forceRed(this)
        );
      }),
      (y.prototype.invm = function (c) {
        var l = this.imod(c._invmp(this.m).mul(this.r2));
        return l._forceRed(this);
      });
  })(r, ub);
})(db);
var vt = db.exports;
const pb = "bignumber/5.7.0";
var Au = vt.BN;
const jn = new Sr(pb),
  Gh = {},
  G7 = 9007199254740991;
function W7(r) {
  return (
    r != null &&
    (Wt.isBigNumber(r) ||
      (typeof r == "number" && r % 1 === 0) ||
      (typeof r == "string" && !!r.match(/^-?[0-9]+$/)) ||
      di(r) ||
      typeof r == "bigint" ||
      Sa(r))
  );
}
let V1 = !1;
class Wt {
  constructor(e, t) {
    e !== Gh &&
      jn.throwError(
        "cannot call constructor directly; use BigNumber.from",
        Sr.errors.UNSUPPORTED_OPERATION,
        { operation: "new (BigNumber)" },
      ),
      (this._hex = t),
      (this._isBigNumber = !0),
      Object.freeze(this);
  }
  fromTwos(e) {
    return ei(Pt(this).fromTwos(e));
  }
  toTwos(e) {
    return ei(Pt(this).toTwos(e));
  }
  abs() {
    return this._hex[0] === "-" ? Wt.from(this._hex.substring(1)) : this;
  }
  add(e) {
    return ei(Pt(this).add(Pt(e)));
  }
  sub(e) {
    return ei(Pt(this).sub(Pt(e)));
  }
  div(e) {
    return (
      Wt.from(e).isZero() && Mi("division-by-zero", "div"),
      ei(Pt(this).div(Pt(e)))
    );
  }
  mul(e) {
    return ei(Pt(this).mul(Pt(e)));
  }
  mod(e) {
    const t = Pt(e);
    return t.isNeg() && Mi("division-by-zero", "mod"), ei(Pt(this).umod(t));
  }
  pow(e) {
    const t = Pt(e);
    return t.isNeg() && Mi("negative-power", "pow"), ei(Pt(this).pow(t));
  }
  and(e) {
    const t = Pt(e);
    return (
      (this.isNegative() || t.isNeg()) && Mi("unbound-bitwise-result", "and"),
      ei(Pt(this).and(t))
    );
  }
  or(e) {
    const t = Pt(e);
    return (
      (this.isNegative() || t.isNeg()) && Mi("unbound-bitwise-result", "or"),
      ei(Pt(this).or(t))
    );
  }
  xor(e) {
    const t = Pt(e);
    return (
      (this.isNegative() || t.isNeg()) && Mi("unbound-bitwise-result", "xor"),
      ei(Pt(this).xor(t))
    );
  }
  mask(e) {
    return (
      (this.isNegative() || e < 0) && Mi("negative-width", "mask"),
      ei(Pt(this).maskn(e))
    );
  }
  shl(e) {
    return (
      (this.isNegative() || e < 0) && Mi("negative-width", "shl"),
      ei(Pt(this).shln(e))
    );
  }
  shr(e) {
    return (
      (this.isNegative() || e < 0) && Mi("negative-width", "shr"),
      ei(Pt(this).shrn(e))
    );
  }
  eq(e) {
    return Pt(this).eq(Pt(e));
  }
  lt(e) {
    return Pt(this).lt(Pt(e));
  }
  lte(e) {
    return Pt(this).lte(Pt(e));
  }
  gt(e) {
    return Pt(this).gt(Pt(e));
  }
  gte(e) {
    return Pt(this).gte(Pt(e));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Pt(this).isZero();
  }
  toNumber() {
    try {
      return Pt(this).toNumber();
    } catch {
      Mi("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {}
    return jn.throwError(
      "this platform does not support BigInt",
      Sr.errors.UNSUPPORTED_OPERATION,
      { value: this.toString() },
    );
  }
  toString() {
    return (
      arguments.length > 0 &&
        (arguments[0] === 10
          ? V1 ||
            ((V1 = !0),
            jn.warn(
              "BigNumber.toString does not accept any parameters; base-10 is assumed",
            ))
          : arguments[0] === 16
            ? jn.throwError(
                "BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",
                Sr.errors.UNEXPECTED_ARGUMENT,
                {},
              )
            : jn.throwError(
                "BigNumber.toString does not accept parameters",
                Sr.errors.UNEXPECTED_ARGUMENT,
                {},
              )),
      Pt(this).toString(10)
    );
  }
  toHexString() {
    return this._hex;
  }
  toJSON(e) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(e) {
    if (e instanceof Wt) return e;
    if (typeof e == "string")
      return e.match(/^-?0x[0-9a-f]+$/i)
        ? new Wt(Gh, Mo(e))
        : e.match(/^-?[0-9]+$/)
          ? new Wt(Gh, Mo(new Au(e)))
          : jn.throwArgumentError("invalid BigNumber string", "value", e);
    if (typeof e == "number")
      return (
        e % 1 && Mi("underflow", "BigNumber.from", e),
        (e >= G7 || e <= -9007199254740991) &&
          Mi("overflow", "BigNumber.from", e),
        Wt.from(String(e))
      );
    const t = e;
    if (typeof t == "bigint") return Wt.from(t.toString());
    if (Sa(t)) return Wt.from(ii(t));
    if (t)
      if (t.toHexString) {
        const i = t.toHexString();
        if (typeof i == "string") return Wt.from(i);
      } else {
        let i = t._hex;
        if (
          (i == null && t.type === "BigNumber" && (i = t.hex),
          typeof i == "string" &&
            (di(i) || (i[0] === "-" && di(i.substring(1)))))
        )
          return Wt.from(i);
      }
    return jn.throwArgumentError("invalid BigNumber value", "value", e);
  }
  static isBigNumber(e) {
    return !!(e && e._isBigNumber);
  }
}
function Mo(r) {
  if (typeof r != "string") return Mo(r.toString(16));
  if (r[0] === "-")
    return (
      (r = r.substring(1)),
      r[0] === "-" && jn.throwArgumentError("invalid hex", "value", r),
      (r = Mo(r)),
      r === "0x00" ? r : "-" + r
    );
  if ((r.substring(0, 2) !== "0x" && (r = "0x" + r), r === "0x")) return "0x00";
  for (
    r.length % 2 && (r = "0x0" + r.substring(2));
    r.length > 4 && r.substring(0, 4) === "0x00";

  )
    r = "0x" + r.substring(4);
  return r;
}
function ei(r) {
  return Wt.from(Mo(r));
}
function Pt(r) {
  const e = Wt.from(r).toHexString();
  return e[0] === "-"
    ? new Au("-" + e.substring(3), 16)
    : new Au(e.substring(2), 16);
}
function Mi(r, e, t) {
  const i = { fault: r, operation: e };
  return (
    t != null && (i.value = t), jn.throwError(r, Sr.errors.NUMERIC_FAULT, i)
  );
}
function J7(r) {
  return new Au(r, 36).toString(16);
}
const jr = new Sr(pb),
  wo = {},
  gb = Wt.from(0),
  vb = Wt.from(-1);
function bb(r, e, t, i) {
  const s = { fault: e, operation: t };
  return (
    i !== void 0 && (s.value = i), jr.throwError(r, Sr.errors.NUMERIC_FAULT, s)
  );
}
let _o = "0";
for (; _o.length < 256; ) _o += _o;
function Jl(r) {
  if (typeof r != "number")
    try {
      r = Wt.from(r).toNumber();
    } catch {}
  return typeof r == "number" && r >= 0 && r <= 256 && !(r % 1)
    ? "1" + _o.substring(0, r)
    : jr.throwArgumentError("invalid decimal size", "decimals", r);
}
function Wh(r, e) {
  e == null && (e = 0);
  const t = Jl(e);
  r = Wt.from(r);
  const i = r.lt(gb);
  i && (r = r.mul(vb));
  let s = r.mod(t).toString();
  for (; s.length < t.length - 1; ) s = "0" + s;
  s = s.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const a = r.div(t).toString();
  return t.length === 1 ? (r = a) : (r = a + "." + s), i && (r = "-" + r), r;
}
function Ln(r, e) {
  e == null && (e = 0);
  const t = Jl(e);
  (typeof r != "string" || !r.match(/^-?[0-9.]+$/)) &&
    jr.throwArgumentError("invalid decimal value", "value", r);
  const i = r.substring(0, 1) === "-";
  i && (r = r.substring(1)),
    r === "." && jr.throwArgumentError("missing value", "value", r);
  const s = r.split(".");
  s.length > 2 && jr.throwArgumentError("too many decimal points", "value", r);
  let a = s[0],
    f = s[1];
  for (a || (a = "0"), f || (f = "0"); f[f.length - 1] === "0"; )
    f = f.substring(0, f.length - 1);
  for (
    f.length > t.length - 1 &&
      bb("fractional component exceeds decimals", "underflow", "parseFixed"),
      f === "" && (f = "0");
    f.length < t.length - 1;

  )
    f += "0";
  const h = Wt.from(a),
    d = Wt.from(f);
  let u = h.mul(t).add(d);
  return i && (u = u.mul(vb)), u;
}
let Jh = class Il {
    constructor(e, t, i, s) {
      e !== wo &&
        jr.throwError(
          "cannot use FixedFormat constructor; use FixedFormat.from",
          Sr.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" },
        ),
        (this.signed = t),
        (this.width = i),
        (this.decimals = s),
        (this.name = (t ? "" : "u") + "fixed" + String(i) + "x" + String(s)),
        (this._multiplier = Jl(s)),
        Object.freeze(this);
    }
    static from(e) {
      if (e instanceof Il) return e;
      typeof e == "number" && (e = `fixed128x${e}`);
      let t = !0,
        i = 128,
        s = 18;
      if (typeof e == "string") {
        if (e !== "fixed")
          if (e === "ufixed") t = !1;
          else {
            const a = e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
            a || jr.throwArgumentError("invalid fixed format", "format", e),
              (t = a[1] !== "u"),
              (i = parseInt(a[2])),
              (s = parseInt(a[3]));
          }
      } else if (e) {
        const a = (f, h, d) =>
          e[f] == null
            ? d
            : (typeof e[f] !== h &&
                jr.throwArgumentError(
                  "invalid fixed format (" + f + " not " + h + ")",
                  "format." + f,
                  e[f],
                ),
              e[f]);
        (t = a("signed", "boolean", t)),
          (i = a("width", "number", i)),
          (s = a("decimals", "number", s));
      }
      return (
        i % 8 &&
          jr.throwArgumentError(
            "invalid fixed format width (not byte aligned)",
            "format.width",
            i,
          ),
        s > 80 &&
          jr.throwArgumentError(
            "invalid fixed format (decimals too large)",
            "format.decimals",
            s,
          ),
        new Il(wo, t, i, s)
      );
    }
  },
  mb = class zr {
    constructor(e, t, i, s) {
      e !== wo &&
        jr.throwError(
          "cannot use FixedNumber constructor; use FixedNumber.from",
          Sr.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" },
        ),
        (this.format = s),
        (this._hex = t),
        (this._value = i),
        (this._isFixedNumber = !0),
        Object.freeze(this);
    }
    _checkFormat(e) {
      this.format.name !== e.format.name &&
        jr.throwArgumentError(
          "incompatible format; use fixedNumber.toFormat",
          "other",
          e,
        );
    }
    addUnsafe(e) {
      this._checkFormat(e);
      const t = Ln(this._value, this.format.decimals),
        i = Ln(e._value, e.format.decimals);
      return zr.fromValue(t.add(i), this.format.decimals, this.format);
    }
    subUnsafe(e) {
      this._checkFormat(e);
      const t = Ln(this._value, this.format.decimals),
        i = Ln(e._value, e.format.decimals);
      return zr.fromValue(t.sub(i), this.format.decimals, this.format);
    }
    mulUnsafe(e) {
      this._checkFormat(e);
      const t = Ln(this._value, this.format.decimals),
        i = Ln(e._value, e.format.decimals);
      return zr.fromValue(
        t.mul(i).div(this.format._multiplier),
        this.format.decimals,
        this.format,
      );
    }
    divUnsafe(e) {
      this._checkFormat(e);
      const t = Ln(this._value, this.format.decimals),
        i = Ln(e._value, e.format.decimals);
      return zr.fromValue(
        t.mul(this.format._multiplier).div(i),
        this.format.decimals,
        this.format,
      );
    }
    floor() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = zr.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        this.isNegative() && i && (t = t.subUnsafe(G1.toFormat(t.format))), t
      );
    }
    ceiling() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = zr.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        !this.isNegative() && i && (t = t.addUnsafe(G1.toFormat(t.format))), t
      );
    }
    round(e) {
      e == null && (e = 0);
      const t = this.toString().split(".");
      if (
        (t.length === 1 && t.push("0"),
        (e < 0 || e > 80 || e % 1) &&
          jr.throwArgumentError("invalid decimal count", "decimals", e),
        t[1].length <= e)
      )
        return this;
      const i = zr.from("1" + _o.substring(0, e), this.format),
        s = Y7.toFormat(this.format);
      return this.mulUnsafe(i).addUnsafe(s).floor().divUnsafe(i);
    }
    isZero() {
      return this._value === "0.0" || this._value === "0";
    }
    isNegative() {
      return this._value[0] === "-";
    }
    toString() {
      return this._value;
    }
    toHexString(e) {
      if (e == null) return this._hex;
      e % 8 && jr.throwArgumentError("invalid byte width", "width", e);
      const t = Wt.from(this._hex)
        .fromTwos(this.format.width)
        .toTwos(e)
        .toHexString();
      return yn(t, e / 8);
    }
    toUnsafeFloat() {
      return parseFloat(this.toString());
    }
    toFormat(e) {
      return zr.fromString(this._value, e);
    }
    static fromValue(e, t, i) {
      return (
        i == null && t != null && !W7(t) && ((i = t), (t = null)),
        t == null && (t = 0),
        i == null && (i = "fixed"),
        zr.fromString(Wh(e, t), Jh.from(i))
      );
    }
    static fromString(e, t) {
      t == null && (t = "fixed");
      const i = Jh.from(t),
        s = Ln(e, i.decimals);
      !i.signed &&
        s.lt(gb) &&
        bb("unsigned value cannot be negative", "overflow", "value", e);
      let a = null;
      i.signed
        ? (a = s.toTwos(i.width).toHexString())
        : ((a = s.toHexString()), (a = yn(a, i.width / 8)));
      const f = Wh(s, i.decimals);
      return new zr(wo, a, f, i);
    }
    static fromBytes(e, t) {
      t == null && (t = "fixed");
      const i = Jh.from(t);
      if (ir(e).length > i.width / 8) throw new Error("overflow");
      let s = Wt.from(e);
      i.signed && (s = s.fromTwos(i.width));
      const a = s.toTwos((i.signed ? 0 : 1) + i.width).toHexString(),
        f = Wh(s, i.decimals);
      return new zr(wo, a, f, i);
    }
    static from(e, t) {
      if (typeof e == "string") return zr.fromString(e, t);
      if (Sa(e)) return zr.fromBytes(e, t);
      try {
        return zr.fromValue(e, 0, t);
      } catch (i) {
        if (i.code !== Sr.errors.INVALID_ARGUMENT) throw i;
      }
      return jr.throwArgumentError("invalid FixedNumber value", "value", e);
    }
    static isFixedNumber(e) {
      return !!(e && e._isFixedNumber);
    }
  };
const G1 = mb.from(1),
  Y7 = mb.from("0.5"),
  Q7 = "strings/5.7.0",
  X7 = new Sr(Q7);
var Eu;
(function (r) {
  (r.current = ""),
    (r.NFC = "NFC"),
    (r.NFD = "NFD"),
    (r.NFKC = "NFKC"),
    (r.NFKD = "NFKD");
})(Eu || (Eu = {}));
var W1;
(function (r) {
  (r.UNEXPECTED_CONTINUE = "unexpected continuation byte"),
    (r.BAD_PREFIX = "bad codepoint prefix"),
    (r.OVERRUN = "string overrun"),
    (r.MISSING_CONTINUE = "missing continuation byte"),
    (r.OUT_OF_RANGE = "out of UTF-8 range"),
    (r.UTF16_SURROGATE = "UTF-16 surrogate"),
    (r.OVERLONG = "overlong representation");
})(W1 || (W1 = {}));
function Yh(r, e = Eu.current) {
  e != Eu.current && (X7.checkNormalize(), (r = r.normalize(e)));
  let t = [];
  for (let i = 0; i < r.length; i++) {
    const s = r.charCodeAt(i);
    if (s < 128) t.push(s);
    else if (s < 2048) t.push((s >> 6) | 192), t.push((s & 63) | 128);
    else if ((s & 64512) == 55296) {
      i++;
      const a = r.charCodeAt(i);
      if (i >= r.length || (a & 64512) !== 56320)
        throw new Error("invalid utf-8 string");
      const f = 65536 + ((s & 1023) << 10) + (a & 1023);
      t.push((f >> 18) | 240),
        t.push(((f >> 12) & 63) | 128),
        t.push(((f >> 6) & 63) | 128),
        t.push((f & 63) | 128);
    } else
      t.push((s >> 12) | 224),
        t.push(((s >> 6) & 63) | 128),
        t.push((s & 63) | 128);
  }
  return ir(t);
}
function Z7(r) {
  if (r.length % 4 !== 0) throw new Error("bad data");
  let e = [];
  for (let t = 0; t < r.length; t += 4)
    e.push(parseInt(r.substring(t, t + 4), 16));
  return e;
}
function Qh(r, e) {
  e ||
    (e = function (s) {
      return [parseInt(s, 16)];
    });
  let t = 0,
    i = {};
  return (
    r.split(",").forEach((s) => {
      let a = s.split(":");
      (t += parseInt(a[0], 16)), (i[t] = e(a[1]));
    }),
    i
  );
}
function J1(r) {
  let e = 0;
  return r.split(",").map((t) => {
    let i = t.split("-");
    i.length === 1 ? (i[1] = "0") : i[1] === "" && (i[1] = "1");
    let s = e + parseInt(i[0], 16);
    return (e = parseInt(i[1], 16)), { l: s, h: e };
  });
}
J1(
  "221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d",
),
  "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff"
    .split(",")
    .map((r) => parseInt(r, 16)),
  Qh(
    "b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3",
  ),
  Qh(
    "179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7",
  ),
  Qh(
    "df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",
    Z7,
  ),
  J1(
    "80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001",
  );
function e9(r) {
  r = atob(r);
  const e = [];
  for (let t = 0; t < r.length; t++) e.push(r.charCodeAt(t));
  return ir(e);
}
function yb(r, e) {
  e == null && (e = 1);
  const t = [],
    i = t.forEach,
    s = function (a, f) {
      i.call(a, function (h) {
        f > 0 && Array.isArray(h) ? s(h, f - 1) : t.push(h);
      });
    };
  return s(r, e), t;
}
function t9(r) {
  const e = {};
  for (let t = 0; t < r.length; t++) {
    const i = r[t];
    e[i[0]] = i[1];
  }
  return e;
}
function r9(r) {
  let e = 0;
  function t() {
    return (r[e++] << 8) | r[e++];
  }
  let i = t(),
    s = 1,
    a = [0, 1];
  for (let z = 1; z < i; z++) a.push((s += t()));
  let f = t(),
    h = e;
  e += f;
  let d = 0,
    u = 0;
  function b() {
    return d == 0 && ((u = (u << 8) | r[e++]), (d = 8)), (u >> --d) & 1;
  }
  const _ = 31,
    I = Math.pow(2, _),
    M = I >>> 1,
    C = M >> 1,
    R = I - 1;
  let L = 0;
  for (let z = 0; z < _; z++) L = (L << 1) | b();
  let V = [],
    F = 0,
    K = I;
  for (;;) {
    let z = Math.floor(((L - F + 1) * s - 1) / K),
      q = 0,
      E = i;
    for (; E - q > 1; ) {
      let oe = (q + E) >>> 1;
      z < a[oe] ? (E = oe) : (q = oe);
    }
    if (q == 0) break;
    V.push(q);
    let U = F + Math.floor((K * a[q]) / s),
      te = F + Math.floor((K * a[q + 1]) / s) - 1;
    for (; !((U ^ te) & M); )
      (L = ((L << 1) & R) | b()),
        (U = (U << 1) & R),
        (te = ((te << 1) & R) | 1);
    for (; U & ~te & C; )
      (L = (L & M) | ((L << 1) & (R >>> 1)) | b()),
        (U = (U << 1) ^ M),
        (te = ((te ^ M) << 1) | M | 1);
    (F = U), (K = 1 + te - U);
  }
  let B = i - 4;
  return V.map((z) => {
    switch (z - B) {
      case 3:
        return B + 65792 + ((r[h++] << 16) | (r[h++] << 8) | r[h++]);
      case 2:
        return B + 256 + ((r[h++] << 8) | r[h++]);
      case 1:
        return B + r[h++];
      default:
        return z - 1;
    }
  });
}
function i9(r) {
  let e = 0;
  return () => r[e++];
}
function n9(r) {
  return i9(r9(r));
}
function s9(r) {
  return r & 1 ? ~r >> 1 : r >> 1;
}
function a9(r, e) {
  let t = Array(r);
  for (let i = 0; i < r; i++) t[i] = 1 + e();
  return t;
}
function Y1(r, e) {
  let t = Array(r);
  for (let i = 0, s = -1; i < r; i++) t[i] = s += 1 + e();
  return t;
}
function o9(r, e) {
  let t = Array(r);
  for (let i = 0, s = 0; i < r; i++) t[i] = s += s9(e());
  return t;
}
function xu(r, e) {
  let t = Y1(r(), r),
    i = r(),
    s = Y1(i, r),
    a = a9(i, r);
  for (let f = 0; f < i; f++) for (let h = 0; h < a[f]; h++) t.push(s[f] + h);
  return e ? t.map((f) => e[f]) : t;
}
function c9(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(f9(t, r));
  }
  for (;;) {
    let t = r() - 1;
    if (t < 0) break;
    e.push(h9(t, r));
  }
  return t9(yb(e));
}
function u9(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(t);
  }
  return e;
}
function wb(r, e, t) {
  let i = Array(r)
    .fill(void 0)
    .map(() => []);
  for (let s = 0; s < e; s++) o9(r, t).forEach((a, f) => i[f].push(a));
  return i;
}
function f9(r, e) {
  let t = 1 + e(),
    i = e(),
    s = u9(e),
    a = wb(s.length, 1 + r, e);
  return yb(
    a.map((f, h) => {
      const d = f[0],
        u = f.slice(1);
      return Array(s[h])
        .fill(void 0)
        .map((b, _) => {
          let I = _ * i;
          return [d + _ * t, u.map((M) => M + I)];
        });
    }),
  );
}
function h9(r, e) {
  let t = 1 + e();
  return wb(t, 1 + r, e).map((i) => [i[0], i.slice(1)]);
}
function l9(r) {
  let e = xu(r).sort((i, s) => i - s);
  return t();
  function t() {
    let i = [];
    for (;;) {
      let u = xu(r, e);
      if (u.length == 0) break;
      i.push({ set: new Set(u), node: t() });
    }
    i.sort((u, b) => b.set.size - u.set.size);
    let s = r(),
      a = s % 3;
    s = (s / 3) | 0;
    let f = !!(s & 1);
    s >>= 1;
    let h = s == 1,
      d = s == 2;
    return { branches: i, valid: a, fe0f: f, save: h, check: d };
  }
}
function d9() {
  return n9(
    e9(
      "AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==",
    ),
  );
}
const Yc = d9();
new Set(xu(Yc)), new Set(xu(Yc)), c9(Yc), l9(Yc);
const p9 = new Uint8Array(32);
p9.fill(0);
const g9 = `Ethereum Signed Message:
`;
function _b(r) {
  return (
    typeof r == "string" && (r = Yh(r)),
    Wl(k7([Yh(g9), Yh(String(r.length)), r]))
  );
}
const v9 = "address/5.7.0",
  go = new Sr(v9);
function Q1(r) {
  di(r, 20) || go.throwArgumentError("invalid address", "address", r),
    (r = r.toLowerCase());
  const e = r.substring(2).split(""),
    t = new Uint8Array(40);
  for (let s = 0; s < 40; s++) t[s] = e[s].charCodeAt(0);
  const i = ir(Wl(t));
  for (let s = 0; s < 40; s += 2)
    i[s >> 1] >> 4 >= 8 && (e[s] = e[s].toUpperCase()),
      (i[s >> 1] & 15) >= 8 && (e[s + 1] = e[s + 1].toUpperCase());
  return "0x" + e.join("");
}
const b9 = 9007199254740991;
function m9(r) {
  return Math.log10 ? Math.log10(r) : Math.log(r) / Math.LN10;
}
const Yl = {};
for (let r = 0; r < 10; r++) Yl[String(r)] = String(r);
for (let r = 0; r < 26; r++) Yl[String.fromCharCode(65 + r)] = String(10 + r);
const X1 = Math.floor(m9(b9));
function y9(r) {
  (r = r.toUpperCase()), (r = r.substring(4) + r.substring(0, 2) + "00");
  let e = r
    .split("")
    .map((i) => Yl[i])
    .join("");
  for (; e.length >= X1; ) {
    let i = e.substring(0, X1);
    e = (parseInt(i, 10) % 97) + e.substring(i.length);
  }
  let t = String(98 - (parseInt(e, 10) % 97));
  for (; t.length < 2; ) t = "0" + t;
  return t;
}
function w9(r) {
  let e = null;
  if (
    (typeof r != "string" &&
      go.throwArgumentError("invalid address", "address", r),
    r.match(/^(0x)?[0-9a-fA-F]{40}$/))
  )
    r.substring(0, 2) !== "0x" && (r = "0x" + r),
      (e = Q1(r)),
      r.match(/([A-F].*[a-f])|([a-f].*[A-F])/) &&
        e !== r &&
        go.throwArgumentError("bad address checksum", "address", r);
  else if (r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {
    for (
      r.substring(2, 4) !== y9(r) &&
        go.throwArgumentError("bad icap checksum", "address", r),
        e = J7(r.substring(4));
      e.length < 40;

    )
      e = "0" + e;
    e = Q1("0x" + e);
  } else go.throwArgumentError("invalid address", "address", r);
  return e;
}
function no(r, e, t) {
  Object.defineProperty(r, e, { enumerable: !0, value: t, writable: !1 });
}
const _9 = new Uint8Array(32);
_9.fill(0), Wt.from(-1);
const A9 = Wt.from(0),
  E9 = Wt.from(1);
Wt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),
  yn(E9.toHexString(), 32),
  yn(A9.toHexString(), 32);
var ln = {},
  Ct = {},
  Bo = Ab;
function Ab(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
Ab.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var Dl = { exports: {} };
typeof Object.create == "function"
  ? (Dl.exports = function (r, e) {
      e &&
        ((r.super_ = e),
        (r.prototype = Object.create(e.prototype, {
          constructor: {
            value: r,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })));
    })
  : (Dl.exports = function (r, e) {
      if (e) {
        r.super_ = e;
        var t = function () {};
        (t.prototype = e.prototype),
          (r.prototype = new t()),
          (r.prototype.constructor = r);
      }
    });
var x9 = Bo,
  S9 = Dl.exports;
Ct.inherits = S9;
function M9(r, e) {
  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length
    ? !1
    : (r.charCodeAt(e + 1) & 64512) === 56320;
}
function I9(r, e) {
  if (Array.isArray(r)) return r.slice();
  if (!r) return [];
  var t = [];
  if (typeof r == "string")
    if (e) {
      if (e === "hex")
        for (
          r = r.replace(/[^a-z0-9]+/gi, ""),
            r.length % 2 !== 0 && (r = "0" + r),
            s = 0;
          s < r.length;
          s += 2
        )
          t.push(parseInt(r[s] + r[s + 1], 16));
    } else
      for (var i = 0, s = 0; s < r.length; s++) {
        var a = r.charCodeAt(s);
        a < 128
          ? (t[i++] = a)
          : a < 2048
            ? ((t[i++] = (a >> 6) | 192), (t[i++] = (a & 63) | 128))
            : M9(r, s)
              ? ((a = 65536 + ((a & 1023) << 10) + (r.charCodeAt(++s) & 1023)),
                (t[i++] = (a >> 18) | 240),
                (t[i++] = ((a >> 12) & 63) | 128),
                (t[i++] = ((a >> 6) & 63) | 128),
                (t[i++] = (a & 63) | 128))
              : ((t[i++] = (a >> 12) | 224),
                (t[i++] = ((a >> 6) & 63) | 128),
                (t[i++] = (a & 63) | 128));
      }
  else for (s = 0; s < r.length; s++) t[s] = r[s] | 0;
  return t;
}
Ct.toArray = I9;
function D9(r) {
  for (var e = "", t = 0; t < r.length; t++) e += xb(r[t].toString(16));
  return e;
}
Ct.toHex = D9;
function Eb(r) {
  var e =
    (r >>> 24) |
    ((r >>> 8) & 65280) |
    ((r << 8) & 16711680) |
    ((r & 255) << 24);
  return e >>> 0;
}
Ct.htonl = Eb;
function P9(r, e) {
  for (var t = "", i = 0; i < r.length; i++) {
    var s = r[i];
    e === "little" && (s = Eb(s)), (t += Sb(s.toString(16)));
  }
  return t;
}
Ct.toHex32 = P9;
function xb(r) {
  return r.length === 1 ? "0" + r : r;
}
Ct.zero2 = xb;
function Sb(r) {
  return r.length === 7
    ? "0" + r
    : r.length === 6
      ? "00" + r
      : r.length === 5
        ? "000" + r
        : r.length === 4
          ? "0000" + r
          : r.length === 3
            ? "00000" + r
            : r.length === 2
              ? "000000" + r
              : r.length === 1
                ? "0000000" + r
                : r;
}
Ct.zero8 = Sb;
function C9(r, e, t, i) {
  var s = t - e;
  x9(s % 4 === 0);
  for (var a = new Array(s / 4), f = 0, h = e; f < a.length; f++, h += 4) {
    var d;
    i === "big"
      ? (d = (r[h] << 24) | (r[h + 1] << 16) | (r[h + 2] << 8) | r[h + 3])
      : (d = (r[h + 3] << 24) | (r[h + 2] << 16) | (r[h + 1] << 8) | r[h]),
      (a[f] = d >>> 0);
  }
  return a;
}
Ct.join32 = C9;
function O9(r, e) {
  for (
    var t = new Array(r.length * 4), i = 0, s = 0;
    i < r.length;
    i++, s += 4
  ) {
    var a = r[i];
    e === "big"
      ? ((t[s] = a >>> 24),
        (t[s + 1] = (a >>> 16) & 255),
        (t[s + 2] = (a >>> 8) & 255),
        (t[s + 3] = a & 255))
      : ((t[s + 3] = a >>> 24),
        (t[s + 2] = (a >>> 16) & 255),
        (t[s + 1] = (a >>> 8) & 255),
        (t[s] = a & 255));
  }
  return t;
}
Ct.split32 = O9;
function R9(r, e) {
  return (r >>> e) | (r << (32 - e));
}
Ct.rotr32 = R9;
function N9(r, e) {
  return (r << e) | (r >>> (32 - e));
}
Ct.rotl32 = N9;
function T9(r, e) {
  return (r + e) >>> 0;
}
Ct.sum32 = T9;
function q9(r, e, t) {
  return (r + e + t) >>> 0;
}
Ct.sum32_3 = q9;
function F9(r, e, t, i) {
  return (r + e + t + i) >>> 0;
}
Ct.sum32_4 = F9;
function B9(r, e, t, i, s) {
  return (r + e + t + i + s) >>> 0;
}
Ct.sum32_5 = B9;
function L9(r, e, t, i) {
  var s = r[e],
    a = r[e + 1],
    f = (i + a) >>> 0,
    h = (f < i ? 1 : 0) + t + s;
  (r[e] = h >>> 0), (r[e + 1] = f);
}
Ct.sum64 = L9;
function U9(r, e, t, i) {
  var s = (e + i) >>> 0,
    a = (s < e ? 1 : 0) + r + t;
  return a >>> 0;
}
Ct.sum64_hi = U9;
function z9(r, e, t, i) {
  var s = e + i;
  return s >>> 0;
}
Ct.sum64_lo = z9;
function k9(r, e, t, i, s, a, f, h) {
  var d = 0,
    u = e;
  (u = (u + i) >>> 0),
    (d += u < e ? 1 : 0),
    (u = (u + a) >>> 0),
    (d += u < a ? 1 : 0),
    (u = (u + h) >>> 0),
    (d += u < h ? 1 : 0);
  var b = r + t + s + f + d;
  return b >>> 0;
}
Ct.sum64_4_hi = k9;
function j9(r, e, t, i, s, a, f, h) {
  var d = e + i + a + h;
  return d >>> 0;
}
Ct.sum64_4_lo = j9;
function $9(r, e, t, i, s, a, f, h, d, u) {
  var b = 0,
    _ = e;
  (_ = (_ + i) >>> 0),
    (b += _ < e ? 1 : 0),
    (_ = (_ + a) >>> 0),
    (b += _ < a ? 1 : 0),
    (_ = (_ + h) >>> 0),
    (b += _ < h ? 1 : 0),
    (_ = (_ + u) >>> 0),
    (b += _ < u ? 1 : 0);
  var I = r + t + s + f + d + b;
  return I >>> 0;
}
Ct.sum64_5_hi = $9;
function H9(r, e, t, i, s, a, f, h, d, u) {
  var b = e + i + a + h + u;
  return b >>> 0;
}
Ct.sum64_5_lo = H9;
function K9(r, e, t) {
  var i = (e << (32 - t)) | (r >>> t);
  return i >>> 0;
}
Ct.rotr64_hi = K9;
function V9(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Ct.rotr64_lo = V9;
function G9(r, e, t) {
  return r >>> t;
}
Ct.shr64_hi = G9;
function W9(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Ct.shr64_lo = W9;
var Ma = {},
  Z1 = Ct,
  J9 = Bo;
function Qc() {
  (this.pending = null),
    (this.pendingTotal = 0),
    (this.blockSize = this.constructor.blockSize),
    (this.outSize = this.constructor.outSize),
    (this.hmacStrength = this.constructor.hmacStrength),
    (this.padLength = this.constructor.padLength / 8),
    (this.endian = "big"),
    (this._delta8 = this.blockSize / 8),
    (this._delta32 = this.blockSize / 32);
}
(Ma.BlockHash = Qc),
  (Qc.prototype.update = function (r, e) {
    if (
      ((r = Z1.toArray(r, e)),
      this.pending
        ? (this.pending = this.pending.concat(r))
        : (this.pending = r),
      (this.pendingTotal += r.length),
      this.pending.length >= this._delta8)
    ) {
      r = this.pending;
      var t = r.length % this._delta8;
      (this.pending = r.slice(r.length - t, r.length)),
        this.pending.length === 0 && (this.pending = null),
        (r = Z1.join32(r, 0, r.length - t, this.endian));
      for (var i = 0; i < r.length; i += this._delta32)
        this._update(r, i, i + this._delta32);
    }
    return this;
  }),
  (Qc.prototype.digest = function (r) {
    return this.update(this._pad()), J9(this.pending === null), this._digest(r);
  }),
  (Qc.prototype._pad = function () {
    var r = this.pendingTotal,
      e = this._delta8,
      t = e - ((r + this.padLength) % e),
      i = new Array(t + this.padLength);
    i[0] = 128;
    for (var s = 1; s < t; s++) i[s] = 0;
    if (((r <<= 3), this.endian === "big")) {
      for (var a = 8; a < this.padLength; a++) i[s++] = 0;
      (i[s++] = 0),
        (i[s++] = 0),
        (i[s++] = 0),
        (i[s++] = 0),
        (i[s++] = (r >>> 24) & 255),
        (i[s++] = (r >>> 16) & 255),
        (i[s++] = (r >>> 8) & 255),
        (i[s++] = r & 255);
    } else
      for (
        i[s++] = r & 255,
          i[s++] = (r >>> 8) & 255,
          i[s++] = (r >>> 16) & 255,
          i[s++] = (r >>> 24) & 255,
          i[s++] = 0,
          i[s++] = 0,
          i[s++] = 0,
          i[s++] = 0,
          a = 8;
        a < this.padLength;
        a++
      )
        i[s++] = 0;
    return i;
  });
var pa = {},
  Mn = {},
  Y9 = Ct,
  wn = Y9.rotr32;
function Q9(r, e, t, i) {
  if (r === 0) return Mb(e, t, i);
  if (r === 1 || r === 3) return Db(e, t, i);
  if (r === 2) return Ib(e, t, i);
}
Mn.ft_1 = Q9;
function Mb(r, e, t) {
  return (r & e) ^ (~r & t);
}
Mn.ch32 = Mb;
function Ib(r, e, t) {
  return (r & e) ^ (r & t) ^ (e & t);
}
Mn.maj32 = Ib;
function Db(r, e, t) {
  return r ^ e ^ t;
}
Mn.p32 = Db;
function X9(r) {
  return wn(r, 2) ^ wn(r, 13) ^ wn(r, 22);
}
Mn.s0_256 = X9;
function Z9(r) {
  return wn(r, 6) ^ wn(r, 11) ^ wn(r, 25);
}
Mn.s1_256 = Z9;
function eA(r) {
  return wn(r, 7) ^ wn(r, 18) ^ (r >>> 3);
}
Mn.g0_256 = eA;
function tA(r) {
  return wn(r, 17) ^ wn(r, 19) ^ (r >>> 10);
}
Mn.g1_256 = tA;
var Aa = Ct,
  rA = Ma,
  iA = Mn,
  Xh = Aa.rotl32,
  so = Aa.sum32,
  nA = Aa.sum32_5,
  sA = iA.ft_1,
  Pb = rA.BlockHash,
  aA = [1518500249, 1859775393, 2400959708, 3395469782];
function bn() {
  if (!(this instanceof bn)) return new bn();
  Pb.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.W = new Array(80));
}
Aa.inherits(bn, Pb);
var oA = bn;
(bn.blockSize = 512),
  (bn.outSize = 160),
  (bn.hmacStrength = 80),
  (bn.padLength = 64),
  (bn.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = Xh(t[i - 3] ^ t[i - 8] ^ t[i - 14] ^ t[i - 16], 1);
    var s = this.h[0],
      a = this.h[1],
      f = this.h[2],
      h = this.h[3],
      d = this.h[4];
    for (i = 0; i < t.length; i++) {
      var u = ~~(i / 20),
        b = nA(Xh(s, 5), sA(u, a, f, h), d, t[i], aA[u]);
      (d = h), (h = f), (f = Xh(a, 30)), (a = s), (s = b);
    }
    (this.h[0] = so(this.h[0], s)),
      (this.h[1] = so(this.h[1], a)),
      (this.h[2] = so(this.h[2], f)),
      (this.h[3] = so(this.h[3], h)),
      (this.h[4] = so(this.h[4], d));
  }),
  (bn.prototype._digest = function (r) {
    return r === "hex" ? Aa.toHex32(this.h, "big") : Aa.split32(this.h, "big");
  });
var Ea = Ct,
  cA = Ma,
  Ia = Mn,
  uA = Bo,
  Ki = Ea.sum32,
  fA = Ea.sum32_4,
  hA = Ea.sum32_5,
  lA = Ia.ch32,
  dA = Ia.maj32,
  pA = Ia.s0_256,
  gA = Ia.s1_256,
  vA = Ia.g0_256,
  bA = Ia.g1_256,
  Cb = cA.BlockHash,
  mA = [
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ];
function mn() {
  if (!(this instanceof mn)) return new mn();
  Cb.call(this),
    (this.h = [
      1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
      528734635, 1541459225,
    ]),
    (this.k = mA),
    (this.W = new Array(64));
}
Ea.inherits(mn, Cb);
var Ob = mn;
(mn.blockSize = 512),
  (mn.outSize = 256),
  (mn.hmacStrength = 192),
  (mn.padLength = 64),
  (mn.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = fA(bA(t[i - 2]), t[i - 7], vA(t[i - 15]), t[i - 16]);
    var s = this.h[0],
      a = this.h[1],
      f = this.h[2],
      h = this.h[3],
      d = this.h[4],
      u = this.h[5],
      b = this.h[6],
      _ = this.h[7];
    for (uA(this.k.length === t.length), i = 0; i < t.length; i++) {
      var I = hA(_, gA(d), lA(d, u, b), this.k[i], t[i]),
        M = Ki(pA(s), dA(s, a, f));
      (_ = b),
        (b = u),
        (u = d),
        (d = Ki(h, I)),
        (h = f),
        (f = a),
        (a = s),
        (s = Ki(I, M));
    }
    (this.h[0] = Ki(this.h[0], s)),
      (this.h[1] = Ki(this.h[1], a)),
      (this.h[2] = Ki(this.h[2], f)),
      (this.h[3] = Ki(this.h[3], h)),
      (this.h[4] = Ki(this.h[4], d)),
      (this.h[5] = Ki(this.h[5], u)),
      (this.h[6] = Ki(this.h[6], b)),
      (this.h[7] = Ki(this.h[7], _));
  }),
  (mn.prototype._digest = function (r) {
    return r === "hex" ? Ea.toHex32(this.h, "big") : Ea.split32(this.h, "big");
  });
var Pl = Ct,
  Rb = Ob;
function Hn() {
  if (!(this instanceof Hn)) return new Hn();
  Rb.call(this),
    (this.h = [
      3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
      1694076839, 3204075428,
    ]);
}
Pl.inherits(Hn, Rb);
var yA = Hn;
(Hn.blockSize = 512),
  (Hn.outSize = 224),
  (Hn.hmacStrength = 192),
  (Hn.padLength = 64),
  (Hn.prototype._digest = function (r) {
    return r === "hex"
      ? Pl.toHex32(this.h.slice(0, 7), "big")
      : Pl.split32(this.h.slice(0, 7), "big");
  });
var ni = Ct,
  wA = Ma,
  _A = Bo,
  _n = ni.rotr64_hi,
  An = ni.rotr64_lo,
  Nb = ni.shr64_hi,
  Tb = ni.shr64_lo,
  ss = ni.sum64,
  Zh = ni.sum64_hi,
  el = ni.sum64_lo,
  AA = ni.sum64_4_hi,
  EA = ni.sum64_4_lo,
  xA = ni.sum64_5_hi,
  SA = ni.sum64_5_lo,
  qb = wA.BlockHash,
  MA = [
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ];
function Yi() {
  if (!(this instanceof Yi)) return new Yi();
  qb.call(this),
    (this.h = [
      1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
      2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
      528734635, 4215389547, 1541459225, 327033209,
    ]),
    (this.k = MA),
    (this.W = new Array(160));
}
ni.inherits(Yi, qb);
var Fb = Yi;
(Yi.blockSize = 1024),
  (Yi.outSize = 512),
  (Yi.hmacStrength = 192),
  (Yi.padLength = 128),
  (Yi.prototype._prepareBlock = function (r, e) {
    for (var t = this.W, i = 0; i < 32; i++) t[i] = r[e + i];
    for (; i < t.length; i += 2) {
      var s = BA(t[i - 4], t[i - 3]),
        a = LA(t[i - 4], t[i - 3]),
        f = t[i - 14],
        h = t[i - 13],
        d = qA(t[i - 30], t[i - 29]),
        u = FA(t[i - 30], t[i - 29]),
        b = t[i - 32],
        _ = t[i - 31];
      (t[i] = AA(s, a, f, h, d, u, b, _)),
        (t[i + 1] = EA(s, a, f, h, d, u, b, _));
    }
  }),
  (Yi.prototype._update = function (r, e) {
    this._prepareBlock(r, e);
    var t = this.W,
      i = this.h[0],
      s = this.h[1],
      a = this.h[2],
      f = this.h[3],
      h = this.h[4],
      d = this.h[5],
      u = this.h[6],
      b = this.h[7],
      _ = this.h[8],
      I = this.h[9],
      M = this.h[10],
      C = this.h[11],
      R = this.h[12],
      L = this.h[13],
      V = this.h[14],
      F = this.h[15];
    _A(this.k.length === t.length);
    for (var K = 0; K < t.length; K += 2) {
      var B = V,
        z = F,
        q = NA(_, I),
        E = TA(_, I),
        U = IA(_, I, M, C, R),
        te = DA(_, I, M, C, R, L),
        oe = this.k[K],
        k = this.k[K + 1],
        y = t[K],
        c = t[K + 1],
        l = xA(B, z, q, E, U, te, oe, k, y, c),
        p = SA(B, z, q, E, U, te, oe, k, y, c);
      (B = OA(i, s)),
        (z = RA(i, s)),
        (q = PA(i, s, a, f, h)),
        (E = CA(i, s, a, f, h, d));
      var w = Zh(B, z, q, E),
        A = el(B, z, q, E);
      (V = R),
        (F = L),
        (R = M),
        (L = C),
        (M = _),
        (C = I),
        (_ = Zh(u, b, l, p)),
        (I = el(b, b, l, p)),
        (u = h),
        (b = d),
        (h = a),
        (d = f),
        (a = i),
        (f = s),
        (i = Zh(l, p, w, A)),
        (s = el(l, p, w, A));
    }
    ss(this.h, 0, i, s),
      ss(this.h, 2, a, f),
      ss(this.h, 4, h, d),
      ss(this.h, 6, u, b),
      ss(this.h, 8, _, I),
      ss(this.h, 10, M, C),
      ss(this.h, 12, R, L),
      ss(this.h, 14, V, F);
  }),
  (Yi.prototype._digest = function (r) {
    return r === "hex" ? ni.toHex32(this.h, "big") : ni.split32(this.h, "big");
  });
function IA(r, e, t, i, s) {
  var a = (r & t) ^ (~r & s);
  return a < 0 && (a += 4294967296), a;
}
function DA(r, e, t, i, s, a) {
  var f = (e & i) ^ (~e & a);
  return f < 0 && (f += 4294967296), f;
}
function PA(r, e, t, i, s) {
  var a = (r & t) ^ (r & s) ^ (t & s);
  return a < 0 && (a += 4294967296), a;
}
function CA(r, e, t, i, s, a) {
  var f = (e & i) ^ (e & a) ^ (i & a);
  return f < 0 && (f += 4294967296), f;
}
function OA(r, e) {
  var t = _n(r, e, 28),
    i = _n(e, r, 2),
    s = _n(e, r, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function RA(r, e) {
  var t = An(r, e, 28),
    i = An(e, r, 2),
    s = An(e, r, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function NA(r, e) {
  var t = _n(r, e, 14),
    i = _n(r, e, 18),
    s = _n(e, r, 9),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function TA(r, e) {
  var t = An(r, e, 14),
    i = An(r, e, 18),
    s = An(e, r, 9),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function qA(r, e) {
  var t = _n(r, e, 1),
    i = _n(r, e, 8),
    s = Nb(r, e, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function FA(r, e) {
  var t = An(r, e, 1),
    i = An(r, e, 8),
    s = Tb(r, e, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function BA(r, e) {
  var t = _n(r, e, 19),
    i = _n(e, r, 29),
    s = Nb(r, e, 6),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function LA(r, e) {
  var t = An(r, e, 19),
    i = An(e, r, 29),
    s = Tb(r, e, 6),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
var Cl = Ct,
  Bb = Fb;
function Kn() {
  if (!(this instanceof Kn)) return new Kn();
  Bb.call(this),
    (this.h = [
      3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
      355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
      3675008525, 1694076839, 1203062813, 3204075428,
    ]);
}
Cl.inherits(Kn, Bb);
var UA = Kn;
(Kn.blockSize = 1024),
  (Kn.outSize = 384),
  (Kn.hmacStrength = 192),
  (Kn.padLength = 128),
  (Kn.prototype._digest = function (r) {
    return r === "hex"
      ? Cl.toHex32(this.h.slice(0, 12), "big")
      : Cl.split32(this.h.slice(0, 12), "big");
  }),
  (pa.sha1 = oA),
  (pa.sha224 = yA),
  (pa.sha256 = Ob),
  (pa.sha384 = UA),
  (pa.sha512 = Fb);
var Lb = {},
  Bs = Ct,
  zA = Ma,
  Xc = Bs.rotl32,
  eg = Bs.sum32,
  ao = Bs.sum32_3,
  tg = Bs.sum32_4,
  Ub = zA.BlockHash;
function dn() {
  if (!(this instanceof dn)) return new dn();
  Ub.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.endian = "little");
}
Bs.inherits(dn, Ub),
  (Lb.ripemd160 = dn),
  (dn.blockSize = 512),
  (dn.outSize = 160),
  (dn.hmacStrength = 192),
  (dn.padLength = 64),
  (dn.prototype._update = function (r, e) {
    for (
      var t = this.h[0],
        i = this.h[1],
        s = this.h[2],
        a = this.h[3],
        f = this.h[4],
        h = t,
        d = i,
        u = s,
        b = a,
        _ = f,
        I = 0;
      I < 80;
      I++
    ) {
      var M = eg(Xc(tg(t, rg(I, i, s, a), r[$A[I] + e], kA(I)), KA[I]), f);
      (t = f),
        (f = a),
        (a = Xc(s, 10)),
        (s = i),
        (i = M),
        (M = eg(Xc(tg(h, rg(79 - I, d, u, b), r[HA[I] + e], jA(I)), VA[I]), _)),
        (h = _),
        (_ = b),
        (b = Xc(u, 10)),
        (u = d),
        (d = M);
    }
    (M = ao(this.h[1], s, b)),
      (this.h[1] = ao(this.h[2], a, _)),
      (this.h[2] = ao(this.h[3], f, h)),
      (this.h[3] = ao(this.h[4], t, d)),
      (this.h[4] = ao(this.h[0], i, u)),
      (this.h[0] = M);
  }),
  (dn.prototype._digest = function (r) {
    return r === "hex"
      ? Bs.toHex32(this.h, "little")
      : Bs.split32(this.h, "little");
  });
function rg(r, e, t, i) {
  return r <= 15
    ? e ^ t ^ i
    : r <= 31
      ? (e & t) | (~e & i)
      : r <= 47
        ? (e | ~t) ^ i
        : r <= 63
          ? (e & i) | (t & ~i)
          : e ^ (t | ~i);
}
function kA(r) {
  return r <= 15
    ? 0
    : r <= 31
      ? 1518500249
      : r <= 47
        ? 1859775393
        : r <= 63
          ? 2400959708
          : 2840853838;
}
function jA(r) {
  return r <= 15
    ? 1352829926
    : r <= 31
      ? 1548603684
      : r <= 47
        ? 1836072691
        : r <= 63
          ? 2053994217
          : 0;
}
var $A = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
    15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13,
    11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9,
    7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
  ],
  HA = [
    5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5,
    10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10,
    0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10,
    4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
  ],
  KA = [
    11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9,
    7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13,
    6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9,
    15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
  ],
  VA = [
    8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8,
    9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14,
    13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5,
    12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
  ],
  GA = Ct,
  WA = Bo;
function wa(r, e, t) {
  if (!(this instanceof wa)) return new wa(r, e, t);
  (this.Hash = r),
    (this.blockSize = r.blockSize / 8),
    (this.outSize = r.outSize / 8),
    (this.inner = null),
    (this.outer = null),
    this._init(GA.toArray(e, t));
}
var JA = wa;
(wa.prototype._init = function (r) {
  r.length > this.blockSize && (r = new this.Hash().update(r).digest()),
    WA(r.length <= this.blockSize);
  for (var e = r.length; e < this.blockSize; e++) r.push(0);
  for (e = 0; e < r.length; e++) r[e] ^= 54;
  for (this.inner = new this.Hash().update(r), e = 0; e < r.length; e++)
    r[e] ^= 106;
  this.outer = new this.Hash().update(r);
}),
  (wa.prototype.update = function (r, e) {
    return this.inner.update(r, e), this;
  }),
  (wa.prototype.digest = function (r) {
    return this.outer.update(this.inner.digest()), this.outer.digest(r);
  }),
  (function (r) {
    var e = r;
    (e.utils = Ct),
      (e.common = Ma),
      (e.sha = pa),
      (e.ripemd = Lb),
      (e.hmac = JA),
      (e.sha1 = e.sha.sha1),
      (e.sha256 = e.sha.sha256),
      (e.sha224 = e.sha.sha224),
      (e.sha384 = e.sha.sha384),
      (e.sha512 = e.sha.sha512),
      (e.ripemd160 = e.ripemd.ripemd160);
  })(ln);
function Da(r, e, t) {
  return (
    (t = {
      path: e,
      exports: {},
      require: function (i, s) {
        return YA(i, s ?? t.path);
      },
    }),
    r(t, t.exports),
    t.exports
  );
}
function YA() {
  throw new Error(
    "Dynamic requires are not currently supported by @rollup/plugin-commonjs",
  );
}
var Ql = zb;
function zb(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
zb.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var Qi = Da(function (r, e) {
    var t = e;
    function i(f, h) {
      if (Array.isArray(f)) return f.slice();
      if (!f) return [];
      var d = [];
      if (typeof f != "string") {
        for (var u = 0; u < f.length; u++) d[u] = f[u] | 0;
        return d;
      }
      if (h === "hex") {
        (f = f.replace(/[^a-z0-9]+/gi, "")),
          f.length % 2 !== 0 && (f = "0" + f);
        for (var u = 0; u < f.length; u += 2)
          d.push(parseInt(f[u] + f[u + 1], 16));
      } else
        for (var u = 0; u < f.length; u++) {
          var b = f.charCodeAt(u),
            _ = b >> 8,
            I = b & 255;
          _ ? d.push(_, I) : d.push(I);
        }
      return d;
    }
    t.toArray = i;
    function s(f) {
      return f.length === 1 ? "0" + f : f;
    }
    t.zero2 = s;
    function a(f) {
      for (var h = "", d = 0; d < f.length; d++) h += s(f[d].toString(16));
      return h;
    }
    (t.toHex = a),
      (t.encode = function (f, h) {
        return h === "hex" ? a(f) : f;
      });
  }),
  pi = Da(function (r, e) {
    var t = e;
    (t.assert = Ql),
      (t.toArray = Qi.toArray),
      (t.zero2 = Qi.zero2),
      (t.toHex = Qi.toHex),
      (t.encode = Qi.encode);
    function i(d, u, b) {
      var _ = new Array(Math.max(d.bitLength(), b) + 1);
      _.fill(0);
      for (var I = 1 << (u + 1), M = d.clone(), C = 0; C < _.length; C++) {
        var R,
          L = M.andln(I - 1);
        M.isOdd()
          ? (L > (I >> 1) - 1 ? (R = (I >> 1) - L) : (R = L), M.isubn(R))
          : (R = 0),
          (_[C] = R),
          M.iushrn(1);
      }
      return _;
    }
    t.getNAF = i;
    function s(d, u) {
      var b = [[], []];
      (d = d.clone()), (u = u.clone());
      for (var _ = 0, I = 0, M; d.cmpn(-_) > 0 || u.cmpn(-I) > 0; ) {
        var C = (d.andln(3) + _) & 3,
          R = (u.andln(3) + I) & 3;
        C === 3 && (C = -1), R === 3 && (R = -1);
        var L;
        C & 1
          ? ((M = (d.andln(7) + _) & 7),
            (M === 3 || M === 5) && R === 2 ? (L = -C) : (L = C))
          : (L = 0),
          b[0].push(L);
        var V;
        R & 1
          ? ((M = (u.andln(7) + I) & 7),
            (M === 3 || M === 5) && C === 2 ? (V = -R) : (V = R))
          : (V = 0),
          b[1].push(V),
          2 * _ === L + 1 && (_ = 1 - _),
          2 * I === V + 1 && (I = 1 - I),
          d.iushrn(1),
          u.iushrn(1);
      }
      return b;
    }
    t.getJSF = s;
    function a(d, u, b) {
      var _ = "_" + u;
      d.prototype[u] = function () {
        return this[_] !== void 0 ? this[_] : (this[_] = b.call(this));
      };
    }
    t.cachedProperty = a;
    function f(d) {
      return typeof d == "string" ? t.toArray(d, "hex") : d;
    }
    t.parseBytes = f;
    function h(d) {
      return new vt(d, "hex", "le");
    }
    t.intFromLE = h;
  }),
  Zc = pi.getNAF,
  QA = pi.getJSF,
  Su = pi.assert;
function us(r, e) {
  (this.type = r),
    (this.p = new vt(e.p, 16)),
    (this.red = e.prime ? vt.red(e.prime) : vt.mont(this.p)),
    (this.zero = new vt(0).toRed(this.red)),
    (this.one = new vt(1).toRed(this.red)),
    (this.two = new vt(2).toRed(this.red)),
    (this.n = e.n && new vt(e.n, 16)),
    (this.g = e.g && this.pointFromJSON(e.g, e.gRed)),
    (this._wnafT1 = new Array(4)),
    (this._wnafT2 = new Array(4)),
    (this._wnafT3 = new Array(4)),
    (this._wnafT4 = new Array(4)),
    (this._bitLength = this.n ? this.n.bitLength() : 0);
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0
    ? (this.redN = null)
    : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
}
var js = us;
(us.prototype.point = function () {
  throw new Error("Not implemented");
}),
  (us.prototype.validate = function () {
    throw new Error("Not implemented");
  }),
  (us.prototype._fixedNafMul = function (r, e) {
    Su(r.precomputed);
    var t = r._getDoubles(),
      i = Zc(e, 1, this._bitLength),
      s = (1 << (t.step + 1)) - (t.step % 2 === 0 ? 2 : 1);
    s /= 3;
    var a = [],
      f,
      h;
    for (f = 0; f < i.length; f += t.step) {
      h = 0;
      for (var d = f + t.step - 1; d >= f; d--) h = (h << 1) + i[d];
      a.push(h);
    }
    for (
      var u = this.jpoint(null, null, null),
        b = this.jpoint(null, null, null),
        _ = s;
      _ > 0;
      _--
    ) {
      for (f = 0; f < a.length; f++)
        (h = a[f]),
          h === _
            ? (b = b.mixedAdd(t.points[f]))
            : h === -_ && (b = b.mixedAdd(t.points[f].neg()));
      u = u.add(b);
    }
    return u.toP();
  }),
  (us.prototype._wnafMul = function (r, e) {
    var t = 4,
      i = r._getNAFPoints(t);
    t = i.wnd;
    for (
      var s = i.points,
        a = Zc(e, t, this._bitLength),
        f = this.jpoint(null, null, null),
        h = a.length - 1;
      h >= 0;
      h--
    ) {
      for (var d = 0; h >= 0 && a[h] === 0; h--) d++;
      if ((h >= 0 && d++, (f = f.dblp(d)), h < 0)) break;
      var u = a[h];
      Su(u !== 0),
        r.type === "affine"
          ? u > 0
            ? (f = f.mixedAdd(s[(u - 1) >> 1]))
            : (f = f.mixedAdd(s[(-u - 1) >> 1].neg()))
          : u > 0
            ? (f = f.add(s[(u - 1) >> 1]))
            : (f = f.add(s[(-u - 1) >> 1].neg()));
    }
    return r.type === "affine" ? f.toP() : f;
  }),
  (us.prototype._wnafMulAdd = function (r, e, t, i, s) {
    var a = this._wnafT1,
      f = this._wnafT2,
      h = this._wnafT3,
      d = 0,
      u,
      b,
      _;
    for (u = 0; u < i; u++) {
      _ = e[u];
      var I = _._getNAFPoints(r);
      (a[u] = I.wnd), (f[u] = I.points);
    }
    for (u = i - 1; u >= 1; u -= 2) {
      var M = u - 1,
        C = u;
      if (a[M] !== 1 || a[C] !== 1) {
        (h[M] = Zc(t[M], a[M], this._bitLength)),
          (h[C] = Zc(t[C], a[C], this._bitLength)),
          (d = Math.max(h[M].length, d)),
          (d = Math.max(h[C].length, d));
        continue;
      }
      var R = [e[M], null, null, e[C]];
      e[M].y.cmp(e[C].y) === 0
        ? ((R[1] = e[M].add(e[C])), (R[2] = e[M].toJ().mixedAdd(e[C].neg())))
        : e[M].y.cmp(e[C].y.redNeg()) === 0
          ? ((R[1] = e[M].toJ().mixedAdd(e[C])), (R[2] = e[M].add(e[C].neg())))
          : ((R[1] = e[M].toJ().mixedAdd(e[C])),
            (R[2] = e[M].toJ().mixedAdd(e[C].neg())));
      var L = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
        V = QA(t[M], t[C]);
      for (
        d = Math.max(V[0].length, d),
          h[M] = new Array(d),
          h[C] = new Array(d),
          b = 0;
        b < d;
        b++
      ) {
        var F = V[0][b] | 0,
          K = V[1][b] | 0;
        (h[M][b] = L[(F + 1) * 3 + (K + 1)]), (h[C][b] = 0), (f[M] = R);
      }
    }
    var B = this.jpoint(null, null, null),
      z = this._wnafT4;
    for (u = d; u >= 0; u--) {
      for (var q = 0; u >= 0; ) {
        var E = !0;
        for (b = 0; b < i; b++) (z[b] = h[b][u] | 0), z[b] !== 0 && (E = !1);
        if (!E) break;
        q++, u--;
      }
      if ((u >= 0 && q++, (B = B.dblp(q)), u < 0)) break;
      for (b = 0; b < i; b++) {
        var U = z[b];
        U !== 0 &&
          (U > 0
            ? (_ = f[b][(U - 1) >> 1])
            : U < 0 && (_ = f[b][(-U - 1) >> 1].neg()),
          _.type === "affine" ? (B = B.mixedAdd(_)) : (B = B.add(_)));
      }
    }
    for (u = 0; u < i; u++) f[u] = null;
    return s ? B : B.toP();
  });
function Ii(r, e) {
  (this.curve = r), (this.type = e), (this.precomputed = null);
}
(us.BasePoint = Ii),
  (Ii.prototype.eq = function () {
    throw new Error("Not implemented");
  }),
  (Ii.prototype.validate = function () {
    return this.curve.validate(this);
  }),
  (us.prototype.decodePoint = function (r, e) {
    r = pi.toArray(r, e);
    var t = this.p.byteLength();
    if ((r[0] === 4 || r[0] === 6 || r[0] === 7) && r.length - 1 === 2 * t) {
      r[0] === 6
        ? Su(r[r.length - 1] % 2 === 0)
        : r[0] === 7 && Su(r[r.length - 1] % 2 === 1);
      var i = this.point(r.slice(1, 1 + t), r.slice(1 + t, 1 + 2 * t));
      return i;
    } else if ((r[0] === 2 || r[0] === 3) && r.length - 1 === t)
      return this.pointFromX(r.slice(1, 1 + t), r[0] === 3);
    throw new Error("Unknown point format");
  }),
  (Ii.prototype.encodeCompressed = function (r) {
    return this.encode(r, !0);
  }),
  (Ii.prototype._encode = function (r) {
    var e = this.curve.p.byteLength(),
      t = this.getX().toArray("be", e);
    return r
      ? [this.getY().isEven() ? 2 : 3].concat(t)
      : [4].concat(t, this.getY().toArray("be", e));
  }),
  (Ii.prototype.encode = function (r, e) {
    return pi.encode(this._encode(e), r);
  }),
  (Ii.prototype.precompute = function (r) {
    if (this.precomputed) return this;
    var e = { doubles: null, naf: null, beta: null };
    return (
      (e.naf = this._getNAFPoints(8)),
      (e.doubles = this._getDoubles(4, r)),
      (e.beta = this._getBeta()),
      (this.precomputed = e),
      this
    );
  }),
  (Ii.prototype._hasDoubles = function (r) {
    if (!this.precomputed) return !1;
    var e = this.precomputed.doubles;
    return e ? e.points.length >= Math.ceil((r.bitLength() + 1) / e.step) : !1;
  }),
  (Ii.prototype._getDoubles = function (r, e) {
    if (this.precomputed && this.precomputed.doubles)
      return this.precomputed.doubles;
    for (var t = [this], i = this, s = 0; s < e; s += r) {
      for (var a = 0; a < r; a++) i = i.dbl();
      t.push(i);
    }
    return { step: r, points: t };
  }),
  (Ii.prototype._getNAFPoints = function (r) {
    if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
    for (
      var e = [this], t = (1 << r) - 1, i = t === 1 ? null : this.dbl(), s = 1;
      s < t;
      s++
    )
      e[s] = e[s - 1].add(i);
    return { wnd: r, points: e };
  }),
  (Ii.prototype._getBeta = function () {
    return null;
  }),
  (Ii.prototype.dblp = function (r) {
    for (var e = this, t = 0; t < r; t++) e = e.dbl();
    return e;
  });
var Xl = Da(function (r) {
    typeof Object.create == "function"
      ? (r.exports = function (e, t) {
          t &&
            ((e.super_ = t),
            (e.prototype = Object.create(t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })));
        })
      : (r.exports = function (e, t) {
          if (t) {
            e.super_ = t;
            var i = function () {};
            (i.prototype = t.prototype),
              (e.prototype = new i()),
              (e.prototype.constructor = e);
          }
        });
  }),
  XA = pi.assert;
function Ri(r) {
  js.call(this, "short", r),
    (this.a = new vt(r.a, 16).toRed(this.red)),
    (this.b = new vt(r.b, 16).toRed(this.red)),
    (this.tinv = this.two.redInvm()),
    (this.zeroA = this.a.fromRed().cmpn(0) === 0),
    (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
    (this.endo = this._getEndomorphism(r)),
    (this._endoWnafT1 = new Array(4)),
    (this._endoWnafT2 = new Array(4));
}
Xl(Ri, js);
var ZA = Ri;
(Ri.prototype._getEndomorphism = function (r) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var e, t;
    if (r.beta) e = new vt(r.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      (e = i[0].cmp(i[1]) < 0 ? i[0] : i[1]), (e = e.toRed(this.red));
    }
    if (r.lambda) t = new vt(r.lambda, 16);
    else {
      var s = this._getEndoRoots(this.n);
      this.g.mul(s[0]).x.cmp(this.g.x.redMul(e)) === 0
        ? (t = s[0])
        : ((t = s[1]), XA(this.g.mul(t).x.cmp(this.g.x.redMul(e)) === 0));
    }
    var a;
    return (
      r.basis
        ? (a = r.basis.map(function (f) {
            return { a: new vt(f.a, 16), b: new vt(f.b, 16) };
          }))
        : (a = this._getEndoBasis(t)),
      { beta: e, lambda: t, basis: a }
    );
  }
}),
  (Ri.prototype._getEndoRoots = function (r) {
    var e = r === this.p ? this.red : vt.mont(r),
      t = new vt(2).toRed(e).redInvm(),
      i = t.redNeg(),
      s = new vt(3).toRed(e).redNeg().redSqrt().redMul(t),
      a = i.redAdd(s).fromRed(),
      f = i.redSub(s).fromRed();
    return [a, f];
  }),
  (Ri.prototype._getEndoBasis = function (r) {
    for (
      var e = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
        t = r,
        i = this.n.clone(),
        s = new vt(1),
        a = new vt(0),
        f = new vt(0),
        h = new vt(1),
        d,
        u,
        b,
        _,
        I,
        M,
        C,
        R = 0,
        L,
        V;
      t.cmpn(0) !== 0;

    ) {
      var F = i.div(t);
      (L = i.sub(F.mul(t))), (V = f.sub(F.mul(s)));
      var K = h.sub(F.mul(a));
      if (!b && L.cmp(e) < 0) (d = C.neg()), (u = s), (b = L.neg()), (_ = V);
      else if (b && ++R === 2) break;
      (C = L), (i = t), (t = L), (f = s), (s = V), (h = a), (a = K);
    }
    (I = L.neg()), (M = V);
    var B = b.sqr().add(_.sqr()),
      z = I.sqr().add(M.sqr());
    return (
      z.cmp(B) >= 0 && ((I = d), (M = u)),
      b.negative && ((b = b.neg()), (_ = _.neg())),
      I.negative && ((I = I.neg()), (M = M.neg())),
      [
        { a: b, b: _ },
        { a: I, b: M },
      ]
    );
  }),
  (Ri.prototype._endoSplit = function (r) {
    var e = this.endo.basis,
      t = e[0],
      i = e[1],
      s = i.b.mul(r).divRound(this.n),
      a = t.b.neg().mul(r).divRound(this.n),
      f = s.mul(t.a),
      h = a.mul(i.a),
      d = s.mul(t.b),
      u = a.mul(i.b),
      b = r.sub(f).sub(h),
      _ = d.add(u).neg();
    return { k1: b, k2: _ };
  }),
  (Ri.prototype.pointFromX = function (r, e) {
    (r = new vt(r, 16)), r.red || (r = r.toRed(this.red));
    var t = r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),
      i = t.redSqrt();
    if (i.redSqr().redSub(t).cmp(this.zero) !== 0)
      throw new Error("invalid point");
    var s = i.fromRed().isOdd();
    return ((e && !s) || (!e && s)) && (i = i.redNeg()), this.point(r, i);
  }),
  (Ri.prototype.validate = function (r) {
    if (r.inf) return !0;
    var e = r.x,
      t = r.y,
      i = this.a.redMul(e),
      s = e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);
    return t.redSqr().redISub(s).cmpn(0) === 0;
  }),
  (Ri.prototype._endoWnafMulAdd = function (r, e, t) {
    for (
      var i = this._endoWnafT1, s = this._endoWnafT2, a = 0;
      a < r.length;
      a++
    ) {
      var f = this._endoSplit(e[a]),
        h = r[a],
        d = h._getBeta();
      f.k1.negative && (f.k1.ineg(), (h = h.neg(!0))),
        f.k2.negative && (f.k2.ineg(), (d = d.neg(!0))),
        (i[a * 2] = h),
        (i[a * 2 + 1] = d),
        (s[a * 2] = f.k1),
        (s[a * 2 + 1] = f.k2);
    }
    for (var u = this._wnafMulAdd(1, i, s, a * 2, t), b = 0; b < a * 2; b++)
      (i[b] = null), (s[b] = null);
    return u;
  });
function mr(r, e, t, i) {
  js.BasePoint.call(this, r, "affine"),
    e === null && t === null
      ? ((this.x = null), (this.y = null), (this.inf = !0))
      : ((this.x = new vt(e, 16)),
        (this.y = new vt(t, 16)),
        i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        (this.inf = !1));
}
Xl(mr, js.BasePoint),
  (Ri.prototype.point = function (r, e, t) {
    return new mr(this, r, e, t);
  }),
  (Ri.prototype.pointFromJSON = function (r, e) {
    return mr.fromJSON(this, r, e);
  }),
  (mr.prototype._getBeta = function () {
    if (this.curve.endo) {
      var r = this.precomputed;
      if (r && r.beta) return r.beta;
      var e = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
      if (r) {
        var t = this.curve,
          i = function (s) {
            return t.point(s.x.redMul(t.endo.beta), s.y);
          };
        (r.beta = e),
          (e.precomputed = {
            beta: null,
            naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) },
            doubles: r.doubles && {
              step: r.doubles.step,
              points: r.doubles.points.map(i),
            },
          });
      }
      return e;
    }
  }),
  (mr.prototype.toJSON = function () {
    return this.precomputed
      ? [
          this.x,
          this.y,
          this.precomputed && {
            doubles: this.precomputed.doubles && {
              step: this.precomputed.doubles.step,
              points: this.precomputed.doubles.points.slice(1),
            },
            naf: this.precomputed.naf && {
              wnd: this.precomputed.naf.wnd,
              points: this.precomputed.naf.points.slice(1),
            },
          },
        ]
      : [this.x, this.y];
  }),
  (mr.fromJSON = function (r, e, t) {
    typeof e == "string" && (e = JSON.parse(e));
    var i = r.point(e[0], e[1], t);
    if (!e[2]) return i;
    function s(f) {
      return r.point(f[0], f[1], t);
    }
    var a = e[2];
    return (
      (i.precomputed = {
        beta: null,
        doubles: a.doubles && {
          step: a.doubles.step,
          points: [i].concat(a.doubles.points.map(s)),
        },
        naf: a.naf && {
          wnd: a.naf.wnd,
          points: [i].concat(a.naf.points.map(s)),
        },
      }),
      i
    );
  }),
  (mr.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC Point Infinity>"
      : "<EC Point x: " +
          this.x.fromRed().toString(16, 2) +
          " y: " +
          this.y.fromRed().toString(16, 2) +
          ">";
  }),
  (mr.prototype.isInfinity = function () {
    return this.inf;
  }),
  (mr.prototype.add = function (r) {
    if (this.inf) return r;
    if (r.inf) return this;
    if (this.eq(r)) return this.dbl();
    if (this.neg().eq(r)) return this.curve.point(null, null);
    if (this.x.cmp(r.x) === 0) return this.curve.point(null, null);
    var e = this.y.redSub(r.y);
    e.cmpn(0) !== 0 && (e = e.redMul(this.x.redSub(r.x).redInvm()));
    var t = e.redSqr().redISub(this.x).redISub(r.x),
      i = e.redMul(this.x.redSub(t)).redISub(this.y);
    return this.curve.point(t, i);
  }),
  (mr.prototype.dbl = function () {
    if (this.inf) return this;
    var r = this.y.redAdd(this.y);
    if (r.cmpn(0) === 0) return this.curve.point(null, null);
    var e = this.curve.a,
      t = this.x.redSqr(),
      i = r.redInvm(),
      s = t.redAdd(t).redIAdd(t).redIAdd(e).redMul(i),
      a = s.redSqr().redISub(this.x.redAdd(this.x)),
      f = s.redMul(this.x.redSub(a)).redISub(this.y);
    return this.curve.point(a, f);
  }),
  (mr.prototype.getX = function () {
    return this.x.fromRed();
  }),
  (mr.prototype.getY = function () {
    return this.y.fromRed();
  }),
  (mr.prototype.mul = function (r) {
    return (
      (r = new vt(r, 16)),
      this.isInfinity()
        ? this
        : this._hasDoubles(r)
          ? this.curve._fixedNafMul(this, r)
          : this.curve.endo
            ? this.curve._endoWnafMulAdd([this], [r])
            : this.curve._wnafMul(this, r)
    );
  }),
  (mr.prototype.mulAdd = function (r, e, t) {
    var i = [this, e],
      s = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, s)
      : this.curve._wnafMulAdd(1, i, s, 2);
  }),
  (mr.prototype.jmulAdd = function (r, e, t) {
    var i = [this, e],
      s = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, s, !0)
      : this.curve._wnafMulAdd(1, i, s, 2, !0);
  }),
  (mr.prototype.eq = function (r) {
    return (
      this === r ||
      (this.inf === r.inf &&
        (this.inf || (this.x.cmp(r.x) === 0 && this.y.cmp(r.y) === 0)))
    );
  }),
  (mr.prototype.neg = function (r) {
    if (this.inf) return this;
    var e = this.curve.point(this.x, this.y.redNeg());
    if (r && this.precomputed) {
      var t = this.precomputed,
        i = function (s) {
          return s.neg();
        };
      e.precomputed = {
        naf: t.naf && { wnd: t.naf.wnd, points: t.naf.points.map(i) },
        doubles: t.doubles && {
          step: t.doubles.step,
          points: t.doubles.points.map(i),
        },
      };
    }
    return e;
  }),
  (mr.prototype.toJ = function () {
    if (this.inf) return this.curve.jpoint(null, null, null);
    var r = this.curve.jpoint(this.x, this.y, this.curve.one);
    return r;
  });
function xr(r, e, t, i) {
  js.BasePoint.call(this, r, "jacobian"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.one),
        (this.y = this.curve.one),
        (this.z = new vt(0)))
      : ((this.x = new vt(e, 16)),
        (this.y = new vt(t, 16)),
        (this.z = new vt(i, 16))),
    this.x.red || (this.x = this.x.toRed(this.curve.red)),
    this.y.red || (this.y = this.y.toRed(this.curve.red)),
    this.z.red || (this.z = this.z.toRed(this.curve.red)),
    (this.zOne = this.z === this.curve.one);
}
Xl(xr, js.BasePoint),
  (Ri.prototype.jpoint = function (r, e, t) {
    return new xr(this, r, e, t);
  }),
  (xr.prototype.toP = function () {
    if (this.isInfinity()) return this.curve.point(null, null);
    var r = this.z.redInvm(),
      e = r.redSqr(),
      t = this.x.redMul(e),
      i = this.y.redMul(e).redMul(r);
    return this.curve.point(t, i);
  }),
  (xr.prototype.neg = function () {
    return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
  }),
  (xr.prototype.add = function (r) {
    if (this.isInfinity()) return r;
    if (r.isInfinity()) return this;
    var e = r.z.redSqr(),
      t = this.z.redSqr(),
      i = this.x.redMul(e),
      s = r.x.redMul(t),
      a = this.y.redMul(e.redMul(r.z)),
      f = r.y.redMul(t.redMul(this.z)),
      h = i.redSub(s),
      d = a.redSub(f);
    if (h.cmpn(0) === 0)
      return d.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var u = h.redSqr(),
      b = u.redMul(h),
      _ = i.redMul(u),
      I = d.redSqr().redIAdd(b).redISub(_).redISub(_),
      M = d.redMul(_.redISub(I)).redISub(a.redMul(b)),
      C = this.z.redMul(r.z).redMul(h);
    return this.curve.jpoint(I, M, C);
  }),
  (xr.prototype.mixedAdd = function (r) {
    if (this.isInfinity()) return r.toJ();
    if (r.isInfinity()) return this;
    var e = this.z.redSqr(),
      t = this.x,
      i = r.x.redMul(e),
      s = this.y,
      a = r.y.redMul(e).redMul(this.z),
      f = t.redSub(i),
      h = s.redSub(a);
    if (f.cmpn(0) === 0)
      return h.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var d = f.redSqr(),
      u = d.redMul(f),
      b = t.redMul(d),
      _ = h.redSqr().redIAdd(u).redISub(b).redISub(b),
      I = h.redMul(b.redISub(_)).redISub(s.redMul(u)),
      M = this.z.redMul(f);
    return this.curve.jpoint(_, I, M);
  }),
  (xr.prototype.dblp = function (r) {
    if (r === 0) return this;
    if (this.isInfinity()) return this;
    if (!r) return this.dbl();
    var e;
    if (this.curve.zeroA || this.curve.threeA) {
      var t = this;
      for (e = 0; e < r; e++) t = t.dbl();
      return t;
    }
    var i = this.curve.a,
      s = this.curve.tinv,
      a = this.x,
      f = this.y,
      h = this.z,
      d = h.redSqr().redSqr(),
      u = f.redAdd(f);
    for (e = 0; e < r; e++) {
      var b = a.redSqr(),
        _ = u.redSqr(),
        I = _.redSqr(),
        M = b.redAdd(b).redIAdd(b).redIAdd(i.redMul(d)),
        C = a.redMul(_),
        R = M.redSqr().redISub(C.redAdd(C)),
        L = C.redISub(R),
        V = M.redMul(L);
      V = V.redIAdd(V).redISub(I);
      var F = u.redMul(h);
      e + 1 < r && (d = d.redMul(I)), (a = R), (h = F), (u = V);
    }
    return this.curve.jpoint(a, u.redMul(s), h);
  }),
  (xr.prototype.dbl = function () {
    return this.isInfinity()
      ? this
      : this.curve.zeroA
        ? this._zeroDbl()
        : this.curve.threeA
          ? this._threeDbl()
          : this._dbl();
  }),
  (xr.prototype._zeroDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        s = this.y.redSqr(),
        a = s.redSqr(),
        f = this.x.redAdd(s).redSqr().redISub(i).redISub(a);
      f = f.redIAdd(f);
      var h = i.redAdd(i).redIAdd(i),
        d = h.redSqr().redISub(f).redISub(f),
        u = a.redIAdd(a);
      (u = u.redIAdd(u)),
        (u = u.redIAdd(u)),
        (r = d),
        (e = h.redMul(f.redISub(d)).redISub(u)),
        (t = this.y.redAdd(this.y));
    } else {
      var b = this.x.redSqr(),
        _ = this.y.redSqr(),
        I = _.redSqr(),
        M = this.x.redAdd(_).redSqr().redISub(b).redISub(I);
      M = M.redIAdd(M);
      var C = b.redAdd(b).redIAdd(b),
        R = C.redSqr(),
        L = I.redIAdd(I);
      (L = L.redIAdd(L)),
        (L = L.redIAdd(L)),
        (r = R.redISub(M).redISub(M)),
        (e = C.redMul(M.redISub(r)).redISub(L)),
        (t = this.y.redMul(this.z)),
        (t = t.redIAdd(t));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (xr.prototype._threeDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        s = this.y.redSqr(),
        a = s.redSqr(),
        f = this.x.redAdd(s).redSqr().redISub(i).redISub(a);
      f = f.redIAdd(f);
      var h = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),
        d = h.redSqr().redISub(f).redISub(f);
      r = d;
      var u = a.redIAdd(a);
      (u = u.redIAdd(u)),
        (u = u.redIAdd(u)),
        (e = h.redMul(f.redISub(d)).redISub(u)),
        (t = this.y.redAdd(this.y));
    } else {
      var b = this.z.redSqr(),
        _ = this.y.redSqr(),
        I = this.x.redMul(_),
        M = this.x.redSub(b).redMul(this.x.redAdd(b));
      M = M.redAdd(M).redIAdd(M);
      var C = I.redIAdd(I);
      C = C.redIAdd(C);
      var R = C.redAdd(C);
      (r = M.redSqr().redISub(R)),
        (t = this.y.redAdd(this.z).redSqr().redISub(_).redISub(b));
      var L = _.redSqr();
      (L = L.redIAdd(L)),
        (L = L.redIAdd(L)),
        (L = L.redIAdd(L)),
        (e = M.redMul(C.redISub(r)).redISub(L));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (xr.prototype._dbl = function () {
    var r = this.curve.a,
      e = this.x,
      t = this.y,
      i = this.z,
      s = i.redSqr().redSqr(),
      a = e.redSqr(),
      f = t.redSqr(),
      h = a.redAdd(a).redIAdd(a).redIAdd(r.redMul(s)),
      d = e.redAdd(e);
    d = d.redIAdd(d);
    var u = d.redMul(f),
      b = h.redSqr().redISub(u.redAdd(u)),
      _ = u.redISub(b),
      I = f.redSqr();
    (I = I.redIAdd(I)), (I = I.redIAdd(I)), (I = I.redIAdd(I));
    var M = h.redMul(_).redISub(I),
      C = t.redAdd(t).redMul(i);
    return this.curve.jpoint(b, M, C);
  }),
  (xr.prototype.trpl = function () {
    if (!this.curve.zeroA) return this.dbl().add(this);
    var r = this.x.redSqr(),
      e = this.y.redSqr(),
      t = this.z.redSqr(),
      i = e.redSqr(),
      s = r.redAdd(r).redIAdd(r),
      a = s.redSqr(),
      f = this.x.redAdd(e).redSqr().redISub(r).redISub(i);
    (f = f.redIAdd(f)), (f = f.redAdd(f).redIAdd(f)), (f = f.redISub(a));
    var h = f.redSqr(),
      d = i.redIAdd(i);
    (d = d.redIAdd(d)), (d = d.redIAdd(d)), (d = d.redIAdd(d));
    var u = s.redIAdd(f).redSqr().redISub(a).redISub(h).redISub(d),
      b = e.redMul(u);
    (b = b.redIAdd(b)), (b = b.redIAdd(b));
    var _ = this.x.redMul(h).redISub(b);
    (_ = _.redIAdd(_)), (_ = _.redIAdd(_));
    var I = this.y.redMul(u.redMul(d.redISub(u)).redISub(f.redMul(h)));
    (I = I.redIAdd(I)), (I = I.redIAdd(I)), (I = I.redIAdd(I));
    var M = this.z.redAdd(f).redSqr().redISub(t).redISub(h);
    return this.curve.jpoint(_, I, M);
  }),
  (xr.prototype.mul = function (r, e) {
    return (r = new vt(r, e)), this.curve._wnafMul(this, r);
  }),
  (xr.prototype.eq = function (r) {
    if (r.type === "affine") return this.eq(r.toJ());
    if (this === r) return !0;
    var e = this.z.redSqr(),
      t = r.z.redSqr();
    if (this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0) !== 0) return !1;
    var i = e.redMul(this.z),
      s = t.redMul(r.z);
    return this.y.redMul(s).redISub(r.y.redMul(i)).cmpn(0) === 0;
  }),
  (xr.prototype.eqXToP = function (r) {
    var e = this.z.redSqr(),
      t = r.toRed(this.curve.red).redMul(e);
    if (this.x.cmp(t) === 0) return !0;
    for (var i = r.clone(), s = this.curve.redN.redMul(e); ; ) {
      if ((i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)) return !1;
      if ((t.redIAdd(s), this.x.cmp(t) === 0)) return !0;
    }
  }),
  (xr.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC JPoint Infinity>"
      : "<EC JPoint x: " +
          this.x.toString(16, 2) +
          " y: " +
          this.y.toString(16, 2) +
          " z: " +
          this.z.toString(16, 2) +
          ">";
  }),
  (xr.prototype.isInfinity = function () {
    return this.z.cmpn(0) === 0;
  });
var hu = Da(function (r, e) {
    var t = e;
    (t.base = js), (t.short = ZA), (t.mont = null), (t.edwards = null);
  }),
  lu = Da(function (r, e) {
    var t = e,
      i = pi.assert;
    function s(h) {
      h.type === "short"
        ? (this.curve = new hu.short(h))
        : h.type === "edwards"
          ? (this.curve = new hu.edwards(h))
          : (this.curve = new hu.mont(h)),
        (this.g = this.curve.g),
        (this.n = this.curve.n),
        (this.hash = h.hash),
        i(this.g.validate(), "Invalid curve"),
        i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
    }
    t.PresetCurve = s;
    function a(h, d) {
      Object.defineProperty(t, h, {
        configurable: !0,
        enumerable: !0,
        get: function () {
          var u = new s(d);
          return (
            Object.defineProperty(t, h, {
              configurable: !0,
              enumerable: !0,
              value: u,
            }),
            u
          );
        },
      });
    }
    a("p192", {
      type: "short",
      prime: "p192",
      p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
      b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
      n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
      hash: ln.sha256,
      gRed: !1,
      g: [
        "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
        "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
      ],
    }),
      a("p224", {
        type: "short",
        prime: "p224",
        p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
        a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
        b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
        n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
        hash: ln.sha256,
        gRed: !1,
        g: [
          "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
          "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
        ],
      }),
      a("p256", {
        type: "short",
        prime: null,
        p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
        a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
        b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
        n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
        hash: ln.sha256,
        gRed: !1,
        g: [
          "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
          "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
        ],
      }),
      a("p384", {
        type: "short",
        prime: null,
        p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
        a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
        b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
        n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
        hash: ln.sha384,
        gRed: !1,
        g: [
          "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
          "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
        ],
      }),
      a("p521", {
        type: "short",
        prime: null,
        p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
        a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
        b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
        n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
        hash: ln.sha512,
        gRed: !1,
        g: [
          "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
          "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
        ],
      }),
      a("curve25519", {
        type: "mont",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "76d06",
        b: "1",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: ln.sha256,
        gRed: !1,
        g: ["9"],
      }),
      a("ed25519", {
        type: "edwards",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "-1",
        c: "1",
        d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: ln.sha256,
        gRed: !1,
        g: [
          "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
          "6666666666666666666666666666666666666666666666666666666666666658",
        ],
      });
    var f;
    try {
      f = null.crash();
    } catch {
      f = void 0;
    }
    a("secp256k1", {
      type: "short",
      prime: "k256",
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
      a: "0",
      b: "7",
      n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
      h: "1",
      hash: ln.sha256,
      beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
      lambda:
        "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
      basis: [
        {
          a: "3086d221a7d46bcde86c90e49284eb15",
          b: "-e4437ed6010e88286f547fa90abfe4c3",
        },
        {
          a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
          b: "3086d221a7d46bcde86c90e49284eb15",
        },
      ],
      gRed: !1,
      g: [
        "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
        f,
      ],
    });
  });
function fs(r) {
  if (!(this instanceof fs)) return new fs(r);
  (this.hash = r.hash),
    (this.predResist = !!r.predResist),
    (this.outLen = this.hash.outSize),
    (this.minEntropy = r.minEntropy || this.hash.hmacStrength),
    (this._reseed = null),
    (this.reseedInterval = null),
    (this.K = null),
    (this.V = null);
  var e = Qi.toArray(r.entropy, r.entropyEnc || "hex"),
    t = Qi.toArray(r.nonce, r.nonceEnc || "hex"),
    i = Qi.toArray(r.pers, r.persEnc || "hex");
  Ql(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits",
  ),
    this._init(e, t, i);
}
var ig = fs;
(fs.prototype._init = function (r, e, t) {
  var i = r.concat(e).concat(t);
  (this.K = new Array(this.outLen / 8)), (this.V = new Array(this.outLen / 8));
  for (var s = 0; s < this.V.length; s++) (this.K[s] = 0), (this.V[s] = 1);
  this._update(i), (this._reseed = 1), (this.reseedInterval = 281474976710656);
}),
  (fs.prototype._hmac = function () {
    return new ln.hmac(this.hash, this.K);
  }),
  (fs.prototype._update = function (r) {
    var e = this._hmac().update(this.V).update([0]);
    r && (e = e.update(r)),
      (this.K = e.digest()),
      (this.V = this._hmac().update(this.V).digest()),
      r &&
        ((this.K = this._hmac().update(this.V).update([1]).update(r).digest()),
        (this.V = this._hmac().update(this.V).digest()));
  }),
  (fs.prototype.reseed = function (r, e, t, i) {
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      (r = Qi.toArray(r, e)),
      (t = Qi.toArray(t, i)),
      Ql(
        r.length >= this.minEntropy / 8,
        "Not enough entropy. Minimum is: " + this.minEntropy + " bits",
      ),
      this._update(r.concat(t || [])),
      (this._reseed = 1);
  }),
  (fs.prototype.generate = function (r, e, t, i) {
    if (this._reseed > this.reseedInterval)
      throw new Error("Reseed is required");
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      t && ((t = Qi.toArray(t, i || "hex")), this._update(t));
    for (var s = []; s.length < r; )
      (this.V = this._hmac().update(this.V).digest()), (s = s.concat(this.V));
    var a = s.slice(0, r);
    return this._update(t), this._reseed++, Qi.encode(a, e);
  });
var tl = pi.assert;
function qr(r, e) {
  (this.ec = r),
    (this.priv = null),
    (this.pub = null),
    e.priv && this._importPrivate(e.priv, e.privEnc),
    e.pub && this._importPublic(e.pub, e.pubEnc);
}
var rl = qr;
(qr.fromPublic = function (r, e, t) {
  return e instanceof qr ? e : new qr(r, { pub: e, pubEnc: t });
}),
  (qr.fromPrivate = function (r, e, t) {
    return e instanceof qr ? e : new qr(r, { priv: e, privEnc: t });
  }),
  (qr.prototype.validate = function () {
    var r = this.getPublic();
    return r.isInfinity()
      ? { result: !1, reason: "Invalid public key" }
      : r.validate()
        ? r.mul(this.ec.curve.n).isInfinity()
          ? { result: !0, reason: null }
          : { result: !1, reason: "Public key * N != O" }
        : { result: !1, reason: "Public key is not a point" };
  }),
  (qr.prototype.getPublic = function (r, e) {
    return (
      typeof r == "string" && ((e = r), (r = null)),
      this.pub || (this.pub = this.ec.g.mul(this.priv)),
      e ? this.pub.encode(e, r) : this.pub
    );
  }),
  (qr.prototype.getPrivate = function (r) {
    return r === "hex" ? this.priv.toString(16, 2) : this.priv;
  }),
  (qr.prototype._importPrivate = function (r, e) {
    (this.priv = new vt(r, e || 16)),
      (this.priv = this.priv.umod(this.ec.curve.n));
  }),
  (qr.prototype._importPublic = function (r, e) {
    if (r.x || r.y) {
      this.ec.curve.type === "mont"
        ? tl(r.x, "Need x coordinate")
        : (this.ec.curve.type === "short" ||
            this.ec.curve.type === "edwards") &&
          tl(r.x && r.y, "Need both x and y coordinate"),
        (this.pub = this.ec.curve.point(r.x, r.y));
      return;
    }
    this.pub = this.ec.curve.decodePoint(r, e);
  }),
  (qr.prototype.derive = function (r) {
    return (
      r.validate() || tl(r.validate(), "public point not validated"),
      r.mul(this.priv).getX()
    );
  }),
  (qr.prototype.sign = function (r, e, t) {
    return this.ec.sign(r, this, e, t);
  }),
  (qr.prototype.verify = function (r, e) {
    return this.ec.verify(r, e, this);
  }),
  (qr.prototype.inspect = function () {
    return (
      "<Key priv: " +
      (this.priv && this.priv.toString(16, 2)) +
      " pub: " +
      (this.pub && this.pub.inspect()) +
      " >"
    );
  });
var eE = pi.assert;
function Fu(r, e) {
  if (r instanceof Fu) return r;
  this._importDER(r, e) ||
    (eE(r.r && r.s, "Signature without r or s"),
    (this.r = new vt(r.r, 16)),
    (this.s = new vt(r.s, 16)),
    r.recoveryParam === void 0
      ? (this.recoveryParam = null)
      : (this.recoveryParam = r.recoveryParam));
}
var eu = Fu;
function tE() {
  this.place = 0;
}
function il(r, e) {
  var t = r[e.place++];
  if (!(t & 128)) return t;
  var i = t & 15;
  if (i === 0 || i > 4) return !1;
  for (var s = 0, a = 0, f = e.place; a < i; a++, f++)
    (s <<= 8), (s |= r[f]), (s >>>= 0);
  return s <= 127 ? !1 : ((e.place = f), s);
}
function ng(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; ) e++;
  return e === 0 ? r : r.slice(e);
}
Fu.prototype._importDER = function (r, e) {
  r = pi.toArray(r, e);
  var t = new tE();
  if (r[t.place++] !== 48) return !1;
  var i = il(r, t);
  if (i === !1 || i + t.place !== r.length || r[t.place++] !== 2) return !1;
  var s = il(r, t);
  if (s === !1) return !1;
  var a = r.slice(t.place, s + t.place);
  if (((t.place += s), r[t.place++] !== 2)) return !1;
  var f = il(r, t);
  if (f === !1 || r.length !== f + t.place) return !1;
  var h = r.slice(t.place, f + t.place);
  if (a[0] === 0)
    if (a[1] & 128) a = a.slice(1);
    else return !1;
  if (h[0] === 0)
    if (h[1] & 128) h = h.slice(1);
    else return !1;
  return (
    (this.r = new vt(a)), (this.s = new vt(h)), (this.recoveryParam = null), !0
  );
};
function nl(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + ((Math.log(e) / Math.LN2) >>> 3);
  for (r.push(t | 128); --t; ) r.push((e >>> (t << 3)) & 255);
  r.push(e);
}
Fu.prototype.toDER = function (r) {
  var e = this.r.toArray(),
    t = this.s.toArray();
  for (
    e[0] & 128 && (e = [0].concat(e)),
      t[0] & 128 && (t = [0].concat(t)),
      e = ng(e),
      t = ng(t);
    !t[0] && !(t[1] & 128);

  )
    t = t.slice(1);
  var i = [2];
  nl(i, e.length), (i = i.concat(e)), i.push(2), nl(i, t.length);
  var s = i.concat(t),
    a = [48];
  return nl(a, s.length), (a = a.concat(s)), pi.encode(a, r);
};
var rE = function () {
    throw new Error("unsupported");
  },
  kb = pi.assert;
function Ci(r) {
  if (!(this instanceof Ci)) return new Ci(r);
  typeof r == "string" &&
    (kb(Object.prototype.hasOwnProperty.call(lu, r), "Unknown curve " + r),
    (r = lu[r])),
    r instanceof lu.PresetCurve && (r = { curve: r }),
    (this.curve = r.curve.curve),
    (this.n = this.curve.n),
    (this.nh = this.n.ushrn(1)),
    (this.g = this.curve.g),
    (this.g = r.curve.g),
    this.g.precompute(r.curve.n.bitLength() + 1),
    (this.hash = r.hash || r.curve.hash);
}
var iE = Ci;
(Ci.prototype.keyPair = function (r) {
  return new rl(this, r);
}),
  (Ci.prototype.keyFromPrivate = function (r, e) {
    return rl.fromPrivate(this, r, e);
  }),
  (Ci.prototype.keyFromPublic = function (r, e) {
    return rl.fromPublic(this, r, e);
  }),
  (Ci.prototype.genKeyPair = function (r) {
    r || (r = {});
    for (
      var e = new ig({
          hash: this.hash,
          pers: r.pers,
          persEnc: r.persEnc || "utf8",
          entropy: r.entropy || rE(this.hash.hmacStrength),
          entropyEnc: (r.entropy && r.entropyEnc) || "utf8",
          nonce: this.n.toArray(),
        }),
        t = this.n.byteLength(),
        i = this.n.sub(new vt(2));
      ;

    ) {
      var s = new vt(e.generate(t));
      if (!(s.cmp(i) > 0)) return s.iaddn(1), this.keyFromPrivate(s);
    }
  }),
  (Ci.prototype._truncateToN = function (r, e) {
    var t = r.byteLength() * 8 - this.n.bitLength();
    return (
      t > 0 && (r = r.ushrn(t)), !e && r.cmp(this.n) >= 0 ? r.sub(this.n) : r
    );
  }),
  (Ci.prototype.sign = function (r, e, t, i) {
    typeof t == "object" && ((i = t), (t = null)),
      i || (i = {}),
      (e = this.keyFromPrivate(e, t)),
      (r = this._truncateToN(new vt(r, 16)));
    for (
      var s = this.n.byteLength(),
        a = e.getPrivate().toArray("be", s),
        f = r.toArray("be", s),
        h = new ig({
          hash: this.hash,
          entropy: a,
          nonce: f,
          pers: i.pers,
          persEnc: i.persEnc || "utf8",
        }),
        d = this.n.sub(new vt(1)),
        u = 0;
      ;
      u++
    ) {
      var b = i.k ? i.k(u) : new vt(h.generate(this.n.byteLength()));
      if (
        ((b = this._truncateToN(b, !0)), !(b.cmpn(1) <= 0 || b.cmp(d) >= 0))
      ) {
        var _ = this.g.mul(b);
        if (!_.isInfinity()) {
          var I = _.getX(),
            M = I.umod(this.n);
          if (M.cmpn(0) !== 0) {
            var C = b.invm(this.n).mul(M.mul(e.getPrivate()).iadd(r));
            if (((C = C.umod(this.n)), C.cmpn(0) !== 0)) {
              var R = (_.getY().isOdd() ? 1 : 0) | (I.cmp(M) !== 0 ? 2 : 0);
              return (
                i.canonical &&
                  C.cmp(this.nh) > 0 &&
                  ((C = this.n.sub(C)), (R ^= 1)),
                new eu({ r: M, s: C, recoveryParam: R })
              );
            }
          }
        }
      }
    }
  }),
  (Ci.prototype.verify = function (r, e, t, i) {
    (r = this._truncateToN(new vt(r, 16))),
      (t = this.keyFromPublic(t, i)),
      (e = new eu(e, "hex"));
    var s = e.r,
      a = e.s;
    if (
      s.cmpn(1) < 0 ||
      s.cmp(this.n) >= 0 ||
      a.cmpn(1) < 0 ||
      a.cmp(this.n) >= 0
    )
      return !1;
    var f = a.invm(this.n),
      h = f.mul(r).umod(this.n),
      d = f.mul(s).umod(this.n),
      u;
    return this.curve._maxwellTrick
      ? ((u = this.g.jmulAdd(h, t.getPublic(), d)),
        u.isInfinity() ? !1 : u.eqXToP(s))
      : ((u = this.g.mulAdd(h, t.getPublic(), d)),
        u.isInfinity() ? !1 : u.getX().umod(this.n).cmp(s) === 0);
  }),
  (Ci.prototype.recoverPubKey = function (r, e, t, i) {
    kb((3 & t) === t, "The recovery param is more than two bits"),
      (e = new eu(e, i));
    var s = this.n,
      a = new vt(r),
      f = e.r,
      h = e.s,
      d = t & 1,
      u = t >> 1;
    if (f.cmp(this.curve.p.umod(this.curve.n)) >= 0 && u)
      throw new Error("Unable to find sencond key candinate");
    u
      ? (f = this.curve.pointFromX(f.add(this.curve.n), d))
      : (f = this.curve.pointFromX(f, d));
    var b = e.r.invm(s),
      _ = s.sub(a).mul(b).umod(s),
      I = h.mul(b).umod(s);
    return this.g.mulAdd(_, f, I);
  }),
  (Ci.prototype.getKeyRecoveryParam = function (r, e, t, i) {
    if (((e = new eu(e, i)), e.recoveryParam !== null)) return e.recoveryParam;
    for (var s = 0; s < 4; s++) {
      var a;
      try {
        a = this.recoverPubKey(r, e, s);
      } catch {
        continue;
      }
      if (a.eq(t)) return s;
    }
    throw new Error("Unable to find valid recovery factor");
  });
var nE = Da(function (r, e) {
    var t = e;
    (t.version = "6.5.4"),
      (t.utils = pi),
      (t.rand = function () {
        throw new Error("unsupported");
      }),
      (t.curve = hu),
      (t.curves = lu),
      (t.ec = iE),
      (t.eddsa = null);
  }),
  sE = nE.ec;
const aE = "signing-key/5.7.0",
  Ol = new Sr(aE);
let sl = null;
function os() {
  return sl || (sl = new sE("secp256k1")), sl;
}
class oE {
  constructor(e) {
    no(this, "curve", "secp256k1"),
      no(this, "privateKey", ii(e)),
      $7(this.privateKey) !== 32 &&
        Ol.throwArgumentError(
          "invalid private key",
          "privateKey",
          "[[ REDACTED ]]",
        );
    const t = os().keyFromPrivate(ir(this.privateKey));
    no(this, "publicKey", "0x" + t.getPublic(!1, "hex")),
      no(this, "compressedPublicKey", "0x" + t.getPublic(!0, "hex")),
      no(this, "_isSigningKey", !0);
  }
  _addPoint(e) {
    const t = os().keyFromPublic(ir(this.publicKey)),
      i = os().keyFromPublic(ir(e));
    return "0x" + t.pub.add(i.pub).encodeCompressed("hex");
  }
  signDigest(e) {
    const t = os().keyFromPrivate(ir(this.privateKey)),
      i = ir(e);
    i.length !== 32 && Ol.throwArgumentError("bad digest length", "digest", e);
    const s = t.sign(i, { canonical: !0 });
    return lb({
      recoveryParam: s.recoveryParam,
      r: yn("0x" + s.r.toString(16), 32),
      s: yn("0x" + s.s.toString(16), 32),
    });
  }
  computeSharedSecret(e) {
    const t = os().keyFromPrivate(ir(this.privateKey)),
      i = os().keyFromPublic(ir(jb(e)));
    return yn("0x" + t.derive(i.getPublic()).toString(16), 32);
  }
  static isSigningKey(e) {
    return !!(e && e._isSigningKey);
  }
}
function cE(r, e) {
  const t = lb(e),
    i = { r: ir(t.r), s: ir(t.s) };
  return "0x" + os().recoverPubKey(ir(r), i, t.recoveryParam).encode("hex", !1);
}
function jb(r, e) {
  const t = ir(r);
  return t.length === 32
    ? new oE(t).publicKey
    : t.length === 33
      ? "0x" + os().keyFromPublic(t).getPublic(!1, "hex")
      : t.length === 65
        ? ii(t)
        : Ol.throwArgumentError(
            "invalid public or private key",
            "key",
            "[REDACTED]",
          );
}
var sg;
(function (r) {
  (r[(r.legacy = 0)] = "legacy"),
    (r[(r.eip2930 = 1)] = "eip2930"),
    (r[(r.eip1559 = 2)] = "eip1559");
})(sg || (sg = {}));
function uE(r) {
  const e = jb(r);
  return w9(K1(Wl(K1(e, 1)), 12));
}
function fE(r, e) {
  return uE(cE(ir(r), e));
}
const hE = "https://rpc.walletconnect.org/v1";
async function lE(r, e, t, i, s, a) {
  switch (t.t) {
    case "eip191":
      return dE(r, e, t.s);
    case "eip1271":
      return await pE(r, e, t.s, i, s, a);
    default:
      throw new Error(
        `verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`,
      );
  }
}
function dE(r, e, t) {
  return fE(_b(e), t).toLowerCase() === r.toLowerCase();
}
async function pE(r, e, t, i, s, a) {
  try {
    const f = "0x1626ba7e",
      h = "0000000000000000000000000000000000000000000000000000000000000040",
      d = "0000000000000000000000000000000000000000000000000000000000000041",
      u = t.substring(2),
      b = _b(e).substring(2),
      _ = f + b + h + d + u,
      I = await fetch(`${a || hE}/?chainId=${i}&projectId=${s}`, {
        method: "POST",
        body: JSON.stringify({
          id: gE(),
          jsonrpc: "2.0",
          method: "eth_call",
          params: [{ to: r, data: _ }, "latest"],
        }),
      }),
      { result: M } = await I.json();
    return M ? M.slice(0, f.length).toLowerCase() === f.toLowerCase() : !1;
  } catch (f) {
    return console.error("isValidEip1271Signature: ", f), !1;
  }
}
function gE() {
  return Date.now() + Math.floor(Math.random() * 1e3);
}
var vE = Object.defineProperty,
  bE = Object.defineProperties,
  mE = Object.getOwnPropertyDescriptors,
  ag = Object.getOwnPropertySymbols,
  yE = Object.prototype.hasOwnProperty,
  wE = Object.prototype.propertyIsEnumerable,
  og = (r, e, t) =>
    e in r
      ? vE(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  _E = (r, e) => {
    for (var t in e || (e = {})) yE.call(e, t) && og(r, t, e[t]);
    if (ag) for (var t of ag(e)) wE.call(e, t) && og(r, t, e[t]);
    return r;
  },
  AE = (r, e) => bE(r, mE(e));
const EE = "did:pkh:",
  Zl = (r) => (r == null ? void 0 : r.split(":")),
  $b = (r) => {
    const e = r && Zl(r);
    if (e) return r.includes(EE) ? e[3] : e[1];
  },
  cg = (r) => {
    const e = r && Zl(r);
    if (e) return e[2] + ":" + e[3];
  },
  Mu = (r) => {
    const e = r && Zl(r);
    if (e) return e.pop();
  };
async function ug(r) {
  const { cacao: e, projectId: t } = r,
    { s: i, p: s } = e,
    a = Hb(s, s.iss),
    f = Mu(s.iss);
  return await lE(f, a, i, $b(s.iss), t);
}
const Hb = (r, e) => {
  const t = `${r.domain} wants you to sign in with your Ethereum account:`,
    i = Mu(e);
  if (!r.aud && !r.uri)
    throw new Error(
      "Either `aud` or `uri` is required to construct the message",
    );
  let s = r.statement || void 0;
  const a = `URI: ${r.aud || r.uri}`,
    f = `Version: ${r.version}`,
    h = `Chain ID: ${$b(e)}`,
    d = `Nonce: ${r.nonce}`,
    u = `Issued At: ${r.iat}`,
    b = r.exp ? `Expiration Time: ${r.exp}` : void 0,
    _ = r.nbf ? `Not Before: ${r.nbf}` : void 0,
    I = r.requestId ? `Request ID: ${r.requestId}` : void 0,
    M = r.resources
      ? `Resources:${r.resources
          .map(
            (R) => `
- ${R}`,
          )
          .join("")}`
      : void 0,
    C = du(r.resources);
  if (C) {
    const R = Io(C);
    s = RE(s, R);
  }
  return [t, i, "", s, "", a, f, h, d, u, b, _, I, M].filter((R) => R != null)
    .join(`
`);
};
function xE(r) {
  return Xi.from(JSON.stringify(r)).toString("base64");
}
function SE(r) {
  return JSON.parse(Xi.from(r, "base64").toString("utf-8"));
}
function Us(r) {
  if (!r) throw new Error("No recap provided, value is undefined");
  if (!r.att) throw new Error("No `att` property found");
  const e = Object.keys(r.att);
  if (!(e != null && e.length))
    throw new Error("No resources found in `att` property");
  e.forEach((t) => {
    const i = r.att[t];
    if (Array.isArray(i)) throw new Error(`Resource must be an object: ${t}`);
    if (typeof i != "object")
      throw new Error(`Resource must be an object: ${t}`);
    if (!Object.keys(i).length)
      throw new Error(`Resource object is empty: ${t}`);
    Object.keys(i).forEach((s) => {
      const a = i[s];
      if (!Array.isArray(a))
        throw new Error(
          `Ability limits ${s} must be an array of objects, found: ${a}`,
        );
      if (!a.length)
        throw new Error(
          `Value of ${s} is empty array, must be an array with objects`,
        );
      a.forEach((f) => {
        if (typeof f != "object")
          throw new Error(
            `Ability limits (${s}) must be an array of objects, found: ${f}`,
          );
      });
    });
  });
}
function ME(r, e, t, i = {}) {
  return (
    t == null || t.sort((s, a) => s.localeCompare(a)),
    { att: { [r]: IE(e, t, i) } }
  );
}
function IE(r, e, t = {}) {
  e = e == null ? void 0 : e.sort((s, a) => s.localeCompare(a));
  const i = e.map((s) => ({ [`${r}/${s}`]: [t] }));
  return Object.assign({}, ...i);
}
function Kb(r) {
  return Us(r), `urn:recap:${xE(r).replace(/=/g, "")}`;
}
function Io(r) {
  const e = SE(r.replace("urn:recap:", ""));
  return Us(e), e;
}
function DE(r, e, t) {
  const i = ME(r, e, t);
  return Kb(i);
}
function PE(r) {
  return r && r.includes("urn:recap:");
}
function CE(r, e) {
  const t = Io(r),
    i = Io(e),
    s = OE(t, i);
  return Kb(s);
}
function OE(r, e) {
  Us(r), Us(e);
  const t = Object.keys(r.att)
      .concat(Object.keys(e.att))
      .sort((s, a) => s.localeCompare(a)),
    i = { att: {} };
  return (
    t.forEach((s) => {
      var a, f;
      Object.keys(((a = r.att) == null ? void 0 : a[s]) || {})
        .concat(Object.keys(((f = e.att) == null ? void 0 : f[s]) || {}))
        .sort((h, d) => h.localeCompare(d))
        .forEach((h) => {
          var d, u;
          i.att[s] = AE(_E({}, i.att[s]), {
            [h]:
              ((d = r.att[s]) == null ? void 0 : d[h]) ||
              ((u = e.att[s]) == null ? void 0 : u[h]),
          });
        });
    }),
    i
  );
}
function RE(r = "", e) {
  Us(e);
  const t =
    "I further authorize the stated URI to perform the following actions on my behalf: ";
  if (r.includes(t)) return r;
  const i = [];
  let s = 0;
  Object.keys(e.att).forEach((h) => {
    const d = Object.keys(e.att[h]).map((_) => ({
      ability: _.split("/")[0],
      action: _.split("/")[1],
    }));
    d.sort((_, I) => _.action.localeCompare(I.action));
    const u = {};
    d.forEach((_) => {
      u[_.ability] || (u[_.ability] = []), u[_.ability].push(_.action);
    });
    const b = Object.keys(u).map(
      (_) => (s++, `(${s}) '${_}': '${u[_].join("', '")}' for '${h}'.`),
    );
    i.push(b.join(", ").replace(".,", "."));
  });
  const a = i.join(" "),
    f = `${t}${a}`;
  return `${r ? r + " " : ""}${f}`;
}
function fg(r) {
  var e;
  const t = Io(r);
  Us(t);
  const i = (e = t.att) == null ? void 0 : e.eip155;
  return i ? Object.keys(i).map((s) => s.split("/")[1]) : [];
}
function hg(r) {
  const e = Io(r);
  Us(e);
  const t = [];
  return (
    Object.values(e.att).forEach((i) => {
      Object.values(i).forEach((s) => {
        var a;
        (a = s == null ? void 0 : s[0]) != null &&
          a.chains &&
          t.push(s[0].chains);
      });
    }),
    [...new Set(t.flat())]
  );
}
function du(r) {
  if (!r) return;
  const e = r == null ? void 0 : r[r.length - 1];
  return PE(e) ? e : void 0;
}
const Vb = "base10",
  Hr = "base16",
  hs = "base64pad",
  oo = "base64url",
  Lo = "utf8",
  Gb = 0,
  Vn = 1,
  Uo = 2,
  NE = 0,
  lg = 1,
  Ao = 12,
  ed = 32;
function TE() {
  const r = Uv.generateKeyPair();
  return { privateKey: Ar(r.secretKey, Hr), publicKey: Ar(r.publicKey, Hr) };
}
function Rl() {
  const r = Ro.randomBytes(ed);
  return Ar(r, Hr);
}
function qE(r, e) {
  const t = Uv.sharedKey(_r(r, Hr), _r(e, Hr), !0),
    i = new p4.HKDF(Ru.SHA256, t).expand(ed);
  return Ar(i, Hr);
}
function pu(r) {
  const e = Ru.hash(_r(r, Hr));
  return Ar(e, Hr);
}
function $n(r) {
  const e = Ru.hash(_r(r, Lo));
  return Ar(e, Hr);
}
function Wb(r) {
  return _r(`${r}`, Vb);
}
function zs(r) {
  return Number(Ar(r, Vb));
}
function FE(r) {
  const e = Wb(typeof r.type < "u" ? r.type : Gb);
  if (zs(e) === Vn && typeof r.senderPublicKey > "u")
    throw new Error("Missing sender public key for type 1 envelope");
  const t = typeof r.senderPublicKey < "u" ? _r(r.senderPublicKey, Hr) : void 0,
    i = typeof r.iv < "u" ? _r(r.iv, Hr) : Ro.randomBytes(Ao),
    s = new Lv.ChaCha20Poly1305(_r(r.symKey, Hr)).seal(i, _r(r.message, Lo));
  return Jb({
    type: e,
    sealed: s,
    iv: i,
    senderPublicKey: t,
    encoding: r.encoding,
  });
}
function BE(r, e) {
  const t = Wb(Uo),
    i = Ro.randomBytes(Ao),
    s = _r(r, Lo);
  return Jb({ type: t, sealed: s, iv: i, encoding: e });
}
function LE(r) {
  const e = new Lv.ChaCha20Poly1305(_r(r.symKey, Hr)),
    { sealed: t, iv: i } = Do({
      encoded: r.encoded,
      encoding: r == null ? void 0 : r.encoding,
    }),
    s = e.open(i, t);
  if (s === null) throw new Error("Failed to decrypt");
  return Ar(s, Lo);
}
function UE(r, e) {
  const { sealed: t } = Do({ encoded: r, encoding: e });
  return Ar(t, Lo);
}
function Jb(r) {
  const { encoding: e = hs } = r;
  if (zs(r.type) === Uo) return Ar(ou([r.type, r.sealed]), e);
  if (zs(r.type) === Vn) {
    if (typeof r.senderPublicKey > "u")
      throw new Error("Missing sender public key for type 1 envelope");
    return Ar(ou([r.type, r.senderPublicKey, r.iv, r.sealed]), e);
  }
  return Ar(ou([r.type, r.iv, r.sealed]), e);
}
function Do(r) {
  const { encoded: e, encoding: t = hs } = r,
    i = _r(e, t),
    s = i.slice(NE, lg),
    a = lg;
  if (zs(s) === Vn) {
    const u = a + ed,
      b = u + Ao,
      _ = i.slice(a, u),
      I = i.slice(u, b),
      M = i.slice(b);
    return { type: s, sealed: M, iv: I, senderPublicKey: _ };
  }
  if (zs(s) === Uo) {
    const u = i.slice(a),
      b = Ro.randomBytes(Ao);
    return { type: s, sealed: u, iv: b };
  }
  const f = a + Ao,
    h = i.slice(a, f),
    d = i.slice(f);
  return { type: s, sealed: d, iv: h };
}
function zE(r, e) {
  const t = Do({ encoded: r, encoding: e == null ? void 0 : e.encoding });
  return Yb({
    type: zs(t.type),
    senderPublicKey:
      typeof t.senderPublicKey < "u" ? Ar(t.senderPublicKey, Hr) : void 0,
    receiverPublicKey: e == null ? void 0 : e.receiverPublicKey,
  });
}
function Yb(r) {
  const e = (r == null ? void 0 : r.type) || Gb;
  if (e === Vn) {
    if (typeof (r == null ? void 0 : r.senderPublicKey) > "u")
      throw new Error("missing sender public key");
    if (typeof (r == null ? void 0 : r.receiverPublicKey) > "u")
      throw new Error("missing receiver public key");
  }
  return {
    type: e,
    senderPublicKey: r == null ? void 0 : r.senderPublicKey,
    receiverPublicKey: r == null ? void 0 : r.receiverPublicKey,
  };
}
function dg(r) {
  return (
    r.type === Vn &&
    typeof r.senderPublicKey == "string" &&
    typeof r.receiverPublicKey == "string"
  );
}
function pg(r) {
  return r.type === Uo;
}
function kE(r) {
  return new Q_.ec("p256").keyFromPublic(
    {
      x: Xi.from(r.x, "base64").toString("hex"),
      y: Xi.from(r.y, "base64").toString("hex"),
    },
    "hex",
  );
}
function jE(r) {
  let e = r.replace(/-/g, "+").replace(/_/g, "/");
  const t = e.length % 4;
  return t > 0 && (e += "=".repeat(4 - t)), e;
}
function $E(r) {
  return Xi.from(jE(r), "base64");
}
function HE(r, e) {
  const [t, i, s] = r.split("."),
    a = $E(s);
  if (a.length !== 64) throw new Error("Invalid signature length");
  const f = a.slice(0, 32).toString("hex"),
    h = a.slice(32, 64).toString("hex"),
    d = `${t}.${i}`,
    u = new Ru.SHA256().update(Xi.from(d)).digest(),
    b = kE(e),
    _ = Xi.from(u).toString("hex");
  if (!b.verify(_, { r: f, s: h })) throw new Error("Invalid signature");
  return Sl(r).payload;
}
const KE = "irn";
function Nl(r) {
  return (r == null ? void 0 : r.relay) || { protocol: KE };
}
function vo(r) {
  const e = g7[r];
  if (typeof e > "u") throw new Error(`Relay Protocol not supported: ${r}`);
  return e;
}
var VE = Object.defineProperty,
  GE = Object.defineProperties,
  WE = Object.getOwnPropertyDescriptors,
  gg = Object.getOwnPropertySymbols,
  JE = Object.prototype.hasOwnProperty,
  YE = Object.prototype.propertyIsEnumerable,
  vg = (r, e, t) =>
    e in r
      ? VE(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  bg = (r, e) => {
    for (var t in e || (e = {})) JE.call(e, t) && vg(r, t, e[t]);
    if (gg) for (var t of gg(e)) YE.call(e, t) && vg(r, t, e[t]);
    return r;
  },
  QE = (r, e) => GE(r, WE(e));
function XE(r, e = "-") {
  const t = {},
    i = "relay" + e;
  return (
    Object.keys(r).forEach((s) => {
      if (s.startsWith(i)) {
        const a = s.replace(i, ""),
          f = r[s];
        t[a] = f;
      }
    }),
    t
  );
}
function mg(r) {
  if (!r.includes("wc:")) {
    const d = cb(r);
    d != null && d.includes("wc:") && (r = d);
  }
  (r = r.includes("wc://") ? r.replace("wc://", "") : r),
    (r = r.includes("wc:") ? r.replace("wc:", "") : r);
  const e = r.indexOf(":"),
    t = r.indexOf("?") !== -1 ? r.indexOf("?") : void 0,
    i = r.substring(0, e),
    s = r.substring(e + 1, t).split("@"),
    a = typeof t < "u" ? r.substring(t) : "",
    f = mu.parse(a),
    h = typeof f.methods == "string" ? f.methods.split(",") : void 0;
  return {
    protocol: i,
    topic: ZE(s[0]),
    version: parseInt(s[1], 10),
    symKey: f.symKey,
    relay: XE(f),
    methods: h,
    expiryTimestamp: f.expiryTimestamp
      ? parseInt(f.expiryTimestamp, 10)
      : void 0,
  };
}
function ZE(r) {
  return r.startsWith("//") ? r.substring(2) : r;
}
function ex(r, e = "-") {
  const t = "relay",
    i = {};
  return (
    Object.keys(r).forEach((s) => {
      const a = t + e + s;
      r[s] && (i[a] = r[s]);
    }),
    i
  );
}
function yg(r) {
  return (
    `${r.protocol}:${r.topic}@${r.version}?` +
    mu.stringify(
      bg(
        QE(bg({ symKey: r.symKey }, ex(r.relay)), {
          expiryTimestamp: r.expiryTimestamp,
        }),
        r.methods ? { methods: r.methods.join(",") } : {},
      ),
    )
  );
}
function tu(r, e, t) {
  return `${r}?wc_ev=${t}&topic=${e}`;
}
function Pa(r) {
  const e = [];
  return (
    r.forEach((t) => {
      const [i, s] = t.split(":");
      e.push(`${i}:${s}`);
    }),
    e
  );
}
function tx(r) {
  const e = [];
  return (
    Object.values(r).forEach((t) => {
      e.push(...Pa(t.accounts));
    }),
    e
  );
}
function rx(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      Pa(i.accounts).includes(e) && t.push(...i.methods);
    }),
    t
  );
}
function ix(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      Pa(i.accounts).includes(e) && t.push(...i.events);
    }),
    t
  );
}
function td(r) {
  return r.includes(":");
}
function bo(r) {
  return td(r) ? r.split(":")[0] : r;
}
function nx(r) {
  const e = {};
  return (
    r == null ||
      r.forEach((t) => {
        const [i, s] = t.split(":");
        e[i] || (e[i] = { accounts: [], chains: [], events: [] }),
          e[i].accounts.push(t),
          e[i].chains.push(`${i}:${s}`);
      }),
    e
  );
}
function wg(r, e) {
  e = e.map((i) => i.replace("did:pkh:", ""));
  const t = nx(e);
  for (const [i, s] of Object.entries(t))
    s.methods ? (s.methods = uu(s.methods, r)) : (s.methods = r),
      (s.events = ["chainChanged", "accountsChanged"]);
  return t;
}
const sx = {
    INVALID_METHOD: { message: "Invalid method.", code: 1001 },
    INVALID_EVENT: { message: "Invalid event.", code: 1002 },
    INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 },
    INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 },
    INVALID_SESSION_SETTLE_REQUEST: {
      message: "Invalid session settle request.",
      code: 1005,
    },
    UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 },
    UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 },
    UNAUTHORIZED_UPDATE_REQUEST: {
      message: "Unauthorized update request.",
      code: 3003,
    },
    UNAUTHORIZED_EXTEND_REQUEST: {
      message: "Unauthorized extend request.",
      code: 3004,
    },
    USER_REJECTED: { message: "User rejected.", code: 5e3 },
    USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 },
    USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 },
    USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 },
    UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 },
    UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 },
    UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 },
    UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 },
    UNSUPPORTED_NAMESPACE_KEY: {
      message: "Unsupported namespace key.",
      code: 5104,
    },
    USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 },
    SESSION_SETTLEMENT_FAILED: {
      message: "Session settlement failed.",
      code: 7e3,
    },
    WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 },
  },
  ax = {
    NOT_INITIALIZED: { message: "Not initialized.", code: 1 },
    NO_MATCHING_KEY: { message: "No matching key.", code: 2 },
    RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 },
    RESUBSCRIBED: { message: "Resubscribed.", code: 4 },
    MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 },
    EXPIRED: { message: "Expired.", code: 6 },
    UNKNOWN_TYPE: { message: "Unknown type.", code: 7 },
    MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 },
    NON_CONFORMING_NAMESPACES: {
      message: "Non conforming namespaces.",
      code: 9,
    },
  };
function Ae(r, e) {
  const { message: t, code: i } = ax[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function Ut(r, e) {
  const { message: t, code: i } = sx[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function En(r, e) {
  return !!Array.isArray(r);
}
function Po(r) {
  return Object.getPrototypeOf(r) === Object.prototype && Object.keys(r).length;
}
function $r(r) {
  return typeof r > "u";
}
function cr(r, e) {
  return e && $r(r) ? !0 : typeof r == "string" && !!r.trim().length;
}
function rd(r, e) {
  return e && $r(r) ? !0 : typeof r == "number" && !isNaN(r);
}
function ox(r, e) {
  const { requiredNamespaces: t } = e,
    i = Object.keys(r.namespaces),
    s = Object.keys(t);
  let a = !0;
  return qs(s, i)
    ? (i.forEach((f) => {
        const { accounts: h, methods: d, events: u } = r.namespaces[f],
          b = Pa(h),
          _ = t[f];
        (!qs(tb(f, _), b) || !qs(_.methods, d) || !qs(_.events, u)) && (a = !1);
      }),
      a)
    : !1;
}
function Iu(r) {
  return cr(r, !1) && r.includes(":") ? r.split(":").length === 2 : !1;
}
function cx(r) {
  if (cr(r, !1) && r.includes(":")) {
    const e = r.split(":");
    if (e.length === 3) {
      const t = e[0] + ":" + e[1];
      return !!e[2] && Iu(t);
    }
  }
  return !1;
}
function ux(r) {
  function e(t) {
    try {
      return typeof new URL(t) < "u";
    } catch {
      return !1;
    }
  }
  try {
    if (cr(r, !1)) {
      if (e(r)) return !0;
      const t = cb(r);
      return e(t);
    }
  } catch {}
  return !1;
}
function fx(r) {
  var e;
  return (e = r == null ? void 0 : r.proposer) == null ? void 0 : e.publicKey;
}
function hx(r) {
  return r == null ? void 0 : r.topic;
}
function lx(r, e) {
  let t = null;
  return (
    cr(r == null ? void 0 : r.publicKey, !1) ||
      (t = Ae(
        "MISSING_OR_INVALID",
        `${e} controller public key should be a string`,
      )),
    t
  );
}
function _g(r) {
  let e = !0;
  return En(r) ? r.length && (e = r.every((t) => cr(t, !1))) : (e = !1), e;
}
function dx(r, e, t) {
  let i = null;
  return (
    En(e) && e.length
      ? e.forEach((s) => {
          i ||
            Iu(s) ||
            (i = Ut(
              "UNSUPPORTED_CHAINS",
              `${t}, chain ${s} should be a string and conform to "namespace:chainId" format`,
            ));
        })
      : Iu(r) ||
        (i = Ut(
          "UNSUPPORTED_CHAINS",
          `${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`,
        )),
    i
  );
}
function px(r, e, t) {
  let i = null;
  return (
    Object.entries(r).forEach(([s, a]) => {
      if (i) return;
      const f = dx(s, tb(s, a), `${e} ${t}`);
      f && (i = f);
    }),
    i
  );
}
function gx(r, e) {
  let t = null;
  return (
    En(r)
      ? r.forEach((i) => {
          t ||
            cx(i) ||
            (t = Ut(
              "UNSUPPORTED_ACCOUNTS",
              `${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`,
            ));
        })
      : (t = Ut(
          "UNSUPPORTED_ACCOUNTS",
          `${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`,
        )),
    t
  );
}
function vx(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const s = gx(i == null ? void 0 : i.accounts, `${e} namespace`);
      s && (t = s);
    }),
    t
  );
}
function bx(r, e) {
  let t = null;
  return (
    _g(r == null ? void 0 : r.methods)
      ? _g(r == null ? void 0 : r.events) ||
        (t = Ut(
          "UNSUPPORTED_EVENTS",
          `${e}, events should be an array of strings or empty array for no events`,
        ))
      : (t = Ut(
          "UNSUPPORTED_METHODS",
          `${e}, methods should be an array of strings or empty array for no methods`,
        )),
    t
  );
}
function Qb(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const s = bx(i, `${e}, namespace`);
      s && (t = s);
    }),
    t
  );
}
function mx(r, e, t) {
  let i = null;
  if (r && Po(r)) {
    const s = Qb(r, e);
    s && (i = s);
    const a = px(r, e, t);
    a && (i = a);
  } else
    i = Ae("MISSING_OR_INVALID", `${e}, ${t} should be an object with data`);
  return i;
}
function al(r, e) {
  let t = null;
  if (r && Po(r)) {
    const i = Qb(r, e);
    i && (t = i);
    const s = vx(r, e);
    s && (t = s);
  } else
    t = Ae(
      "MISSING_OR_INVALID",
      `${e}, namespaces should be an object with data`,
    );
  return t;
}
function Xb(r) {
  return cr(r.protocol, !0);
}
function yx(r, e) {
  let t = !1;
  return (
    r
      ? r &&
        En(r) &&
        r.length &&
        r.forEach((i) => {
          t = Xb(i);
        })
      : (t = !0),
    t
  );
}
function wx(r) {
  return typeof r == "number";
}
function ri(r) {
  return typeof r < "u" && typeof r !== null;
}
function _x(r) {
  return !(
    !r ||
    typeof r != "object" ||
    !r.code ||
    !rd(r.code, !1) ||
    !r.message ||
    !cr(r.message, !1)
  );
}
function Ax(r) {
  return !($r(r) || !cr(r.method, !1));
}
function Ex(r) {
  return !(
    $r(r) ||
    ($r(r.result) && $r(r.error)) ||
    !rd(r.id, !1) ||
    !cr(r.jsonrpc, !1)
  );
}
function xx(r) {
  return !($r(r) || !cr(r.name, !1));
}
function Ag(r, e) {
  return !(!Iu(e) || !tx(r).includes(e));
}
function Sx(r, e, t) {
  return cr(t, !1) ? rx(r, e).includes(t) : !1;
}
function Mx(r, e, t) {
  return cr(t, !1) ? ix(r, e).includes(t) : !1;
}
function Eg(r, e, t) {
  let i = null;
  const s = Ix(r),
    a = Dx(e),
    f = Object.keys(s),
    h = Object.keys(a),
    d = xg(Object.keys(r)),
    u = xg(Object.keys(e)),
    b = d.filter((_) => !u.includes(_));
  return (
    b.length &&
      (i = Ae(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${b.toString()}
      Received: ${Object.keys(e).toString()}`,
      )),
    qs(f, h) ||
      (i = Ae(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces chains don't satisfy required namespaces.
      Required: ${f.toString()}
      Approved: ${h.toString()}`,
      )),
    Object.keys(e).forEach((_) => {
      if (!_.includes(":") || i) return;
      const I = Pa(e[_].accounts);
      I.includes(_) ||
        (i = Ae(
          "NON_CONFORMING_NAMESPACES",
          `${t} namespaces accounts don't satisfy namespace accounts for ${_}
        Required: ${_}
        Approved: ${I.toString()}`,
        ));
    }),
    f.forEach((_) => {
      i ||
        (qs(s[_].methods, a[_].methods)
          ? qs(s[_].events, a[_].events) ||
            (i = Ae(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces events don't satisfy namespace events for ${_}`,
            ))
          : (i = Ae(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces methods don't satisfy namespace methods for ${_}`,
            )));
    }),
    i
  );
}
function Ix(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      var i;
      t.includes(":")
        ? (e[t] = r[t])
        : (i = r[t].chains) == null ||
          i.forEach((s) => {
            e[s] = { methods: r[t].methods, events: r[t].events };
          });
    }),
    e
  );
}
function xg(r) {
  return [...new Set(r.map((e) => (e.includes(":") ? e.split(":")[0] : e)))];
}
function Dx(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      if (t.includes(":")) e[t] = r[t];
      else {
        const i = Pa(r[t].accounts);
        i == null ||
          i.forEach((s) => {
            e[s] = {
              accounts: r[t].accounts.filter((a) => a.includes(`${s}:`)),
              methods: r[t].methods,
              events: r[t].events,
            };
          });
      }
    }),
    e
  );
}
function Px(r, e) {
  return rd(r, !1) && r <= e.max && r >= e.min;
}
function Sg() {
  const r = Fo();
  return new Promise((e) => {
    switch (r) {
      case li.browser:
        e(Cx());
        break;
      case li.reactNative:
        e(Ox());
        break;
      case li.node:
        e(Rx());
        break;
      default:
        e(!0);
    }
  });
}
function Cx() {
  return qo() && (navigator == null ? void 0 : navigator.onLine);
}
async function Ox() {
  if (xa() && typeof mt < "u" && mt != null && mt.NetInfo) {
    const r = await (mt == null ? void 0 : mt.NetInfo.fetch());
    return r == null ? void 0 : r.isConnected;
  }
  return !0;
}
function Rx() {
  return !0;
}
function Nx(r) {
  switch (Fo()) {
    case li.browser:
      Tx(r);
      break;
    case li.reactNative:
      qx(r);
      break;
  }
}
function Tx(r) {
  !xa() &&
    qo() &&
    (window.addEventListener("online", () => r(!0)),
    window.addEventListener("offline", () => r(!1)));
}
function qx(r) {
  var e;
  xa() &&
    typeof mt < "u" &&
    mt != null &&
    mt.NetInfo &&
    ((e = mt) == null ||
      e.NetInfo.addEventListener((t) => r(t == null ? void 0 : t.isConnected)));
}
const ol = {};
class co {
  static get(e) {
    return ol[e];
  }
  static set(e, t) {
    ol[e] = t;
  }
  static delete(e) {
    delete ol[e];
  }
}
class $s {}
let Fx = class extends $s {
  constructor(e) {
    super();
  }
};
const Mg = Me.FIVE_SECONDS,
  Ca = { pulse: "heartbeat_pulse" };
let Bx = class Zb extends Fx {
  constructor(e) {
    super(e),
      (this.events = new gi.EventEmitter()),
      (this.interval = Mg),
      (this.interval = (e == null ? void 0 : e.interval) || Mg);
  }
  static async init(e) {
    const t = new Zb(e);
    return await t.init(), t;
  }
  async init() {
    await this.initialize();
  }
  stop() {
    clearInterval(this.intervalRef);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async initialize() {
    this.intervalRef = setInterval(
      () => this.pulse(),
      Me.toMiliseconds(this.interval),
    );
  }
  pulse() {
    this.events.emit(Ca.pulse);
  }
};
const Lx =
    /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,
  Ux =
    /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,
  zx = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function kx(r, e) {
  if (
    r === "__proto__" ||
    (r === "constructor" && e && typeof e == "object" && "prototype" in e)
  ) {
    jx(r);
    return;
  }
  return e;
}
function jx(r) {
  console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`);
}
function ru(r, e = {}) {
  if (typeof r != "string") return r;
  const t = r.trim();
  if (r[0] === '"' && r.endsWith('"') && !r.includes("\\"))
    return t.slice(1, -1);
  if (t.length <= 9) {
    const i = t.toLowerCase();
    if (i === "true") return !0;
    if (i === "false") return !1;
    if (i === "undefined") return;
    if (i === "null") return null;
    if (i === "nan") return Number.NaN;
    if (i === "infinity") return Number.POSITIVE_INFINITY;
    if (i === "-infinity") return Number.NEGATIVE_INFINITY;
  }
  if (!zx.test(r)) {
    if (e.strict) throw new SyntaxError("[destr] Invalid JSON");
    return r;
  }
  try {
    if (Lx.test(r) || Ux.test(r)) {
      if (e.strict) throw new Error("[destr] Possible prototype pollution");
      return JSON.parse(r, kx);
    }
    return JSON.parse(r);
  } catch (i) {
    if (e.strict) throw i;
    return r;
  }
}
function $x(r) {
  return !r || typeof r.then != "function" ? Promise.resolve(r) : r;
}
function wr(r, ...e) {
  try {
    return $x(r(...e));
  } catch (t) {
    return Promise.reject(t);
  }
}
function Hx(r) {
  const e = typeof r;
  return r === null || (e !== "object" && e !== "function");
}
function Kx(r) {
  const e = Object.getPrototypeOf(r);
  return !e || e.isPrototypeOf(Object);
}
function gu(r) {
  if (Hx(r)) return String(r);
  if (Kx(r) || Array.isArray(r)) return JSON.stringify(r);
  if (typeof r.toJSON == "function") return gu(r.toJSON());
  throw new Error("[unstorage] Cannot stringify value!");
}
const Tl = "base64:";
function Vx(r) {
  return typeof r == "string" ? r : Tl + Jx(r);
}
function Gx(r) {
  return typeof r != "string" || !r.startsWith(Tl) ? r : Wx(r.slice(Tl.length));
}
function Wx(r) {
  return globalThis.Buffer
    ? Xi.from(r, "base64")
    : Uint8Array.from(globalThis.atob(r), (e) => e.codePointAt(0));
}
function Jx(r) {
  return globalThis.Buffer
    ? Xi.from(r).toString("base64")
    : globalThis.btoa(String.fromCodePoint(...r));
}
function ti(r) {
  var e;
  return (
    (r &&
      ((e = r.split("?")[0]) == null
        ? void 0
        : e
            .replace(/[/\\]/g, ":")
            .replace(/:+/g, ":")
            .replace(/^:|:$/g, ""))) ||
    ""
  );
}
function Yx(...r) {
  return ti(r.join(":"));
}
function iu(r) {
  return (r = ti(r)), r ? r + ":" : "";
}
const Qx = "memory",
  Xx = () => {
    const r = new Map();
    return {
      name: Qx,
      getInstance: () => r,
      hasItem(e) {
        return r.has(e);
      },
      getItem(e) {
        return r.get(e) ?? null;
      },
      getItemRaw(e) {
        return r.get(e) ?? null;
      },
      setItem(e, t) {
        r.set(e, t);
      },
      setItemRaw(e, t) {
        r.set(e, t);
      },
      removeItem(e) {
        r.delete(e);
      },
      getKeys() {
        return [...r.keys()];
      },
      clear() {
        r.clear();
      },
      dispose() {
        r.clear();
      },
    };
  };
function Zx(r = {}) {
  const e = {
      mounts: { "": r.driver || Xx() },
      mountpoints: [""],
      watching: !1,
      watchListeners: [],
      unwatch: {},
    },
    t = (u) => {
      for (const b of e.mountpoints)
        if (u.startsWith(b))
          return {
            base: b,
            relativeKey: u.slice(b.length),
            driver: e.mounts[b],
          };
      return { base: "", relativeKey: u, driver: e.mounts[""] };
    },
    i = (u, b) =>
      e.mountpoints
        .filter((_) => _.startsWith(u) || (b && u.startsWith(_)))
        .map((_) => ({
          relativeBase: u.length > _.length ? u.slice(_.length) : void 0,
          mountpoint: _,
          driver: e.mounts[_],
        })),
    s = (u, b) => {
      if (e.watching) {
        b = ti(b);
        for (const _ of e.watchListeners) _(u, b);
      }
    },
    a = async () => {
      if (!e.watching) {
        e.watching = !0;
        for (const u in e.mounts) e.unwatch[u] = await Ig(e.mounts[u], s, u);
      }
    },
    f = async () => {
      if (e.watching) {
        for (const u in e.unwatch) await e.unwatch[u]();
        (e.unwatch = {}), (e.watching = !1);
      }
    },
    h = (u, b, _) => {
      const I = new Map(),
        M = (C) => {
          let R = I.get(C.base);
          return (
            R ||
              ((R = { driver: C.driver, base: C.base, items: [] }),
              I.set(C.base, R)),
            R
          );
        };
      for (const C of u) {
        const R = typeof C == "string",
          L = ti(R ? C : C.key),
          V = R ? void 0 : C.value,
          F = R || !C.options ? b : { ...b, ...C.options },
          K = t(L);
        M(K).items.push({
          key: L,
          value: V,
          relativeKey: K.relativeKey,
          options: F,
        });
      }
      return Promise.all([...I.values()].map((C) => _(C))).then((C) =>
        C.flat(),
      );
    },
    d = {
      hasItem(u, b = {}) {
        u = ti(u);
        const { relativeKey: _, driver: I } = t(u);
        return wr(I.hasItem, _, b);
      },
      getItem(u, b = {}) {
        u = ti(u);
        const { relativeKey: _, driver: I } = t(u);
        return wr(I.getItem, _, b).then((M) => ru(M));
      },
      getItems(u, b = {}) {
        return h(u, b, (_) =>
          _.driver.getItems
            ? wr(
                _.driver.getItems,
                _.items.map((I) => ({
                  key: I.relativeKey,
                  options: I.options,
                })),
                b,
              ).then((I) =>
                I.map((M) => ({ key: Yx(_.base, M.key), value: ru(M.value) })),
              )
            : Promise.all(
                _.items.map((I) =>
                  wr(_.driver.getItem, I.relativeKey, I.options).then((M) => ({
                    key: I.key,
                    value: ru(M),
                  })),
                ),
              ),
        );
      },
      getItemRaw(u, b = {}) {
        u = ti(u);
        const { relativeKey: _, driver: I } = t(u);
        return I.getItemRaw
          ? wr(I.getItemRaw, _, b)
          : wr(I.getItem, _, b).then((M) => Gx(M));
      },
      async setItem(u, b, _ = {}) {
        if (b === void 0) return d.removeItem(u);
        u = ti(u);
        const { relativeKey: I, driver: M } = t(u);
        M.setItem &&
          (await wr(M.setItem, I, gu(b), _), M.watch || s("update", u));
      },
      async setItems(u, b) {
        await h(u, b, async (_) => {
          if (_.driver.setItems)
            return wr(
              _.driver.setItems,
              _.items.map((I) => ({
                key: I.relativeKey,
                value: gu(I.value),
                options: I.options,
              })),
              b,
            );
          _.driver.setItem &&
            (await Promise.all(
              _.items.map((I) =>
                wr(_.driver.setItem, I.relativeKey, gu(I.value), I.options),
              ),
            ));
        });
      },
      async setItemRaw(u, b, _ = {}) {
        if (b === void 0) return d.removeItem(u, _);
        u = ti(u);
        const { relativeKey: I, driver: M } = t(u);
        if (M.setItemRaw) await wr(M.setItemRaw, I, b, _);
        else if (M.setItem) await wr(M.setItem, I, Vx(b), _);
        else return;
        M.watch || s("update", u);
      },
      async removeItem(u, b = {}) {
        typeof b == "boolean" && (b = { removeMeta: b }), (u = ti(u));
        const { relativeKey: _, driver: I } = t(u);
        I.removeItem &&
          (await wr(I.removeItem, _, b),
          (b.removeMeta || b.removeMata) &&
            (await wr(I.removeItem, _ + "$", b)),
          I.watch || s("remove", u));
      },
      async getMeta(u, b = {}) {
        typeof b == "boolean" && (b = { nativeOnly: b }), (u = ti(u));
        const { relativeKey: _, driver: I } = t(u),
          M = Object.create(null);
        if (
          (I.getMeta && Object.assign(M, await wr(I.getMeta, _, b)),
          !b.nativeOnly)
        ) {
          const C = await wr(I.getItem, _ + "$", b).then((R) => ru(R));
          C &&
            typeof C == "object" &&
            (typeof C.atime == "string" && (C.atime = new Date(C.atime)),
            typeof C.mtime == "string" && (C.mtime = new Date(C.mtime)),
            Object.assign(M, C));
        }
        return M;
      },
      setMeta(u, b, _ = {}) {
        return this.setItem(u + "$", b, _);
      },
      removeMeta(u, b = {}) {
        return this.removeItem(u + "$", b);
      },
      async getKeys(u, b = {}) {
        u = iu(u);
        const _ = i(u, !0);
        let I = [];
        const M = [];
        for (const C of _) {
          const R = await wr(C.driver.getKeys, C.relativeBase, b);
          for (const L of R) {
            const V = C.mountpoint + ti(L);
            I.some((F) => V.startsWith(F)) || M.push(V);
          }
          I = [C.mountpoint, ...I.filter((L) => !L.startsWith(C.mountpoint))];
        }
        return u
          ? M.filter((C) => C.startsWith(u) && C[C.length - 1] !== "$")
          : M.filter((C) => C[C.length - 1] !== "$");
      },
      async clear(u, b = {}) {
        (u = iu(u)),
          await Promise.all(
            i(u, !1).map(async (_) => {
              if (_.driver.clear) return wr(_.driver.clear, _.relativeBase, b);
              if (_.driver.removeItem) {
                const I = await _.driver.getKeys(_.relativeBase || "", b);
                return Promise.all(I.map((M) => _.driver.removeItem(M, b)));
              }
            }),
          );
      },
      async dispose() {
        await Promise.all(Object.values(e.mounts).map((u) => Dg(u)));
      },
      async watch(u) {
        return (
          await a(),
          e.watchListeners.push(u),
          async () => {
            (e.watchListeners = e.watchListeners.filter((b) => b !== u)),
              e.watchListeners.length === 0 && (await f());
          }
        );
      },
      async unwatch() {
        (e.watchListeners = []), await f();
      },
      mount(u, b) {
        if (((u = iu(u)), u && e.mounts[u]))
          throw new Error(`already mounted at ${u}`);
        return (
          u &&
            (e.mountpoints.push(u),
            e.mountpoints.sort((_, I) => I.length - _.length)),
          (e.mounts[u] = b),
          e.watching &&
            Promise.resolve(Ig(b, s, u))
              .then((_) => {
                e.unwatch[u] = _;
              })
              .catch(console.error),
          d
        );
      },
      async unmount(u, b = !0) {
        var _, I;
        (u = iu(u)),
          !(!u || !e.mounts[u]) &&
            (e.watching &&
              u in e.unwatch &&
              ((I = (_ = e.unwatch)[u]) == null || I.call(_),
              delete e.unwatch[u]),
            b && (await Dg(e.mounts[u])),
            (e.mountpoints = e.mountpoints.filter((M) => M !== u)),
            delete e.mounts[u]);
      },
      getMount(u = "") {
        u = ti(u) + ":";
        const b = t(u);
        return { driver: b.driver, base: b.base };
      },
      getMounts(u = "", b = {}) {
        return (
          (u = ti(u)),
          i(u, b.parents).map((I) => ({ driver: I.driver, base: I.mountpoint }))
        );
      },
      keys: (u, b = {}) => d.getKeys(u, b),
      get: (u, b = {}) => d.getItem(u, b),
      set: (u, b, _ = {}) => d.setItem(u, b, _),
      has: (u, b = {}) => d.hasItem(u, b),
      del: (u, b = {}) => d.removeItem(u, b),
      remove: (u, b = {}) => d.removeItem(u, b),
    };
  return d;
}
function Ig(r, e, t) {
  return r.watch ? r.watch((i, s) => e(i, t + s)) : () => {};
}
async function Dg(r) {
  typeof r.dispose == "function" && (await wr(r.dispose));
}
function Hs(r) {
  return new Promise((e, t) => {
    (r.oncomplete = r.onsuccess = () => e(r.result)),
      (r.onabort = r.onerror = () => t(r.error));
  });
}
function e2(r, e) {
  const t = indexedDB.open(r);
  t.onupgradeneeded = () => t.result.createObjectStore(e);
  const i = Hs(t);
  return (s, a) => i.then((f) => a(f.transaction(e, s).objectStore(e)));
}
let cl;
function zo() {
  return cl || (cl = e2("keyval-store", "keyval")), cl;
}
function Pg(r, e = zo()) {
  return e("readonly", (t) => Hs(t.get(r)));
}
function eS(r, e, t = zo()) {
  return t("readwrite", (i) => (i.put(e, r), Hs(i.transaction)));
}
function tS(r, e = zo()) {
  return e("readwrite", (t) => (t.delete(r), Hs(t.transaction)));
}
function rS(r = zo()) {
  return r("readwrite", (e) => (e.clear(), Hs(e.transaction)));
}
function iS(r, e) {
  return (
    (r.openCursor().onsuccess = function () {
      this.result && (e(this.result), this.result.continue());
    }),
    Hs(r.transaction)
  );
}
function nS(r = zo()) {
  return r("readonly", (e) => {
    if (e.getAllKeys) return Hs(e.getAllKeys());
    const t = [];
    return iS(e, (i) => t.push(i.key)).then(() => t);
  });
}
const sS = "idb-keyval";
var aS = (r = {}) => {
  const e = r.base && r.base.length > 0 ? `${r.base}:` : "",
    t = (s) => e + s;
  let i;
  return (
    r.dbName && r.storeName && (i = e2(r.dbName, r.storeName)),
    {
      name: sS,
      options: r,
      async hasItem(s) {
        return !(typeof (await Pg(t(s), i)) > "u");
      },
      async getItem(s) {
        return (await Pg(t(s), i)) ?? null;
      },
      setItem(s, a) {
        return eS(t(s), a, i);
      },
      removeItem(s) {
        return tS(t(s), i);
      },
      getKeys() {
        return nS(i);
      },
      clear() {
        return rS(i);
      },
    }
  );
};
const oS = "WALLET_CONNECT_V2_INDEXED_DB",
  cS = "keyvaluestorage";
let uS = class {
  constructor() {
    this.indexedDb = Zx({ driver: aS({ dbName: oS, storeName: cS }) });
  }
  async getKeys() {
    return this.indexedDb.getKeys();
  }
  async getEntries() {
    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(
      (e) => [e.key, e.value],
    );
  }
  async getItem(e) {
    const t = await this.indexedDb.getItem(e);
    if (t !== null) return t;
  }
  async setItem(e, t) {
    await this.indexedDb.setItem(e, Gn(t));
  }
  async removeItem(e) {
    await this.indexedDb.removeItem(e);
  }
};
var ul =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
        ? window
        : typeof mt < "u"
          ? mt
          : typeof self < "u"
            ? self
            : {},
  vu = { exports: {} };
(function () {
  let r;
  function e() {}
  (r = e),
    (r.prototype.getItem = function (t) {
      return this.hasOwnProperty(t) ? String(this[t]) : null;
    }),
    (r.prototype.setItem = function (t, i) {
      this[t] = String(i);
    }),
    (r.prototype.removeItem = function (t) {
      delete this[t];
    }),
    (r.prototype.clear = function () {
      const t = this;
      Object.keys(t).forEach(function (i) {
        (t[i] = void 0), delete t[i];
      });
    }),
    (r.prototype.key = function (t) {
      return (t = t || 0), Object.keys(this)[t];
    }),
    r.prototype.__defineGetter__("length", function () {
      return Object.keys(this).length;
    }),
    typeof ul < "u" && ul.localStorage
      ? (vu.exports = ul.localStorage)
      : typeof window < "u" && window.localStorage
        ? (vu.exports = window.localStorage)
        : (vu.exports = new e());
})();
function fS(r) {
  var e;
  return [r[0], Ls((e = r[1]) != null ? e : "")];
}
class hS {
  constructor() {
    this.localStorage = vu.exports;
  }
  async getKeys() {
    return Object.keys(this.localStorage);
  }
  async getEntries() {
    return Object.entries(this.localStorage).map(fS);
  }
  async getItem(e) {
    const t = this.localStorage.getItem(e);
    if (t !== null) return Ls(t);
  }
  async setItem(e, t) {
    this.localStorage.setItem(e, Gn(t));
  }
  async removeItem(e) {
    this.localStorage.removeItem(e);
  }
}
const lS = "wc_storage_version",
  Cg = 1,
  dS = async (r, e, t) => {
    const i = lS,
      s = await e.getItem(i);
    if (s && s >= Cg) {
      t(e);
      return;
    }
    const a = await r.getKeys();
    if (!a.length) {
      t(e);
      return;
    }
    const f = [];
    for (; a.length; ) {
      const h = a.shift();
      if (!h) continue;
      const d = h.toLowerCase();
      if (
        d.includes("wc@") ||
        d.includes("walletconnect") ||
        d.includes("wc_") ||
        d.includes("wallet_connect")
      ) {
        const u = await r.getItem(h);
        await e.setItem(h, u), f.push(h);
      }
    }
    await e.setItem(i, Cg), t(e), pS(r, f);
  },
  pS = async (r, e) => {
    e.length &&
      e.forEach(async (t) => {
        await r.removeItem(t);
      });
  };
let gS = class {
  constructor() {
    (this.initialized = !1),
      (this.setInitialized = (t) => {
        (this.storage = t), (this.initialized = !0);
      });
    const e = new hS();
    this.storage = e;
    try {
      const t = new uS();
      dS(e, t, this.setInitialized);
    } catch {
      this.initialized = !0;
    }
  }
  async getKeys() {
    return await this.initialize(), this.storage.getKeys();
  }
  async getEntries() {
    return await this.initialize(), this.storage.getEntries();
  }
  async getItem(e) {
    return await this.initialize(), this.storage.getItem(e);
  }
  async setItem(e, t) {
    return await this.initialize(), this.storage.setItem(e, t);
  }
  async removeItem(e) {
    return await this.initialize(), this.storage.removeItem(e);
  }
  async initialize() {
    this.initialized ||
      (await new Promise((e) => {
        const t = setInterval(() => {
          this.initialized && (clearInterval(t), e());
        }, 20);
      }));
  }
};
var fl, Og;
function vS() {
  if (Og) return fl;
  Og = 1;
  function r(t) {
    try {
      return JSON.stringify(t);
    } catch {
      return '"[Circular]"';
    }
  }
  fl = e;
  function e(t, i, s) {
    var a = (s && s.stringify) || r,
      f = 1;
    if (typeof t == "object" && t !== null) {
      var h = i.length + f;
      if (h === 1) return t;
      var d = new Array(h);
      d[0] = a(t);
      for (var u = 1; u < h; u++) d[u] = a(i[u]);
      return d.join(" ");
    }
    if (typeof t != "string") return t;
    var b = i.length;
    if (b === 0) return t;
    for (
      var _ = "", I = 1 - f, M = -1, C = (t && t.length) || 0, R = 0;
      R < C;

    ) {
      if (t.charCodeAt(R) === 37 && R + 1 < C) {
        switch (((M = M > -1 ? M : 0), t.charCodeAt(R + 1))) {
          case 100:
          case 102:
            if (I >= b || i[I] == null) break;
            M < R && (_ += t.slice(M, R)),
              (_ += Number(i[I])),
              (M = R + 2),
              R++;
            break;
          case 105:
            if (I >= b || i[I] == null) break;
            M < R && (_ += t.slice(M, R)),
              (_ += Math.floor(Number(i[I]))),
              (M = R + 2),
              R++;
            break;
          case 79:
          case 111:
          case 106:
            if (I >= b || i[I] === void 0) break;
            M < R && (_ += t.slice(M, R));
            var L = typeof i[I];
            if (L === "string") {
              (_ += "'" + i[I] + "'"), (M = R + 2), R++;
              break;
            }
            if (L === "function") {
              (_ += i[I].name || "<anonymous>"), (M = R + 2), R++;
              break;
            }
            (_ += a(i[I])), (M = R + 2), R++;
            break;
          case 115:
            if (I >= b) break;
            M < R && (_ += t.slice(M, R)),
              (_ += String(i[I])),
              (M = R + 2),
              R++;
            break;
          case 37:
            M < R && (_ += t.slice(M, R)), (_ += "%"), (M = R + 2), R++, I--;
            break;
        }
        ++I;
      }
      ++R;
    }
    return M === -1 ? t : (M < C && (_ += t.slice(M)), _);
  }
  return fl;
}
var hl, Rg;
function bS() {
  if (Rg) return hl;
  Rg = 1;
  const r = vS();
  hl = s;
  const e = z().console || {},
    t = {
      mapHttpRequest: C,
      mapHttpResponse: C,
      wrapRequestSerializer: R,
      wrapResponseSerializer: R,
      wrapErrorSerializer: R,
      req: C,
      res: C,
      err: I,
    };
  function i(q, E) {
    return Array.isArray(q)
      ? q.filter(function (te) {
          return te !== "!stdSerializers.err";
        })
      : q === !0
        ? Object.keys(E)
        : !1;
  }
  function s(q) {
    (q = q || {}), (q.browser = q.browser || {});
    const E = q.browser.transmit;
    if (E && typeof E.send != "function")
      throw Error("pino: transmit option must have a send function");
    const U = q.browser.write || e;
    q.browser.write && (q.browser.asObject = !0);
    const te = q.serializers || {},
      oe = i(q.browser.serialize, te);
    let k = q.browser.serialize;
    Array.isArray(q.browser.serialize) &&
      q.browser.serialize.indexOf("!stdSerializers.err") > -1 &&
      (k = !1);
    const y = ["error", "fatal", "warn", "info", "debug", "trace"];
    typeof U == "function" &&
      (U.error = U.fatal = U.warn = U.info = U.debug = U.trace = U),
      q.enabled === !1 && (q.level = "silent");
    const c = q.level || "info",
      l = Object.create(U);
    l.log || (l.log = L),
      Object.defineProperty(l, "levelVal", { get: w }),
      Object.defineProperty(l, "level", { get: A, set: P });
    const p = {
      transmit: E,
      serialize: oe,
      asObject: q.browser.asObject,
      levels: y,
      timestamp: M(q),
    };
    (l.levels = s.levels),
      (l.level = c),
      (l.setMaxListeners =
        l.getMaxListeners =
        l.emit =
        l.addListener =
        l.on =
        l.prependListener =
        l.once =
        l.prependOnceListener =
        l.removeListener =
        l.removeAllListeners =
        l.listeners =
        l.listenerCount =
        l.eventNames =
        l.write =
        l.flush =
          L),
      (l.serializers = te),
      (l._serialize = oe),
      (l._stdErrSerialize = k),
      (l.child = S),
      E && (l._logEvent = _());
    function w() {
      return this.level === "silent" ? 1 / 0 : this.levels.values[this.level];
    }
    function A() {
      return this._level;
    }
    function P(g) {
      if (g !== "silent" && !this.levels.values[g])
        throw Error("unknown level " + g);
      (this._level = g),
        a(p, l, "error", "log"),
        a(p, l, "fatal", "error"),
        a(p, l, "warn", "error"),
        a(p, l, "info", "log"),
        a(p, l, "debug", "log"),
        a(p, l, "trace", "log");
    }
    function S(g, m) {
      if (!g) throw new Error("missing bindings for child Pino");
      (m = m || {}), oe && g.serializers && (m.serializers = g.serializers);
      const N = m.serializers;
      if (oe && N) {
        var Q = Object.assign({}, te, N),
          re = q.browser.serialize === !0 ? Object.keys(Q) : oe;
        delete g.serializers, d([g], re, Q, this._stdErrSerialize);
      }
      function O(Z) {
        (this._childLevel = (Z._childLevel | 0) + 1),
          (this.error = u(Z, g, "error")),
          (this.fatal = u(Z, g, "fatal")),
          (this.warn = u(Z, g, "warn")),
          (this.info = u(Z, g, "info")),
          (this.debug = u(Z, g, "debug")),
          (this.trace = u(Z, g, "trace")),
          Q && ((this.serializers = Q), (this._serialize = re)),
          E && (this._logEvent = _([].concat(Z._logEvent.bindings, g)));
      }
      return (O.prototype = this), new O(this);
    }
    return l;
  }
  (s.levels = {
    values: { fatal: 60, error: 50, warn: 40, info: 30, debug: 20, trace: 10 },
    labels: {
      10: "trace",
      20: "debug",
      30: "info",
      40: "warn",
      50: "error",
      60: "fatal",
    },
  }),
    (s.stdSerializers = t),
    (s.stdTimeFunctions = Object.assign(
      {},
      { nullTime: V, epochTime: F, unixTime: K, isoTime: B },
    ));
  function a(q, E, U, te) {
    const oe = Object.getPrototypeOf(E);
    (E[U] =
      E.levelVal > E.levels.values[U] ? L : oe[U] ? oe[U] : e[U] || e[te] || L),
      f(q, E, U);
  }
  function f(q, E, U) {
    (!q.transmit && E[U] === L) ||
      (E[U] = (function (te) {
        return function () {
          const k = q.timestamp(),
            y = new Array(arguments.length),
            c =
              Object.getPrototypeOf && Object.getPrototypeOf(this) === e
                ? e
                : this;
          for (var l = 0; l < y.length; l++) y[l] = arguments[l];
          if (
            (q.serialize &&
              !q.asObject &&
              d(y, this._serialize, this.serializers, this._stdErrSerialize),
            q.asObject ? te.call(c, h(this, U, y, k)) : te.apply(c, y),
            q.transmit)
          ) {
            const p = q.transmit.level || E.level,
              w = s.levels.values[p],
              A = s.levels.values[U];
            if (A < w) return;
            b(
              this,
              {
                ts: k,
                methodLevel: U,
                methodValue: A,
                transmitLevel: p,
                transmitValue: s.levels.values[q.transmit.level || E.level],
                send: q.transmit.send,
                val: E.levelVal,
              },
              y,
            );
          }
        };
      })(E[U]));
  }
  function h(q, E, U, te) {
    q._serialize && d(U, q._serialize, q.serializers, q._stdErrSerialize);
    const oe = U.slice();
    let k = oe[0];
    const y = {};
    te && (y.time = te), (y.level = s.levels.values[E]);
    let c = (q._childLevel | 0) + 1;
    if ((c < 1 && (c = 1), k !== null && typeof k == "object")) {
      for (; c-- && typeof oe[0] == "object"; ) Object.assign(y, oe.shift());
      k = oe.length ? r(oe.shift(), oe) : void 0;
    } else typeof k == "string" && (k = r(oe.shift(), oe));
    return k !== void 0 && (y.msg = k), y;
  }
  function d(q, E, U, te) {
    for (const oe in q)
      if (te && q[oe] instanceof Error) q[oe] = s.stdSerializers.err(q[oe]);
      else if (typeof q[oe] == "object" && !Array.isArray(q[oe]))
        for (const k in q[oe])
          E && E.indexOf(k) > -1 && k in U && (q[oe][k] = U[k](q[oe][k]));
  }
  function u(q, E, U) {
    return function () {
      const te = new Array(1 + arguments.length);
      te[0] = E;
      for (var oe = 1; oe < te.length; oe++) te[oe] = arguments[oe - 1];
      return q[U].apply(this, te);
    };
  }
  function b(q, E, U) {
    const te = E.send,
      oe = E.ts,
      k = E.methodLevel,
      y = E.methodValue,
      c = E.val,
      l = q._logEvent.bindings;
    d(
      U,
      q._serialize || Object.keys(q.serializers),
      q.serializers,
      q._stdErrSerialize === void 0 ? !0 : q._stdErrSerialize,
    ),
      (q._logEvent.ts = oe),
      (q._logEvent.messages = U.filter(function (p) {
        return l.indexOf(p) === -1;
      })),
      (q._logEvent.level.label = k),
      (q._logEvent.level.value = y),
      te(k, q._logEvent, c),
      (q._logEvent = _(l));
  }
  function _(q) {
    return {
      ts: 0,
      messages: [],
      bindings: q || [],
      level: { label: "", value: 0 },
    };
  }
  function I(q) {
    const E = { type: q.constructor.name, msg: q.message, stack: q.stack };
    for (const U in q) E[U] === void 0 && (E[U] = q[U]);
    return E;
  }
  function M(q) {
    return typeof q.timestamp == "function"
      ? q.timestamp
      : q.timestamp === !1
        ? V
        : F;
  }
  function C() {
    return {};
  }
  function R(q) {
    return q;
  }
  function L() {}
  function V() {
    return !1;
  }
  function F() {
    return Date.now();
  }
  function K() {
    return Math.round(Date.now() / 1e3);
  }
  function B() {
    return new Date(Date.now()).toISOString();
  }
  function z() {
    function q(E) {
      return typeof E < "u" && E;
    }
    try {
      return (
        typeof globalThis < "u" ||
          Object.defineProperty(Object.prototype, "globalThis", {
            get: function () {
              return (
                delete Object.prototype.globalThis, (this.globalThis = this)
              );
            },
            configurable: !0,
          }),
        globalThis
      );
    } catch {
      return q(self) || q(window) || q(this) || {};
    }
  }
  return hl;
}
var ga = bS();
const ko = kl(ga),
  mS = { level: "info" },
  jo = "custom_context",
  id = 1e3 * 1024;
let yS = class {
    constructor(e) {
      (this.nodeValue = e),
        (this.sizeInBytes = new TextEncoder().encode(this.nodeValue).length),
        (this.next = null);
    }
    get value() {
      return this.nodeValue;
    }
    get size() {
      return this.sizeInBytes;
    }
  },
  Ng = class {
    constructor(e) {
      (this.head = null),
        (this.tail = null),
        (this.lengthInNodes = 0),
        (this.maxSizeInBytes = e),
        (this.sizeInBytes = 0);
    }
    append(e) {
      const t = new yS(e);
      if (t.size > this.maxSizeInBytes)
        throw new Error(
          `[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`,
        );
      for (; this.size + t.size > this.maxSizeInBytes; ) this.shift();
      this.head
        ? (this.tail && (this.tail.next = t), (this.tail = t))
        : ((this.head = t), (this.tail = t)),
        this.lengthInNodes++,
        (this.sizeInBytes += t.size);
    }
    shift() {
      if (!this.head) return;
      const e = this.head;
      (this.head = this.head.next),
        this.head || (this.tail = null),
        this.lengthInNodes--,
        (this.sizeInBytes -= e.size);
    }
    toArray() {
      const e = [];
      let t = this.head;
      for (; t !== null; ) e.push(t.value), (t = t.next);
      return e;
    }
    get length() {
      return this.lengthInNodes;
    }
    get size() {
      return this.sizeInBytes;
    }
    toOrderedArray() {
      return Array.from(this);
    }
    [Symbol.iterator]() {
      let e = this.head;
      return {
        next: () => {
          if (!e) return { done: !0, value: null };
          const t = e.value;
          return (e = e.next), { done: !1, value: t };
        },
      };
    }
  },
  t2 = class {
    constructor(e, t = id) {
      (this.level = e ?? "error"),
        (this.levelValue = ga.levels.values[this.level]),
        (this.MAX_LOG_SIZE_IN_BYTES = t),
        (this.logs = new Ng(this.MAX_LOG_SIZE_IN_BYTES));
    }
    forwardToConsole(e, t) {
      t === ga.levels.values.error
        ? console.error(e)
        : t === ga.levels.values.warn
          ? console.warn(e)
          : t === ga.levels.values.debug
            ? console.debug(e)
            : t === ga.levels.values.trace
              ? console.trace(e)
              : console.log(e);
    }
    appendToLogs(e) {
      this.logs.append(Gn({ timestamp: new Date().toISOString(), log: e }));
      const t = typeof e == "string" ? JSON.parse(e).level : e.level;
      t >= this.levelValue && this.forwardToConsole(e, t);
    }
    getLogs() {
      return this.logs;
    }
    clearLogs() {
      this.logs = new Ng(this.MAX_LOG_SIZE_IN_BYTES);
    }
    getLogArray() {
      return Array.from(this.logs);
    }
    logsToBlob(e) {
      const t = this.getLogArray();
      return (
        t.push(Gn({ extraMetadata: e })),
        new Blob(t, { type: "application/json" })
      );
    }
  },
  wS = class {
    constructor(e, t = id) {
      this.baseChunkLogger = new t2(e, t);
    }
    write(e) {
      this.baseChunkLogger.appendToLogs(e);
    }
    getLogs() {
      return this.baseChunkLogger.getLogs();
    }
    clearLogs() {
      this.baseChunkLogger.clearLogs();
    }
    getLogArray() {
      return this.baseChunkLogger.getLogArray();
    }
    logsToBlob(e) {
      return this.baseChunkLogger.logsToBlob(e);
    }
    downloadLogsBlobInBrowser(e) {
      const t = URL.createObjectURL(this.logsToBlob(e)),
        i = document.createElement("a");
      (i.href = t),
        (i.download = `walletconnect-logs-${new Date().toISOString()}.txt`),
        document.body.appendChild(i),
        i.click(),
        document.body.removeChild(i),
        URL.revokeObjectURL(t);
    }
  };
class _S {
  constructor(e, t = id) {
    this.baseChunkLogger = new t2(e, t);
  }
  write(e) {
    this.baseChunkLogger.appendToLogs(e);
  }
  getLogs() {
    return this.baseChunkLogger.getLogs();
  }
  clearLogs() {
    this.baseChunkLogger.clearLogs();
  }
  getLogArray() {
    return this.baseChunkLogger.getLogArray();
  }
  logsToBlob(e) {
    return this.baseChunkLogger.logsToBlob(e);
  }
}
var AS = Object.defineProperty,
  ES = Object.defineProperties,
  xS = Object.getOwnPropertyDescriptors,
  Tg = Object.getOwnPropertySymbols,
  SS = Object.prototype.hasOwnProperty,
  MS = Object.prototype.propertyIsEnumerable,
  qg = (r, e, t) =>
    e in r
      ? AS(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Du = (r, e) => {
    for (var t in e || (e = {})) SS.call(e, t) && qg(r, t, e[t]);
    if (Tg) for (var t of Tg(e)) MS.call(e, t) && qg(r, t, e[t]);
    return r;
  },
  Pu = (r, e) => ES(r, xS(e));
function Bu(r) {
  return Pu(Du({}, r), { level: (r == null ? void 0 : r.level) || mS.level });
}
function IS(r, e = jo) {
  return r[e] || "";
}
function DS(r, e, t = jo) {
  return (r[t] = e), r;
}
function si(r, e = jo) {
  let t = "";
  return (
    typeof r.bindings > "u" ? (t = IS(r, e)) : (t = r.bindings().context || ""),
    t
  );
}
function PS(r, e, t = jo) {
  const i = si(r, t);
  return i.trim() ? `${i}/${e}` : e;
}
function Kr(r, e, t = jo) {
  const i = PS(r, e, t),
    s = r.child({ context: i });
  return DS(s, i, t);
}
function CS(r) {
  var e, t;
  const i = new wS((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: ko(
      Pu(Du({}, r.opts), {
        level: "trace",
        browser: Pu(Du({}, (t = r.opts) == null ? void 0 : t.browser), {
          write: (s) => i.write(s),
        }),
      }),
    ),
    chunkLoggerController: i,
  };
}
function OS(r) {
  var e;
  const t = new _S((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: ko(Pu(Du({}, r.opts), { level: "trace" }), t),
    chunkLoggerController: t,
  };
}
function RS(r) {
  return typeof r.loggerOverride < "u" && typeof r.loggerOverride != "string"
    ? { logger: r.loggerOverride, chunkLoggerController: null }
    : typeof window < "u"
      ? CS(r)
      : OS(r);
}
let NS = class extends $s {
    constructor(e) {
      super(), (this.opts = e), (this.protocol = "wc"), (this.version = 2);
    }
  },
  TS = class extends $s {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t), (this.records = new Map());
    }
  },
  qS = class {
    constructor(e, t) {
      (this.logger = e), (this.core = t);
    }
  },
  FS = class extends $s {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  BS = class extends $s {
    constructor(e) {
      super();
    }
  },
  LS = class {
    constructor(e, t, i, s) {
      (this.core = e), (this.logger = t), (this.name = i);
    }
  },
  US = class extends $s {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  zS = class extends $s {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t);
    }
  },
  kS = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.store = i);
    }
  },
  jS = class {
    constructor(e, t) {
      (this.projectId = e), (this.logger = t);
    }
  },
  $S = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.telemetryEnabled = i);
    }
  },
  HS = class {
    constructor(e) {
      (this.opts = e), (this.protocol = "wc"), (this.version = 2);
    }
  },
  KS = class {
    constructor(e) {
      this.client = e;
    }
  };
const VS = "PARSE_ERROR",
  GS = "INVALID_REQUEST",
  WS = "METHOD_NOT_FOUND",
  JS = "INVALID_PARAMS",
  r2 = "INTERNAL_ERROR",
  nd = "SERVER_ERROR",
  YS = [-32700, -32600, -32601, -32602, -32603],
  Eo = {
    [VS]: { code: -32700, message: "Parse error" },
    [GS]: { code: -32600, message: "Invalid Request" },
    [WS]: { code: -32601, message: "Method not found" },
    [JS]: { code: -32602, message: "Invalid params" },
    [r2]: { code: -32603, message: "Internal error" },
    [nd]: { code: -32e3, message: "Server error" },
  },
  i2 = nd;
function QS(r) {
  return YS.includes(r);
}
function Fg(r) {
  return Object.keys(Eo).includes(r) ? Eo[r] : Eo[i2];
}
function XS(r) {
  const e = Object.values(Eo).find((t) => t.code === r);
  return e || Eo[i2];
}
function n2(r, e, t) {
  return r.message.includes("getaddrinfo ENOTFOUND") ||
    r.message.includes("connect ECONNREFUSED")
    ? new Error(`Unavailable ${t} RPC url at ${e}`)
    : r;
}
var ll = {},
  Un = {},
  Bg;
function ZS() {
  if (Bg) return Un;
  (Bg = 1),
    Object.defineProperty(Un, "__esModule", { value: !0 }),
    (Un.isBrowserCryptoAvailable =
      Un.getSubtleCrypto =
      Un.getBrowerCrypto =
        void 0);
  function r() {
    return (
      (vn === null || vn === void 0 ? void 0 : vn.crypto) ||
      (vn === null || vn === void 0 ? void 0 : vn.msCrypto) ||
      {}
    );
  }
  Un.getBrowerCrypto = r;
  function e() {
    const i = r();
    return i.subtle || i.webkitSubtle;
  }
  Un.getSubtleCrypto = e;
  function t() {
    return !!r() && !!e();
  }
  return (Un.isBrowserCryptoAvailable = t), Un;
}
var zn = {},
  Lg;
function eM() {
  if (Lg) return zn;
  (Lg = 1),
    Object.defineProperty(zn, "__esModule", { value: !0 }),
    (zn.isBrowser = zn.isNode = zn.isReactNative = void 0);
  function r() {
    return (
      typeof document > "u" &&
      typeof navigator < "u" &&
      navigator.product === "ReactNative"
    );
  }
  zn.isReactNative = r;
  function e() {
    return (
      typeof process < "u" &&
      typeof process.versions < "u" &&
      typeof process.versions.node < "u"
    );
  }
  zn.isNode = e;
  function t() {
    return !r() && !e();
  }
  return (zn.isBrowser = t), zn;
}
var Ug;
function tM() {
  return (
    Ug ||
      ((Ug = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        const e = Co;
        e.__exportStar(ZS(), r), e.__exportStar(eM(), r);
      })(ll)),
    ll
  );
}
var rM = tM();
function cs(r = 3) {
  const e = Date.now() * Math.pow(10, r),
    t = Math.floor(Math.random() * Math.pow(10, r));
  return e + t;
}
function Fs(r = 6) {
  return BigInt(cs(r));
}
function ls(r, e, t) {
  return { id: t || cs(), jsonrpc: "2.0", method: r, params: e };
}
function Lu(r, e) {
  return { id: r, jsonrpc: "2.0", result: e };
}
function Uu(r, e, t) {
  return { id: r, jsonrpc: "2.0", error: iM(e) };
}
function iM(r, e) {
  return typeof r > "u"
    ? Fg(r2)
    : (typeof r == "string" &&
        (r = Object.assign(Object.assign({}, Fg(nd)), { message: r })),
      QS(r.code) && (r = XS(r.code)),
      r);
}
class nM {}
class sM extends nM {
  constructor() {
    super();
  }
}
class aM extends sM {
  constructor(e) {
    super();
  }
}
const oM = "^https?:",
  cM = "^wss?:";
function uM(r) {
  const e = r.match(new RegExp(/^\w+:/, "gi"));
  if (!(!e || !e.length)) return e[0];
}
function s2(r, e) {
  const t = uM(r);
  return typeof t > "u" ? !1 : new RegExp(e).test(t);
}
function zg(r) {
  return s2(r, oM);
}
function kg(r) {
  return s2(r, cM);
}
function fM(r) {
  return new RegExp("wss?://localhost(:d{2,5})?").test(r);
}
function a2(r) {
  return (
    typeof r == "object" && "id" in r && "jsonrpc" in r && r.jsonrpc === "2.0"
  );
}
function sd(r) {
  return a2(r) && "method" in r;
}
function zu(r) {
  return a2(r) && (pn(r) || Oi(r));
}
function pn(r) {
  return "result" in r;
}
function Oi(r) {
  return "error" in r;
}
class tn extends aM {
  constructor(e) {
    super(e),
      (this.events = new gi.EventEmitter()),
      (this.hasRegisteredEventListeners = !1),
      (this.connection = this.setConnection(e)),
      this.connection.connected && this.registerEventListeners();
  }
  async connect(e = this.connection) {
    await this.open(e);
  }
  async disconnect() {
    await this.close();
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async request(e, t) {
    return this.requestStrict(
      ls(e.method, e.params || [], e.id || Fs().toString()),
      t,
    );
  }
  async requestStrict(e, t) {
    return new Promise(async (i, s) => {
      if (!this.connection.connected)
        try {
          await this.open();
        } catch (a) {
          s(a);
        }
      this.events.on(`${e.id}`, (a) => {
        Oi(a) ? s(a.error) : i(a.result);
      });
      try {
        await this.connection.send(e, t);
      } catch (a) {
        s(a);
      }
    });
  }
  setConnection(e = this.connection) {
    return e;
  }
  onPayload(e) {
    this.events.emit("payload", e),
      zu(e)
        ? this.events.emit(`${e.id}`, e)
        : this.events.emit("message", { type: e.method, data: e.params });
  }
  onClose(e) {
    e &&
      e.code === 3e3 &&
      this.events.emit(
        "error",
        new Error(
          `WebSocket connection closed abnormally with code: ${e.code} ${e.reason ? `(${e.reason})` : ""}`,
        ),
      ),
      this.events.emit("disconnect");
  }
  async open(e = this.connection) {
    (this.connection === e && this.connection.connected) ||
      (this.connection.connected && this.close(),
      typeof e == "string" &&
        (await this.connection.open(e), (e = this.connection)),
      (this.connection = this.setConnection(e)),
      await this.connection.open(),
      this.registerEventListeners(),
      this.events.emit("connect"));
  }
  async close() {
    await this.connection.close();
  }
  registerEventListeners() {
    this.hasRegisteredEventListeners ||
      (this.connection.on("payload", (e) => this.onPayload(e)),
      this.connection.on("close", (e) => this.onClose(e)),
      this.connection.on("error", (e) => this.events.emit("error", e)),
      this.connection.on("register_error", (e) => this.onClose()),
      (this.hasRegisteredEventListeners = !0));
  }
}
const hM = () =>
    typeof WebSocket < "u"
      ? WebSocket
      : typeof mt < "u" && typeof mt.WebSocket < "u"
        ? mt.WebSocket
        : typeof window < "u" && typeof window.WebSocket < "u"
          ? window.WebSocket
          : typeof self < "u" && typeof self.WebSocket < "u"
            ? self.WebSocket
            : require("ws"),
  lM = () =>
    typeof WebSocket < "u" ||
    (typeof mt < "u" && typeof mt.WebSocket < "u") ||
    (typeof window < "u" && typeof window.WebSocket < "u") ||
    (typeof self < "u" && typeof self.WebSocket < "u"),
  jg = (r) => r.split("?")[0],
  $g = 10,
  dM = hM();
let pM = class {
  constructor(e) {
    if (
      ((this.url = e),
      (this.events = new gi.EventEmitter()),
      (this.registering = !1),
      !kg(e))
    )
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`,
      );
    this.url = e;
  }
  get connected() {
    return typeof this.socket < "u";
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    return new Promise((e, t) => {
      if (typeof this.socket > "u") {
        t(new Error("Connection already closed"));
        return;
      }
      (this.socket.onclose = (i) => {
        this.onClose(i), e();
      }),
        this.socket.close();
    });
  }
  async send(e) {
    typeof this.socket > "u" && (this.socket = await this.register());
    try {
      this.socket.send(Gn(e));
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  register(e = this.url) {
    if (!kg(e))
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`,
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, s) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), s(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.socket > "u"))
                return s(
                  new Error("WebSocket connection is missing or invalid"),
                );
              i(this.socket);
            });
        })
      );
    }
    return (
      (this.url = e),
      (this.registering = !0),
      new Promise((t, i) => {
        const s = new URLSearchParams(e).get("origin"),
          a = rM.isReactNative()
            ? { headers: { origin: s } }
            : { rejectUnauthorized: !fM(e) },
          f = new dM(e, [], a);
        lM()
          ? (f.onerror = (h) => {
              const d = h;
              i(this.emitError(d.error));
            })
          : f.on("error", (h) => {
              i(this.emitError(h));
            }),
          (f.onopen = () => {
            this.onOpen(f), t(f);
          });
      })
    );
  }
  onOpen(e) {
    (e.onmessage = (t) => this.onPayload(t)),
      (e.onclose = (t) => this.onClose(t)),
      (this.socket = e),
      (this.registering = !1),
      this.events.emit("open");
  }
  onClose(e) {
    (this.socket = void 0),
      (this.registering = !1),
      this.events.emit("close", e);
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? Ls(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      s = i.message || i.toString(),
      a = Uu(e, s);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return n2(e, jg(t), "WS");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > $g && this.events.setMaxListeners($g);
  }
  emitError(e) {
    const t = this.parseError(
      new Error(
        (e == null ? void 0 : e.message) ||
          `WebSocket connection failed for host: ${jg(this.url)}`,
      ),
    );
    return this.events.emit("register_error", t), t;
  }
};
var mo = { exports: {} };
mo.exports;
var Hg;
function gM() {
  return (
    Hg ||
      ((Hg = 1),
      (function (r, e) {
        var t = 200,
          i = "__lodash_hash_undefined__",
          s = 1,
          a = 2,
          f = 9007199254740991,
          h = "[object Arguments]",
          d = "[object Array]",
          u = "[object AsyncFunction]",
          b = "[object Boolean]",
          _ = "[object Date]",
          I = "[object Error]",
          M = "[object Function]",
          C = "[object GeneratorFunction]",
          R = "[object Map]",
          L = "[object Number]",
          V = "[object Null]",
          F = "[object Object]",
          K = "[object Promise]",
          B = "[object Proxy]",
          z = "[object RegExp]",
          q = "[object Set]",
          E = "[object String]",
          U = "[object Symbol]",
          te = "[object Undefined]",
          oe = "[object WeakMap]",
          k = "[object ArrayBuffer]",
          y = "[object DataView]",
          c = "[object Float32Array]",
          l = "[object Float64Array]",
          p = "[object Int8Array]",
          w = "[object Int16Array]",
          A = "[object Int32Array]",
          P = "[object Uint8Array]",
          S = "[object Uint8ClampedArray]",
          g = "[object Uint16Array]",
          m = "[object Uint32Array]",
          N = /[\\^$.*+?()[\]{}|]/g,
          Q = /^\[object .+?Constructor\]$/,
          re = /^(?:0|[1-9]\d*)$/,
          O = {};
        (O[c] = O[l] = O[p] = O[w] = O[A] = O[P] = O[S] = O[g] = O[m] = !0),
          (O[h] =
            O[d] =
            O[k] =
            O[b] =
            O[y] =
            O[_] =
            O[I] =
            O[M] =
            O[R] =
            O[L] =
            O[F] =
            O[z] =
            O[q] =
            O[E] =
            O[oe] =
              !1);
        var Z = typeof vn == "object" && vn && vn.Object === Object && vn,
          $ = typeof self == "object" && self && self.Object === Object && self,
          W = Z || $ || Function("return this")(),
          J = e && !e.nodeType && e,
          x = J && !0 && r && !r.nodeType && r,
          G = x && x.exports === J,
          ae = G && Z.process,
          ce = (function () {
            try {
              return ae && ae.binding && ae.binding("util");
            } catch {}
          })(),
          fe = ce && ce.isTypedArray;
        function be(Y, ie) {
          for (
            var pe = -1, Ue = Y == null ? 0 : Y.length, $t = 0, pt = [];
            ++pe < Ue;

          ) {
            var Jt = Y[pe];
            ie(Jt, pe, Y) && (pt[$t++] = Jt);
          }
          return pt;
        }
        function we(Y, ie) {
          for (var pe = -1, Ue = ie.length, $t = Y.length; ++pe < Ue; )
            Y[$t + pe] = ie[pe];
          return Y;
        }
        function Ie(Y, ie) {
          for (var pe = -1, Ue = Y == null ? 0 : Y.length; ++pe < Ue; )
            if (ie(Y[pe], pe, Y)) return !0;
          return !1;
        }
        function Je(Y, ie) {
          for (var pe = -1, Ue = Array(Y); ++pe < Y; ) Ue[pe] = ie(pe);
          return Ue;
        }
        function Ce(Y) {
          return function (ie) {
            return Y(ie);
          };
        }
        function Te(Y, ie) {
          return Y.has(ie);
        }
        function Se(Y, ie) {
          return Y == null ? void 0 : Y[ie];
        }
        function me(Y) {
          var ie = -1,
            pe = Array(Y.size);
          return (
            Y.forEach(function (Ue, $t) {
              pe[++ie] = [$t, Ue];
            }),
            pe
          );
        }
        function Oe(Y, ie) {
          return function (pe) {
            return Y(ie(pe));
          };
        }
        function Re(Y) {
          var ie = -1,
            pe = Array(Y.size);
          return (
            Y.forEach(function (Ue) {
              pe[++ie] = Ue;
            }),
            pe
          );
        }
        var ve = Array.prototype,
          Ne = Function.prototype,
          Ee = Object.prototype,
          ye = W["__core-js_shared__"],
          Le = Ne.toString,
          De = Ee.hasOwnProperty,
          _e = (function () {
            var Y = /[^.]+$/.exec((ye && ye.keys && ye.keys.IE_PROTO) || "");
            return Y ? "Symbol(src)_1." + Y : "";
          })(),
          He = Ee.toString,
          Ve = RegExp(
            "^" +
              Le.call(De)
                .replace(N, "\\$&")
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  "$1.*?",
                ) +
              "$",
          ),
          xe = G ? W.Buffer : void 0,
          Ke = W.Symbol,
          ht = W.Uint8Array,
          Ge = Ee.propertyIsEnumerable,
          _t = ve.splice,
          lt = Ke ? Ke.toStringTag : void 0,
          Ye = Object.getOwnPropertySymbols,
          xt = xe ? xe.isBuffer : void 0,
          It = Oe(Object.keys, Object),
          qe = ai(W, "DataView"),
          Xe = ai(W, "Map"),
          tt = ai(W, "Promise"),
          Fe = ai(W, "Set"),
          et = ai(W, "WeakMap"),
          Ze = ai(Object, "create"),
          ze = Dn(qe),
          ut = Dn(Xe),
          rt = Dn(tt),
          ke = Dn(Fe),
          it = Dn(et),
          st = Ke ? Ke.prototype : void 0,
          Be = st ? st.valueOf : void 0;
        function Qe(Y) {
          var ie = -1,
            pe = Y == null ? 0 : Y.length;
          for (this.clear(); ++ie < pe; ) {
            var Ue = Y[ie];
            this.set(Ue[0], Ue[1]);
          }
        }
        function ft() {
          (this.__data__ = Ze ? Ze(null) : {}), (this.size = 0);
        }
        function je(Y) {
          var ie = this.has(Y) && delete this.__data__[Y];
          return (this.size -= ie ? 1 : 0), ie;
        }
        function Nt(Y) {
          var ie = this.__data__;
          if (Ze) {
            var pe = ie[Y];
            return pe === i ? void 0 : pe;
          }
          return De.call(ie, Y) ? ie[Y] : void 0;
        }
        function Tt(Y) {
          var ie = this.__data__;
          return Ze ? ie[Y] !== void 0 : De.call(ie, Y);
        }
        function at(Y, ie) {
          var pe = this.__data__;
          return (
            (this.size += this.has(Y) ? 0 : 1),
            (pe[Y] = Ze && ie === void 0 ? i : ie),
            this
          );
        }
        (Qe.prototype.clear = ft),
          (Qe.prototype.delete = je),
          (Qe.prototype.get = Nt),
          (Qe.prototype.has = Tt),
          (Qe.prototype.set = at);
        function bt(Y) {
          var ie = -1,
            pe = Y == null ? 0 : Y.length;
          for (this.clear(); ++ie < pe; ) {
            var Ue = Y[ie];
            this.set(Ue[0], Ue[1]);
          }
        }
        function Dr() {
          (this.__data__ = []), (this.size = 0);
        }
        function Pr(Y) {
          var ie = this.__data__,
            pe = ps(ie, Y);
          if (pe < 0) return !1;
          var Ue = ie.length - 1;
          return pe == Ue ? ie.pop() : _t.call(ie, pe, 1), --this.size, !0;
        }
        function Cr(Y) {
          var ie = this.__data__,
            pe = ps(ie, Y);
          return pe < 0 ? void 0 : ie[pe][1];
        }
        function Or(Y) {
          return ps(this.__data__, Y) > -1;
        }
        function Rr(Y, ie) {
          var pe = this.__data__,
            Ue = ps(pe, Y);
          return (
            Ue < 0 ? (++this.size, pe.push([Y, ie])) : (pe[Ue][1] = ie), this
          );
        }
        (bt.prototype.clear = Dr),
          (bt.prototype.delete = Pr),
          (bt.prototype.get = Cr),
          (bt.prototype.has = Or),
          (bt.prototype.set = Rr);
        function er(Y) {
          var ie = -1,
            pe = Y == null ? 0 : Y.length;
          for (this.clear(); ++ie < pe; ) {
            var Ue = Y[ie];
            this.set(Ue[0], Ue[1]);
          }
        }
        function Vr() {
          (this.size = 0),
            (this.__data__ = {
              hash: new Qe(),
              map: new (Xe || bt)(),
              string: new Qe(),
            });
        }
        function Ti(Y) {
          var ie = Jn(this, Y).delete(Y);
          return (this.size -= ie ? 1 : 0), ie;
        }
        function Gr(Y) {
          return Jn(this, Y).get(Y);
        }
        function qi(Y) {
          return Jn(this, Y).has(Y);
        }
        function Fi(Y, ie) {
          var pe = Jn(this, Y),
            Ue = pe.size;
          return pe.set(Y, ie), (this.size += pe.size == Ue ? 0 : 1), this;
        }
        (er.prototype.clear = Vr),
          (er.prototype.delete = Ti),
          (er.prototype.get = Gr),
          (er.prototype.has = qi),
          (er.prototype.set = Fi);
        function Wr(Y) {
          var ie = -1,
            pe = Y == null ? 0 : Y.length;
          for (this.__data__ = new er(); ++ie < pe; ) this.add(Y[ie]);
        }
        function vi(Y) {
          return this.__data__.set(Y, i), this;
        }
        function bi(Y) {
          return this.__data__.has(Y);
        }
        (Wr.prototype.add = Wr.prototype.push = vi), (Wr.prototype.has = bi);
        function hr(Y) {
          var ie = (this.__data__ = new bt(Y));
          this.size = ie.size;
        }
        function Bi() {
          (this.__data__ = new bt()), (this.size = 0);
        }
        function Li(Y) {
          var ie = this.__data__,
            pe = ie.delete(Y);
          return (this.size = ie.size), pe;
        }
        function Ui(Y) {
          return this.__data__.get(Y);
        }
        function ds(Y) {
          return this.__data__.has(Y);
        }
        function Ho(Y, ie) {
          var pe = this.__data__;
          if (pe instanceof bt) {
            var Ue = pe.__data__;
            if (!Xe || Ue.length < t - 1)
              return Ue.push([Y, ie]), (this.size = ++pe.size), this;
            pe = this.__data__ = new er(Ue);
          }
          return pe.set(Y, ie), (this.size = pe.size), this;
        }
        (hr.prototype.clear = Bi),
          (hr.prototype.delete = Li),
          (hr.prototype.get = Ui),
          (hr.prototype.has = ds),
          (hr.prototype.set = Ho);
        function Ko(Y, ie) {
          var pe = Ys(Y),
            Ue = !pe && ic(Y),
            $t = !pe && !Ue && Ta(Y),
            pt = !pe && !Ue && !$t && ac(Y),
            Jt = pe || Ue || $t || pt,
            ur = Jt ? Je(Y.length, String) : [],
            Ot = ur.length;
          for (var Ht in Y)
            De.call(Y, Ht) &&
              !(
                Jt &&
                (Ht == "length" ||
                  ($t && (Ht == "offset" || Ht == "parent")) ||
                  (pt &&
                    (Ht == "buffer" ||
                      Ht == "byteLength" ||
                      Ht == "byteOffset")) ||
                  Xo(Ht, Ot))
              ) &&
              ur.push(Ht);
          return ur;
        }
        function ps(Y, ie) {
          for (var pe = Y.length; pe--; ) if (rc(Y[pe][0], ie)) return pe;
          return -1;
        }
        function Ra(Y, ie, pe) {
          var Ue = ie(Y);
          return Ys(Y) ? Ue : we(Ue, pe(Y));
        }
        function gs(Y) {
          return Y == null
            ? Y === void 0
              ? te
              : V
            : lt && lt in Object(Y)
              ? Yo(Y)
              : Ku(Y);
        }
        function Na(Y) {
          return bs(Y) && gs(Y) == h;
        }
        function vs(Y, ie, pe, Ue, $t) {
          return Y === ie
            ? !0
            : Y == null || ie == null || (!bs(Y) && !bs(ie))
              ? Y !== Y && ie !== ie
              : Vo(Y, ie, pe, Ue, vs, $t);
        }
        function Vo(Y, ie, pe, Ue, $t, pt) {
          var Jt = Ys(Y),
            ur = Ys(ie),
            Ot = Jt ? d : nn(Y),
            Ht = ur ? d : nn(ie);
          (Ot = Ot == h ? F : Ot), (Ht = Ht == h ? F : Ht);
          var nr = Ot == F,
            Jr = Ht == F,
            fr = Ot == Ht;
          if (fr && Ta(Y)) {
            if (!Ta(ie)) return !1;
            (Jt = !0), (nr = !1);
          }
          if (fr && !nr)
            return (
              pt || (pt = new hr()),
              Jt || ac(Y)
                ? Ws(Y, ie, pe, Ue, $t, pt)
                : Hu(Y, ie, Ot, pe, Ue, $t, pt)
            );
          if (!(pe & s)) {
            var Yt = nr && De.call(Y, "__wrapped__"),
              Fr = Jr && De.call(ie, "__wrapped__");
            if (Yt || Fr) {
              var zi = Yt ? Y.value() : Y,
                mi = Fr ? ie.value() : ie;
              return pt || (pt = new hr()), $t(zi, mi, pe, Ue, pt);
            }
          }
          return fr ? (pt || (pt = new hr()), Jo(Y, ie, pe, Ue, $t, pt)) : !1;
        }
        function $u(Y) {
          if (!sc(Y) || ec(Y)) return !1;
          var ie = Qs(Y) ? Ve : Q;
          return ie.test(Dn(Y));
        }
        function Go(Y) {
          return bs(Y) && nc(Y.length) && !!O[gs(Y)];
        }
        function Wo(Y) {
          if (!tc(Y)) return It(Y);
          var ie = [];
          for (var pe in Object(Y))
            De.call(Y, pe) && pe != "constructor" && ie.push(pe);
          return ie;
        }
        function Ws(Y, ie, pe, Ue, $t, pt) {
          var Jt = pe & s,
            ur = Y.length,
            Ot = ie.length;
          if (ur != Ot && !(Jt && Ot > ur)) return !1;
          var Ht = pt.get(Y);
          if (Ht && pt.get(ie)) return Ht == ie;
          var nr = -1,
            Jr = !0,
            fr = pe & a ? new Wr() : void 0;
          for (pt.set(Y, ie), pt.set(ie, Y); ++nr < ur; ) {
            var Yt = Y[nr],
              Fr = ie[nr];
            if (Ue)
              var zi = Jt
                ? Ue(Fr, Yt, nr, ie, Y, pt)
                : Ue(Yt, Fr, nr, Y, ie, pt);
            if (zi !== void 0) {
              if (zi) continue;
              Jr = !1;
              break;
            }
            if (fr) {
              if (
                !Ie(ie, function (mi, sn) {
                  if (!Te(fr, sn) && (Yt === mi || $t(Yt, mi, pe, Ue, pt)))
                    return fr.push(sn);
                })
              ) {
                Jr = !1;
                break;
              }
            } else if (!(Yt === Fr || $t(Yt, Fr, pe, Ue, pt))) {
              Jr = !1;
              break;
            }
          }
          return pt.delete(Y), pt.delete(ie), Jr;
        }
        function Hu(Y, ie, pe, Ue, $t, pt, Jt) {
          switch (pe) {
            case y:
              if (
                Y.byteLength != ie.byteLength ||
                Y.byteOffset != ie.byteOffset
              )
                return !1;
              (Y = Y.buffer), (ie = ie.buffer);
            case k:
              return !(
                Y.byteLength != ie.byteLength || !pt(new ht(Y), new ht(ie))
              );
            case b:
            case _:
            case L:
              return rc(+Y, +ie);
            case I:
              return Y.name == ie.name && Y.message == ie.message;
            case z:
            case E:
              return Y == ie + "";
            case R:
              var ur = me;
            case q:
              var Ot = Ue & s;
              if ((ur || (ur = Re), Y.size != ie.size && !Ot)) return !1;
              var Ht = Jt.get(Y);
              if (Ht) return Ht == ie;
              (Ue |= a), Jt.set(Y, ie);
              var nr = Ws(ur(Y), ur(ie), Ue, $t, pt, Jt);
              return Jt.delete(Y), nr;
            case U:
              if (Be) return Be.call(Y) == Be.call(ie);
          }
          return !1;
        }
        function Jo(Y, ie, pe, Ue, $t, pt) {
          var Jt = pe & s,
            ur = Js(Y),
            Ot = ur.length,
            Ht = Js(ie),
            nr = Ht.length;
          if (Ot != nr && !Jt) return !1;
          for (var Jr = Ot; Jr--; ) {
            var fr = ur[Jr];
            if (!(Jt ? fr in ie : De.call(ie, fr))) return !1;
          }
          var Yt = pt.get(Y);
          if (Yt && pt.get(ie)) return Yt == ie;
          var Fr = !0;
          pt.set(Y, ie), pt.set(ie, Y);
          for (var zi = Jt; ++Jr < Ot; ) {
            fr = ur[Jr];
            var mi = Y[fr],
              sn = ie[fr];
            if (Ue)
              var qa = Jt
                ? Ue(sn, mi, fr, ie, Y, pt)
                : Ue(mi, sn, fr, Y, ie, pt);
            if (!(qa === void 0 ? mi === sn || $t(mi, sn, pe, Ue, pt) : qa)) {
              Fr = !1;
              break;
            }
            zi || (zi = fr == "constructor");
          }
          if (Fr && !zi) {
            var ms = Y.constructor,
              vr = ie.constructor;
            ms != vr &&
              "constructor" in Y &&
              "constructor" in ie &&
              !(
                typeof ms == "function" &&
                ms instanceof ms &&
                typeof vr == "function" &&
                vr instanceof vr
              ) &&
              (Fr = !1);
          }
          return pt.delete(Y), pt.delete(ie), Fr;
        }
        function Js(Y) {
          return Ra(Y, Wu, Qo);
        }
        function Jn(Y, ie) {
          var pe = Y.__data__;
          return Zo(ie)
            ? pe[typeof ie == "string" ? "string" : "hash"]
            : pe.map;
        }
        function ai(Y, ie) {
          var pe = Se(Y, ie);
          return $u(pe) ? pe : void 0;
        }
        function Yo(Y) {
          var ie = De.call(Y, lt),
            pe = Y[lt];
          try {
            Y[lt] = void 0;
            var Ue = !0;
          } catch {}
          var $t = He.call(Y);
          return Ue && (ie ? (Y[lt] = pe) : delete Y[lt]), $t;
        }
        var Qo = Ye
            ? function (Y) {
                return Y == null
                  ? []
                  : ((Y = Object(Y)),
                    be(Ye(Y), function (ie) {
                      return Ge.call(Y, ie);
                    }));
              }
            : jt,
          nn = gs;
        ((qe && nn(new qe(new ArrayBuffer(1))) != y) ||
          (Xe && nn(new Xe()) != R) ||
          (tt && nn(tt.resolve()) != K) ||
          (Fe && nn(new Fe()) != q) ||
          (et && nn(new et()) != oe)) &&
          (nn = function (Y) {
            var ie = gs(Y),
              pe = ie == F ? Y.constructor : void 0,
              Ue = pe ? Dn(pe) : "";
            if (Ue)
              switch (Ue) {
                case ze:
                  return y;
                case ut:
                  return R;
                case rt:
                  return K;
                case ke:
                  return q;
                case it:
                  return oe;
              }
            return ie;
          });
        function Xo(Y, ie) {
          return (
            (ie = ie ?? f),
            !!ie &&
              (typeof Y == "number" || re.test(Y)) &&
              Y > -1 &&
              Y % 1 == 0 &&
              Y < ie
          );
        }
        function Zo(Y) {
          var ie = typeof Y;
          return ie == "string" ||
            ie == "number" ||
            ie == "symbol" ||
            ie == "boolean"
            ? Y !== "__proto__"
            : Y === null;
        }
        function ec(Y) {
          return !!_e && _e in Y;
        }
        function tc(Y) {
          var ie = Y && Y.constructor,
            pe = (typeof ie == "function" && ie.prototype) || Ee;
          return Y === pe;
        }
        function Ku(Y) {
          return He.call(Y);
        }
        function Dn(Y) {
          if (Y != null) {
            try {
              return Le.call(Y);
            } catch {}
            try {
              return Y + "";
            } catch {}
          }
          return "";
        }
        function rc(Y, ie) {
          return Y === ie || (Y !== Y && ie !== ie);
        }
        var ic = Na(
            (function () {
              return arguments;
            })(),
          )
            ? Na
            : function (Y) {
                return bs(Y) && De.call(Y, "callee") && !Ge.call(Y, "callee");
              },
          Ys = Array.isArray;
        function Vu(Y) {
          return Y != null && nc(Y.length) && !Qs(Y);
        }
        var Ta = xt || zt;
        function Gu(Y, ie) {
          return vs(Y, ie);
        }
        function Qs(Y) {
          if (!sc(Y)) return !1;
          var ie = gs(Y);
          return ie == M || ie == C || ie == u || ie == B;
        }
        function nc(Y) {
          return typeof Y == "number" && Y > -1 && Y % 1 == 0 && Y <= f;
        }
        function sc(Y) {
          var ie = typeof Y;
          return Y != null && (ie == "object" || ie == "function");
        }
        function bs(Y) {
          return Y != null && typeof Y == "object";
        }
        var ac = fe ? Ce(fe) : Go;
        function Wu(Y) {
          return Vu(Y) ? Ko(Y) : Wo(Y);
        }
        function jt() {
          return [];
        }
        function zt() {
          return !1;
        }
        r.exports = Gu;
      })(mo, mo.exports)),
    mo.exports
  );
}
var vM = gM();
const bM = kl(vM),
  o2 = "wc",
  c2 = 2,
  ad = "core",
  xn = `${o2}@2:${ad}:`,
  mM = { name: ad, logger: "error" },
  yM = { database: ":memory:" },
  wM = "crypto",
  Kg = "client_ed25519_seed",
  _M = Me.ONE_DAY,
  AM = "keychain",
  EM = "0.3",
  xM = "messages",
  SM = "0.3",
  MM = Me.SIX_HOURS,
  IM = "publisher",
  u2 = "irn",
  DM = "error",
  f2 = "wss://relay.walletconnect.org",
  PM = "relayer",
  kr = {
    message: "relayer_message",
    message_ack: "relayer_message_ack",
    connect: "relayer_connect",
    disconnect: "relayer_disconnect",
    error: "relayer_error",
    connection_stalled: "relayer_connection_stalled",
    transport_closed: "relayer_transport_closed",
    publish: "relayer_publish",
  },
  CM = "_subscription",
  Di = {
    payload: "payload",
    connect: "connect",
    disconnect: "disconnect",
    error: "error",
  },
  OM = 0.1,
  ql = "2.17.0",
  Gt = { link_mode: "link_mode", relay: "relay" },
  RM = "0.3",
  NM = "WALLETCONNECT_CLIENT_ID",
  Vg = "WALLETCONNECT_LINK_MODE_APPS",
  gn = {
    created: "subscription_created",
    deleted: "subscription_deleted",
    expired: "subscription_expired",
    disabled: "subscription_disabled",
    sync: "subscription_sync",
    resubscribed: "subscription_resubscribed",
  },
  TM = "subscription",
  qM = "0.3",
  FM = Me.FIVE_SECONDS * 1e3,
  BM = "pairing",
  LM = "0.3",
  uo = {
    wc_pairingDelete: {
      req: { ttl: Me.ONE_DAY, prompt: !1, tag: 1e3 },
      res: { ttl: Me.ONE_DAY, prompt: !1, tag: 1001 },
    },
    wc_pairingPing: {
      req: { ttl: Me.THIRTY_SECONDS, prompt: !1, tag: 1002 },
      res: { ttl: Me.THIRTY_SECONDS, prompt: !1, tag: 1003 },
    },
    unregistered_method: {
      req: { ttl: Me.ONE_DAY, prompt: !1, tag: 0 },
      res: { ttl: Me.ONE_DAY, prompt: !1, tag: 0 },
    },
  },
  Ts = {
    create: "pairing_create",
    expire: "pairing_expire",
    delete: "pairing_delete",
    ping: "pairing_ping",
  },
  Vi = {
    created: "history_created",
    updated: "history_updated",
    deleted: "history_deleted",
    sync: "history_sync",
  },
  UM = "history",
  zM = "0.3",
  kM = "expirer",
  Pi = {
    created: "expirer_created",
    deleted: "expirer_deleted",
    expired: "expirer_expired",
    sync: "expirer_sync",
  },
  jM = "0.3",
  $M = "verify-api",
  HM = "https://verify.walletconnect.com",
  h2 = "https://verify.walletconnect.org",
  xo = h2,
  KM = `${xo}/v3`,
  VM = [HM, h2],
  GM = "echo",
  WM = "https://echo.walletconnect.com",
  hn = {
    pairing_started: "pairing_started",
    pairing_uri_validation_success: "pairing_uri_validation_success",
    pairing_uri_not_expired: "pairing_uri_not_expired",
    store_new_pairing: "store_new_pairing",
    subscribing_pairing_topic: "subscribing_pairing_topic",
    subscribe_pairing_topic_success: "subscribe_pairing_topic_success",
    existing_pairing: "existing_pairing",
    pairing_not_expired: "pairing_not_expired",
    emit_inactive_pairing: "emit_inactive_pairing",
    emit_session_proposal: "emit_session_proposal",
    subscribing_to_pairing_topic: "subscribing_to_pairing_topic",
  },
  kn = {
    no_wss_connection: "no_wss_connection",
    no_internet_connection: "no_internet_connection",
    malformed_pairing_uri: "malformed_pairing_uri",
    active_pairing_already_exists: "active_pairing_already_exists",
    subscribe_pairing_topic_failure: "subscribe_pairing_topic_failure",
    pairing_expired: "pairing_expired",
    proposal_expired: "proposal_expired",
    proposal_listener_not_found: "proposal_listener_not_found",
  },
  Gi = {
    session_approve_started: "session_approve_started",
    proposal_not_expired: "proposal_not_expired",
    session_namespaces_validation_success:
      "session_namespaces_validation_success",
    create_session_topic: "create_session_topic",
    subscribing_session_topic: "subscribing_session_topic",
    subscribe_session_topic_success: "subscribe_session_topic_success",
    publishing_session_approve: "publishing_session_approve",
    session_approve_publish_success: "session_approve_publish_success",
    store_session: "store_session",
    publishing_session_settle: "publishing_session_settle",
    session_settle_publish_success: "session_settle_publish_success",
  },
  Os = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    proposal_expired: "proposal_expired",
    subscribe_session_topic_failure: "subscribe_session_topic_failure",
    session_approve_publish_failure: "session_approve_publish_failure",
    session_settle_publish_failure: "session_settle_publish_failure",
    session_approve_namespace_validation_failure:
      "session_approve_namespace_validation_failure",
    proposal_not_found: "proposal_not_found",
  },
  Rs = {
    authenticated_session_approve_started:
      "authenticated_session_approve_started",
    authenticated_session_not_expired: "authenticated_session_not_expired",
    chains_caip2_compliant: "chains_caip2_compliant",
    chains_evm_compliant: "chains_evm_compliant",
    create_authenticated_session_topic: "create_authenticated_session_topic",
    cacaos_verified: "cacaos_verified",
    store_authenticated_session: "store_authenticated_session",
    subscribing_authenticated_session_topic:
      "subscribing_authenticated_session_topic",
    subscribe_authenticated_session_topic_success:
      "subscribe_authenticated_session_topic_success",
    publishing_authenticated_session_approve:
      "publishing_authenticated_session_approve",
    authenticated_session_approve_publish_success:
      "authenticated_session_approve_publish_success",
  },
  fo = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    missing_session_authenticate_request:
      "missing_session_authenticate_request",
    session_authenticate_request_expired:
      "session_authenticate_request_expired",
    chains_caip2_compliant_failure: "chains_caip2_compliant_failure",
    chains_evm_compliant_failure: "chains_evm_compliant_failure",
    invalid_cacao: "invalid_cacao",
    subscribe_authenticated_session_topic_failure:
      "subscribe_authenticated_session_topic_failure",
    authenticated_session_approve_publish_failure:
      "authenticated_session_approve_publish_failure",
    authenticated_session_pending_request_not_found:
      "authenticated_session_pending_request_not_found",
  },
  JM = 0.1,
  YM = "event-client",
  QM = 86400,
  XM = "https://pulse.walletconnect.org/batch";
function ZM(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var s = 0; s < r.length; s++) {
    var a = r.charAt(s),
      f = a.charCodeAt(0);
    if (t[f] !== 255) throw new TypeError(a + " is ambiguous");
    t[f] = s;
  }
  var h = r.length,
    d = r.charAt(0),
    u = Math.log(h) / Math.log(256),
    b = Math.log(256) / Math.log(h);
  function _(C) {
    if (
      (C instanceof Uint8Array ||
        (ArrayBuffer.isView(C)
          ? (C = new Uint8Array(C.buffer, C.byteOffset, C.byteLength))
          : Array.isArray(C) && (C = Uint8Array.from(C))),
      !(C instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (C.length === 0) return "";
    for (var R = 0, L = 0, V = 0, F = C.length; V !== F && C[V] === 0; )
      V++, R++;
    for (var K = ((F - V) * b + 1) >>> 0, B = new Uint8Array(K); V !== F; ) {
      for (
        var z = C[V], q = 0, E = K - 1;
        (z !== 0 || q < L) && E !== -1;
        E--, q++
      )
        (z += (256 * B[E]) >>> 0), (B[E] = z % h >>> 0), (z = (z / h) >>> 0);
      if (z !== 0) throw new Error("Non-zero carry");
      (L = q), V++;
    }
    for (var U = K - L; U !== K && B[U] === 0; ) U++;
    for (var te = d.repeat(R); U < K; ++U) te += r.charAt(B[U]);
    return te;
  }
  function I(C) {
    if (typeof C != "string") throw new TypeError("Expected String");
    if (C.length === 0) return new Uint8Array();
    var R = 0;
    if (C[R] !== " ") {
      for (var L = 0, V = 0; C[R] === d; ) L++, R++;
      for (
        var F = ((C.length - R) * u + 1) >>> 0, K = new Uint8Array(F);
        C[R];

      ) {
        var B = t[C.charCodeAt(R)];
        if (B === 255) return;
        for (var z = 0, q = F - 1; (B !== 0 || z < V) && q !== -1; q--, z++)
          (B += (h * K[q]) >>> 0),
            (K[q] = B % 256 >>> 0),
            (B = (B / 256) >>> 0);
        if (B !== 0) throw new Error("Non-zero carry");
        (V = z), R++;
      }
      if (C[R] !== " ") {
        for (var E = F - V; E !== F && K[E] === 0; ) E++;
        for (var U = new Uint8Array(L + (F - E)), te = L; E !== F; )
          U[te++] = K[E++];
        return U;
      }
    }
  }
  function M(C) {
    var R = I(C);
    if (R) return R;
    throw new Error(`Non-${e} character`);
  }
  return { encode: _, decodeUnsafe: I, decode: M };
}
var eI = ZM,
  tI = eI;
const l2 = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  rI = (r) => new TextEncoder().encode(r),
  iI = (r) => new TextDecoder().decode(r);
class nI {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class sI {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`,
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return d2(this, e);
  }
}
class aI {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return d2(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`,
    );
  }
}
const d2 = (r, e) =>
  new aI({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class oI {
  constructor(e, t, i, s) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = s),
      (this.encoder = new nI(e, t, i)),
      (this.decoder = new sI(e, t, s));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const ku = ({ name: r, prefix: e, encode: t, decode: i }) => new oI(r, e, t, i),
  $o = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: s } = tI(t, e);
    return ku({ prefix: r, name: e, encode: i, decode: (a) => l2(s(a)) });
  },
  cI = (r, e, t, i) => {
    const s = {};
    for (let b = 0; b < e.length; ++b) s[e[b]] = b;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const f = new Uint8Array(((a * t) / 8) | 0);
    let h = 0,
      d = 0,
      u = 0;
    for (let b = 0; b < a; ++b) {
      const _ = s[r[b]];
      if (_ === void 0) throw new SyntaxError(`Non-${i} character`);
      (d = (d << t) | _),
        (h += t),
        h >= 8 && ((h -= 8), (f[u++] = 255 & (d >> h)));
    }
    if (h >= t || 255 & (d << (8 - h)))
      throw new SyntaxError("Unexpected end of data");
    return f;
  },
  uI = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      s = (1 << t) - 1;
    let a = "",
      f = 0,
      h = 0;
    for (let d = 0; d < r.length; ++d)
      for (h = (h << 8) | r[d], f += 8; f > t; )
        (f -= t), (a += e[s & (h >> f)]);
    if ((f && (a += e[s & (h << (t - f))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  Ir = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    ku({
      prefix: e,
      name: r,
      encode(s) {
        return uI(s, i, t);
      },
      decode(s) {
        return cI(s, i, t, r);
      },
    }),
  fI = ku({
    prefix: "\0",
    name: "identity",
    encode: (r) => iI(r),
    decode: (r) => rI(r),
  });
var hI = Object.freeze({ __proto__: null, identity: fI });
const lI = Ir({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 });
var dI = Object.freeze({ __proto__: null, base2: lI });
const pI = Ir({
  prefix: "7",
  name: "base8",
  alphabet: "01234567",
  bitsPerChar: 3,
});
var gI = Object.freeze({ __proto__: null, base8: pI });
const vI = $o({ prefix: "9", name: "base10", alphabet: "0123456789" });
var bI = Object.freeze({ __proto__: null, base10: vI });
const mI = Ir({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  yI = Ir({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  });
var wI = Object.freeze({ __proto__: null, base16: mI, base16upper: yI });
const _I = Ir({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  AI = Ir({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  EI = Ir({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  xI = Ir({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  SI = Ir({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  MI = Ir({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  II = Ir({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  DI = Ir({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  PI = Ir({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  });
var CI = Object.freeze({
  __proto__: null,
  base32: _I,
  base32upper: AI,
  base32pad: EI,
  base32padupper: xI,
  base32hex: SI,
  base32hexupper: MI,
  base32hexpad: II,
  base32hexpadupper: DI,
  base32z: PI,
});
const OI = $o({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  RI = $o({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  });
var NI = Object.freeze({ __proto__: null, base36: OI, base36upper: RI });
const TI = $o({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  qI = $o({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  });
var FI = Object.freeze({ __proto__: null, base58btc: TI, base58flickr: qI });
const BI = Ir({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  LI = Ir({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  UI = Ir({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  zI = Ir({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  });
var kI = Object.freeze({
  __proto__: null,
  base64: BI,
  base64pad: LI,
  base64url: UI,
  base64urlpad: zI,
});
const p2 = Array.from(
    "🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂",
  ),
  jI = p2.reduce((r, e, t) => ((r[t] = e), r), []),
  $I = p2.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function HI(r) {
  return r.reduce((e, t) => ((e += jI[t]), e), "");
}
function KI(r) {
  const e = [];
  for (const t of r) {
    const i = $I[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const VI = ku({ prefix: "🚀", name: "base256emoji", encode: HI, decode: KI });
var GI = Object.freeze({ __proto__: null, base256emoji: VI }),
  WI = g2,
  Gg = 128,
  JI = -128,
  YI = Math.pow(2, 31);
function g2(r, e, t) {
  (e = e || []), (t = t || 0);
  for (var i = t; r >= YI; ) (e[t++] = (r & 255) | Gg), (r /= 128);
  for (; r & JI; ) (e[t++] = (r & 255) | Gg), (r >>>= 7);
  return (e[t] = r | 0), (g2.bytes = t - i + 1), e;
}
var QI = Fl,
  XI = 128,
  Wg = 127;
function Fl(r, i) {
  var t = 0,
    i = i || 0,
    s = 0,
    a = i,
    f,
    h = r.length;
  do {
    if (a >= h)
      throw ((Fl.bytes = 0), new RangeError("Could not decode varint"));
    (f = r[a++]),
      (t += s < 28 ? (f & Wg) << s : (f & Wg) * Math.pow(2, s)),
      (s += 7);
  } while (f >= XI);
  return (Fl.bytes = a - i), t;
}
var ZI = Math.pow(2, 7),
  eD = Math.pow(2, 14),
  tD = Math.pow(2, 21),
  rD = Math.pow(2, 28),
  iD = Math.pow(2, 35),
  nD = Math.pow(2, 42),
  sD = Math.pow(2, 49),
  aD = Math.pow(2, 56),
  oD = Math.pow(2, 63),
  cD = function (r) {
    return r < ZI
      ? 1
      : r < eD
        ? 2
        : r < tD
          ? 3
          : r < rD
            ? 4
            : r < iD
              ? 5
              : r < nD
                ? 6
                : r < sD
                  ? 7
                  : r < aD
                    ? 8
                    : r < oD
                      ? 9
                      : 10;
  },
  uD = { encode: WI, decode: QI, encodingLength: cD },
  v2 = uD;
const Jg = (r, e, t = 0) => (v2.encode(r, e, t), e),
  Yg = (r) => v2.encodingLength(r),
  Bl = (r, e) => {
    const t = e.byteLength,
      i = Yg(r),
      s = i + Yg(t),
      a = new Uint8Array(s + t);
    return Jg(r, a, 0), Jg(t, a, i), a.set(e, s), new fD(r, t, e, a);
  };
class fD {
  constructor(e, t, i, s) {
    (this.code = e), (this.size = t), (this.digest = i), (this.bytes = s);
  }
}
const b2 = ({ name: r, code: e, encode: t }) => new hD(r, e, t);
class hD {
  constructor(e, t, i) {
    (this.name = e), (this.code = t), (this.encode = i);
  }
  digest(e) {
    if (e instanceof Uint8Array) {
      const t = this.encode(e);
      return t instanceof Uint8Array
        ? Bl(this.code, t)
        : t.then((i) => Bl(this.code, i));
    } else throw Error("Unknown type, must be binary type");
  }
}
const m2 = (r) => async (e) => new Uint8Array(await crypto.subtle.digest(r, e)),
  lD = b2({ name: "sha2-256", code: 18, encode: m2("SHA-256") }),
  dD = b2({ name: "sha2-512", code: 19, encode: m2("SHA-512") });
var pD = Object.freeze({ __proto__: null, sha256: lD, sha512: dD });
const y2 = 0,
  gD = "identity",
  w2 = l2,
  vD = (r) => Bl(y2, w2(r)),
  bD = { code: y2, name: gD, encode: w2, digest: vD };
var mD = Object.freeze({ __proto__: null, identity: bD });
new TextEncoder(), new TextDecoder();
const Qg = {
  ...hI,
  ...dI,
  ...gI,
  ...bI,
  ...wI,
  ...CI,
  ...NI,
  ...FI,
  ...kI,
  ...GI,
};
({ ...pD, ...mD });
function yD(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function _2(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const Xg = _2(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1)),
  ),
  dl = _2(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = yD(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    },
  ),
  wD = {
    utf8: Xg,
    "utf-8": Xg,
    hex: Qg.base16,
    latin1: dl,
    ascii: dl,
    binary: dl,
    ...Qg,
  };
function _D(r, e = "utf8") {
  const t = wD[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
class AD {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.keychain = new Map()),
      (this.name = AM),
      (this.version = EM),
      (this.initialized = !1),
      (this.storagePrefix = xn),
      (this.init = async () => {
        if (!this.initialized) {
          const i = await this.getKeyChain();
          typeof i < "u" && (this.keychain = i), (this.initialized = !0);
        }
      }),
      (this.has = (i) => (this.isInitialized(), this.keychain.has(i))),
      (this.set = async (i, s) => {
        this.isInitialized(), this.keychain.set(i, s), await this.persist();
      }),
      (this.get = (i) => {
        this.isInitialized();
        const s = this.keychain.get(i);
        if (typeof s > "u") {
          const { message: a } = Ae("NO_MATCHING_KEY", `${this.name}: ${i}`);
          throw new Error(a);
        }
        return s;
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.keychain.delete(i), await this.persist();
      }),
      (this.core = e),
      (this.logger = Kr(t, this.name));
  }
  get context() {
    return si(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setKeyChain(e) {
    await this.core.storage.setItem(this.storageKey, nb(e));
  }
  async getKeyChain() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? sb(e) : void 0;
  }
  async persist() {
    await this.setKeyChain(this.keychain);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class ED {
  constructor(e, t, i) {
    (this.core = e),
      (this.logger = t),
      (this.name = wM),
      (this.randomSessionIdentifier = Rl()),
      (this.initialized = !1),
      (this.init = async () => {
        this.initialized ||
          (await this.keychain.init(), (this.initialized = !0));
      }),
      (this.hasKeys = (s) => (this.isInitialized(), this.keychain.has(s))),
      (this.getClientId = async () => {
        this.isInitialized();
        const s = await this.getClientSeed(),
          a = R1(s);
        return eb(a.publicKey);
      }),
      (this.generateKeyPair = () => {
        this.isInitialized();
        const s = TE();
        return this.setPrivateKey(s.publicKey, s.privateKey);
      }),
      (this.signJWT = async (s) => {
        this.isInitialized();
        const a = await this.getClientSeed(),
          f = R1(a),
          h = this.randomSessionIdentifier;
        return await p7(h, s, _M, f);
      }),
      (this.generateSharedKey = (s, a, f) => {
        this.isInitialized();
        const h = this.getPrivateKey(s),
          d = qE(h, a);
        return this.setSymKey(d, f);
      }),
      (this.setSymKey = async (s, a) => {
        this.isInitialized();
        const f = a || pu(s);
        return await this.keychain.set(f, s), f;
      }),
      (this.deleteKeyPair = async (s) => {
        this.isInitialized(), await this.keychain.del(s);
      }),
      (this.deleteSymKey = async (s) => {
        this.isInitialized(), await this.keychain.del(s);
      }),
      (this.encode = async (s, a, f) => {
        this.isInitialized();
        const h = Yb(f),
          d = Gn(a);
        if (pg(h)) return BE(d, f == null ? void 0 : f.encoding);
        if (dg(h)) {
          const I = h.senderPublicKey,
            M = h.receiverPublicKey;
          s = await this.generateSharedKey(I, M);
        }
        const u = this.getSymKey(s),
          { type: b, senderPublicKey: _ } = h;
        return FE({
          type: b,
          symKey: u,
          message: d,
          senderPublicKey: _,
          encoding: f == null ? void 0 : f.encoding,
        });
      }),
      (this.decode = async (s, a, f) => {
        this.isInitialized();
        const h = zE(a, f);
        if (pg(h)) {
          const d = UE(a, f == null ? void 0 : f.encoding);
          return Ls(d);
        }
        if (dg(h)) {
          const d = h.receiverPublicKey,
            u = h.senderPublicKey;
          s = await this.generateSharedKey(d, u);
        }
        try {
          const d = this.getSymKey(s),
            u = LE({
              symKey: d,
              encoded: a,
              encoding: f == null ? void 0 : f.encoding,
            });
          return Ls(u);
        } catch (d) {
          this.logger.error(
            `Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`,
          ),
            this.logger.error(d);
        }
      }),
      (this.getPayloadType = (s, a = hs) => {
        const f = Do({ encoded: s, encoding: a });
        return zs(f.type);
      }),
      (this.getPayloadSenderPublicKey = (s, a = hs) => {
        const f = Do({ encoded: s, encoding: a });
        return f.senderPublicKey ? Ar(f.senderPublicKey, Hr) : void 0;
      }),
      (this.core = e),
      (this.logger = Kr(t, this.name)),
      (this.keychain = i || new AD(this.core, this.logger));
  }
  get context() {
    return si(this.logger);
  }
  async setPrivateKey(e, t) {
    return await this.keychain.set(e, t), e;
  }
  getPrivateKey(e) {
    return this.keychain.get(e);
  }
  async getClientSeed() {
    let e = "";
    try {
      e = this.keychain.get(Kg);
    } catch {
      (e = Rl()), await this.keychain.set(Kg, e);
    }
    return _D(e, "base16");
  }
  getSymKey(e) {
    return this.keychain.get(e);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class xD extends qS {
  constructor(e, t) {
    super(e, t),
      (this.logger = e),
      (this.core = t),
      (this.messages = new Map()),
      (this.name = xM),
      (this.version = SM),
      (this.initialized = !1),
      (this.storagePrefix = xn),
      (this.init = async () => {
        if (!this.initialized) {
          this.logger.trace("Initialized");
          try {
            const i = await this.getRelayerMessages();
            typeof i < "u" && (this.messages = i),
              this.logger.debug(
                `Successfully Restored records for ${this.name}`,
              ),
              this.logger.trace({
                type: "method",
                method: "restore",
                size: this.messages.size,
              });
          } catch (i) {
            this.logger.debug(`Failed to Restore records for ${this.name}`),
              this.logger.error(i);
          } finally {
            this.initialized = !0;
          }
        }
      }),
      (this.set = async (i, s) => {
        this.isInitialized();
        const a = $n(s);
        let f = this.messages.get(i);
        return (
          typeof f > "u" && (f = {}),
          typeof f[a] < "u" ||
            ((f[a] = s), this.messages.set(i, f), await this.persist()),
          a
        );
      }),
      (this.get = (i) => {
        this.isInitialized();
        let s = this.messages.get(i);
        return typeof s > "u" && (s = {}), s;
      }),
      (this.has = (i, s) => {
        this.isInitialized();
        const a = this.get(i),
          f = $n(s);
        return typeof a[f] < "u";
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.messages.delete(i), await this.persist();
      }),
      (this.logger = Kr(e, this.name)),
      (this.core = t);
  }
  get context() {
    return si(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setRelayerMessages(e) {
    await this.core.storage.setItem(this.storageKey, nb(e));
  }
  async getRelayerMessages() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? sb(e) : void 0;
  }
  async persist() {
    await this.setRelayerMessages(this.messages);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class SD extends FS {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.events = new gi.EventEmitter()),
      (this.name = IM),
      (this.queue = new Map()),
      (this.publishTimeout = Me.toMiliseconds(Me.ONE_MINUTE)),
      (this.failedPublishTimeout = Me.toMiliseconds(Me.ONE_SECOND)),
      (this.needsTransportRestart = !1),
      (this.publish = async (i, s, a) => {
        var f;
        this.logger.debug("Publishing Payload"),
          this.logger.trace({
            type: "method",
            method: "publish",
            params: { topic: i, message: s, opts: a },
          });
        const h = (a == null ? void 0 : a.ttl) || MM,
          d = Nl(a),
          u = (a == null ? void 0 : a.prompt) || !1,
          b = (a == null ? void 0 : a.tag) || 0,
          _ = (a == null ? void 0 : a.id) || Fs().toString(),
          I = {
            topic: i,
            message: s,
            opts: {
              ttl: h,
              relay: d,
              prompt: u,
              tag: b,
              id: _,
              attestation: a == null ? void 0 : a.attestation,
            },
          },
          M = `Failed to publish payload, please try again. id:${_} tag:${b}`,
          C = Date.now();
        let R,
          L = 1;
        try {
          for (; R === void 0; ) {
            if (Date.now() - C > this.publishTimeout) throw new Error(M);
            this.logger.trace(
              { id: _, attempts: L },
              `publisher.publish - attempt ${L}`,
            ),
              (R = await await ma(
                this.rpcPublish(
                  i,
                  s,
                  h,
                  d,
                  u,
                  b,
                  _,
                  a == null ? void 0 : a.attestation,
                ).catch((V) => this.logger.warn(V)),
                this.publishTimeout,
                M,
              )),
              L++,
              R ||
                (await new Promise((V) =>
                  setTimeout(V, this.failedPublishTimeout),
                ));
          }
          this.relayer.events.emit(kr.publish, I),
            this.logger.debug("Successfully Published Payload"),
            this.logger.trace({
              type: "method",
              method: "publish",
              params: { id: _, topic: i, message: s, opts: a },
            });
        } catch (V) {
          if (
            (this.logger.debug("Failed to Publish Payload"),
            this.logger.error(V),
            (f = a == null ? void 0 : a.internal) != null &&
              f.throwOnFailedPublish)
          )
            throw V;
          this.queue.set(_, I);
        }
      }),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.relayer = e),
      (this.logger = Kr(t, this.name)),
      this.registerEventListeners();
  }
  get context() {
    return si(this.logger);
  }
  rpcPublish(e, t, i, s, a, f, h, d) {
    var u, b, _, I;
    const M = {
      method: vo(s.protocol).publish,
      params: {
        topic: e,
        message: t,
        ttl: i,
        prompt: a,
        tag: f,
        attestation: d,
      },
      id: h,
    };
    return (
      $r((u = M.params) == null ? void 0 : u.prompt) &&
        ((b = M.params) == null || delete b.prompt),
      $r((_ = M.params) == null ? void 0 : _.tag) &&
        ((I = M.params) == null || delete I.tag),
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "message", direction: "outgoing", request: M }),
      this.relayer.request(M)
    );
  }
  removeRequestFromQueue(e) {
    this.queue.delete(e);
  }
  checkQueue() {
    this.queue.forEach(async (e) => {
      const { topic: t, message: i, opts: s } = e;
      await this.publish(t, i, s);
    });
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(Ca.pulse, () => {
      if (this.needsTransportRestart) {
        (this.needsTransportRestart = !1),
          this.relayer.events.emit(kr.connection_stalled);
        return;
      }
      this.checkQueue();
    }),
      this.relayer.on(kr.message_ack, (e) => {
        this.removeRequestFromQueue(e.id.toString());
      });
  }
}
class MD {
  constructor() {
    (this.map = new Map()),
      (this.set = (e, t) => {
        const i = this.get(e);
        this.exists(e, t) || this.map.set(e, [...i, t]);
      }),
      (this.get = (e) => this.map.get(e) || []),
      (this.exists = (e, t) => this.get(e).includes(t)),
      (this.delete = (e, t) => {
        if (typeof t > "u") {
          this.map.delete(e);
          return;
        }
        if (!this.map.has(e)) return;
        const i = this.get(e);
        if (!this.exists(e, t)) return;
        const s = i.filter((a) => a !== t);
        if (!s.length) {
          this.map.delete(e);
          return;
        }
        this.map.set(e, s);
      }),
      (this.clear = () => {
        this.map.clear();
      });
  }
  get topics() {
    return Array.from(this.map.keys());
  }
}
var ID = Object.defineProperty,
  DD = Object.defineProperties,
  PD = Object.getOwnPropertyDescriptors,
  Zg = Object.getOwnPropertySymbols,
  CD = Object.prototype.hasOwnProperty,
  OD = Object.prototype.propertyIsEnumerable,
  ev = (r, e, t) =>
    e in r
      ? ID(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ho = (r, e) => {
    for (var t in e || (e = {})) CD.call(e, t) && ev(r, t, e[t]);
    if (Zg) for (var t of Zg(e)) OD.call(e, t) && ev(r, t, e[t]);
    return r;
  },
  pl = (r, e) => DD(r, PD(e));
class RD extends US {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.subscriptions = new Map()),
      (this.topicMap = new MD()),
      (this.events = new gi.EventEmitter()),
      (this.name = TM),
      (this.version = qM),
      (this.pending = new Map()),
      (this.cached = []),
      (this.initialized = !1),
      (this.pendingSubscriptionWatchLabel = "pending_sub_watch_label"),
      (this.pollingInterval = 20),
      (this.storagePrefix = xn),
      (this.subscribeTimeout = Me.toMiliseconds(Me.ONE_MINUTE)),
      (this.restartInProgress = !1),
      (this.batchSubscribeTopicsLimit = 500),
      (this.pendingBatchMessages = []),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          this.registerEventListeners(),
          (this.clientId = await this.relayer.core.crypto.getClientId()),
          await this.restore()),
          (this.initialized = !0);
      }),
      (this.subscribe = async (i, s) => {
        this.isInitialized(),
          this.logger.debug("Subscribing Topic"),
          this.logger.trace({
            type: "method",
            method: "subscribe",
            params: { topic: i, opts: s },
          });
        try {
          const a = Nl(s),
            f = {
              topic: i,
              relay: a,
              transportType: s == null ? void 0 : s.transportType,
            };
          this.pending.set(i, f);
          const h = await this.rpcSubscribe(
            i,
            a,
            s == null ? void 0 : s.transportType,
          );
          return (
            typeof h == "string" &&
              (this.onSubscribe(h, f),
              this.logger.debug("Successfully Subscribed Topic"),
              this.logger.trace({
                type: "method",
                method: "subscribe",
                params: { topic: i, opts: s },
              })),
            h
          );
        } catch (a) {
          throw (
            (this.logger.debug("Failed to Subscribe Topic"),
            this.logger.error(a),
            a)
          );
        }
      }),
      (this.unsubscribe = async (i, s) => {
        await this.restartToComplete(),
          this.isInitialized(),
          typeof (s == null ? void 0 : s.id) < "u"
            ? await this.unsubscribeById(i, s.id, s)
            : await this.unsubscribeByTopic(i, s);
      }),
      (this.isSubscribed = async (i) => {
        if (this.topics.includes(i)) return !0;
        const s = `${this.pendingSubscriptionWatchLabel}_${i}`;
        return await new Promise((a, f) => {
          const h = new Me.Watch();
          h.start(s);
          const d = setInterval(() => {
            !this.pending.has(i) &&
              this.topics.includes(i) &&
              (clearInterval(d), h.stop(s), a(!0)),
              h.elapsed(s) >= FM &&
                (clearInterval(d),
                h.stop(s),
                f(new Error("Subscription resolution timeout")));
          }, this.pollingInterval);
        }).catch(() => !1);
      }),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.start = async () => {
        await this.onConnect();
      }),
      (this.stop = async () => {
        await this.onDisconnect();
      }),
      (this.restart = async () => {
        (this.restartInProgress = !0),
          await this.restore(),
          await this.reset(),
          (this.restartInProgress = !1);
      }),
      (this.relayer = e),
      (this.logger = Kr(t, this.name)),
      (this.clientId = "");
  }
  get context() {
    return si(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.relayer.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.subscriptions.size;
  }
  get ids() {
    return Array.from(this.subscriptions.keys());
  }
  get values() {
    return Array.from(this.subscriptions.values());
  }
  get topics() {
    return this.topicMap.topics;
  }
  hasSubscription(e, t) {
    let i = !1;
    try {
      i = this.getSubscription(e).topic === t;
    } catch {}
    return i;
  }
  onEnable() {
    (this.cached = []), (this.initialized = !0);
  }
  onDisable() {
    (this.cached = this.values),
      this.subscriptions.clear(),
      this.topicMap.clear();
  }
  async unsubscribeByTopic(e, t) {
    const i = this.topicMap.get(e);
    await Promise.all(i.map(async (s) => await this.unsubscribeById(e, s, t)));
  }
  async unsubscribeById(e, t, i) {
    this.logger.debug("Unsubscribing Topic"),
      this.logger.trace({
        type: "method",
        method: "unsubscribe",
        params: { topic: e, id: t, opts: i },
      });
    try {
      const s = Nl(i);
      await this.rpcUnsubscribe(e, t, s);
      const a = Ut("USER_DISCONNECTED", `${this.name}, ${e}`);
      await this.onUnsubscribe(e, t, a),
        this.logger.debug("Successfully Unsubscribed Topic"),
        this.logger.trace({
          type: "method",
          method: "unsubscribe",
          params: { topic: e, id: t, opts: i },
        });
    } catch (s) {
      throw (
        (this.logger.debug("Failed to Unsubscribe Topic"),
        this.logger.error(s),
        s)
      );
    }
  }
  async rpcSubscribe(e, t, i = Gt.relay) {
    i === Gt.relay && (await this.restartToComplete());
    const s = { method: vo(t.protocol).subscribe, params: { topic: e } };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: s });
    try {
      const a = $n(e + this.clientId);
      return i === Gt.link_mode
        ? (setTimeout(() => {
            (this.relayer.connected || this.relayer.connecting) &&
              this.relayer.request(s).catch((f) => this.logger.warn(f));
          }, Me.toMiliseconds(Me.ONE_SECOND)),
          a)
        : (await await ma(
              this.relayer.request(s).catch((f) => this.logger.warn(f)),
              this.subscribeTimeout,
            ))
          ? a
          : null;
    } catch {
      this.logger.debug("Outgoing Relay Subscribe Payload stalled"),
        this.relayer.events.emit(kr.connection_stalled);
    }
    return null;
  }
  async rpcBatchSubscribe(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: vo(t.protocol).batchSubscribe,
        params: { topics: e.map((s) => s.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    try {
      return await await ma(
        this.relayer.request(i).catch((s) => this.logger.warn(s)),
        this.subscribeTimeout,
      );
    } catch {
      this.relayer.events.emit(kr.connection_stalled);
    }
  }
  async rpcBatchFetchMessages(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: vo(t.protocol).batchFetchMessages,
        params: { topics: e.map((a) => a.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    let s;
    try {
      s = await await ma(
        this.relayer.request(i).catch((a) => this.logger.warn(a)),
        this.subscribeTimeout,
      );
    } catch {
      this.relayer.events.emit(kr.connection_stalled);
    }
    return s;
  }
  rpcUnsubscribe(e, t, i) {
    const s = {
      method: vo(i.protocol).unsubscribe,
      params: { topic: e, id: t },
    };
    return (
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: s }),
      this.relayer.request(s)
    );
  }
  onSubscribe(e, t) {
    this.setSubscription(e, pl(ho({}, t), { id: e })),
      this.pending.delete(t.topic);
  }
  onBatchSubscribe(e) {
    e.length &&
      e.forEach((t) => {
        this.setSubscription(t.id, ho({}, t)), this.pending.delete(t.topic);
      });
  }
  async onUnsubscribe(e, t, i) {
    this.events.removeAllListeners(t),
      this.hasSubscription(t, e) && this.deleteSubscription(t, i),
      await this.relayer.messages.del(e);
  }
  async setRelayerSubscriptions(e) {
    await this.relayer.core.storage.setItem(this.storageKey, e);
  }
  async getRelayerSubscriptions() {
    return await this.relayer.core.storage.getItem(this.storageKey);
  }
  setSubscription(e, t) {
    this.logger.debug("Setting subscription"),
      this.logger.trace({
        type: "method",
        method: "setSubscription",
        id: e,
        subscription: t,
      }),
      this.addSubscription(e, t);
  }
  addSubscription(e, t) {
    this.subscriptions.set(e, ho({}, t)),
      this.topicMap.set(t.topic, e),
      this.events.emit(gn.created, t);
  }
  getSubscription(e) {
    this.logger.debug("Getting subscription"),
      this.logger.trace({ type: "method", method: "getSubscription", id: e });
    const t = this.subscriptions.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  deleteSubscription(e, t) {
    this.logger.debug("Deleting subscription"),
      this.logger.trace({
        type: "method",
        method: "deleteSubscription",
        id: e,
        reason: t,
      });
    const i = this.getSubscription(e);
    this.subscriptions.delete(e),
      this.topicMap.delete(i.topic, e),
      this.events.emit(gn.deleted, pl(ho({}, i), { reason: t }));
  }
  async persist() {
    await this.setRelayerSubscriptions(this.values), this.events.emit(gn.sync);
  }
  async reset() {
    if (this.cached.length) {
      const e = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);
      for (let t = 0; t < e; t++) {
        const i = this.cached.splice(0, this.batchSubscribeTopicsLimit);
        await this.batchFetchMessages(i), await this.batchSubscribe(i);
      }
    }
    this.events.emit(gn.resubscribed);
  }
  async restore() {
    try {
      const e = await this.getRelayerSubscriptions();
      if (typeof e > "u" || !e.length) return;
      if (this.subscriptions.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (
          (this.logger.error(t),
          this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),
          new Error(t))
        );
      }
      (this.cached = e),
        this.logger.debug(
          `Successfully Restored subscriptions for ${this.name}`,
        ),
        this.logger.trace({
          type: "method",
          method: "restore",
          subscriptions: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),
        this.logger.error(e);
    }
  }
  async batchSubscribe(e) {
    if (!e.length) return;
    const t = await this.rpcBatchSubscribe(e);
    En(t) &&
      this.onBatchSubscribe(t.map((i, s) => pl(ho({}, e[s]), { id: i })));
  }
  async batchFetchMessages(e) {
    if (!e.length) return;
    this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);
    const t = await this.rpcBatchFetchMessages(e);
    t &&
      t.messages &&
      (this.pendingBatchMessages = this.pendingBatchMessages.concat(
        t.messages,
      ));
  }
  async onConnect() {
    await this.restart(), this.onEnable();
  }
  onDisconnect() {
    this.onDisable();
  }
  async checkPending() {
    if (!this.initialized || !this.relayer.connected) return;
    const e = [];
    this.pending.forEach((t) => {
      e.push(t);
    }),
      await this.batchSubscribe(e),
      this.pendingBatchMessages.length &&
        (await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),
        (this.pendingBatchMessages = []));
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(Ca.pulse, async () => {
      await this.checkPending();
    }),
      this.events.on(gn.created, async (e) => {
        const t = gn.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      }),
      this.events.on(gn.deleted, async (e) => {
        const t = gn.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async restartToComplete() {
    !this.relayer.connected &&
      !this.relayer.connecting &&
      (await this.relayer.transportOpen()),
      this.restartInProgress &&
        (await new Promise((e) => {
          const t = setInterval(() => {
            this.restartInProgress || (clearInterval(t), e());
          }, this.pollingInterval);
        }));
  }
}
var ND = Object.defineProperty,
  tv = Object.getOwnPropertySymbols,
  TD = Object.prototype.hasOwnProperty,
  qD = Object.prototype.propertyIsEnumerable,
  rv = (r, e, t) =>
    e in r
      ? ND(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  FD = (r, e) => {
    for (var t in e) TD.call(e, t) && rv(r, t, e[t]);
    if (tv) for (var t of tv(e)) qD.call(e, t) && rv(r, t, e[t]);
    return r;
  };
class BD extends BS {
  constructor(e) {
    super(e),
      (this.protocol = "wc"),
      (this.version = 2),
      (this.events = new gi.EventEmitter()),
      (this.name = PM),
      (this.transportExplicitlyClosed = !1),
      (this.initialized = !1),
      (this.connectionAttemptInProgress = !1),
      (this.connectionStatusPollingInterval = 20),
      (this.staleConnectionErrors = [
        "socket hang up",
        "stalled",
        "interrupted",
      ]),
      (this.hasExperiencedNetworkDisruption = !1),
      (this.requestsInFlight = new Map()),
      (this.heartBeatTimeout = Me.toMiliseconds(
        Me.THIRTY_SECONDS + Me.ONE_SECOND,
      )),
      (this.request = async (t) => {
        var i, s;
        this.logger.debug("Publishing Request Payload");
        const a = t.id || Fs().toString();
        await this.toEstablishConnection();
        try {
          const f = this.provider.request(t);
          this.requestsInFlight.set(a, { promise: f, request: t }),
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (i = t.params) == null ? void 0 : i.topic,
              },
              "relayer.request - attempt to publish...",
            );
          const h = await new Promise(async (d, u) => {
            const b = () => {
              u(new Error(`relayer.request - publish interrupted, id: ${a}`));
            };
            this.provider.on(Di.disconnect, b);
            const _ = await f;
            this.provider.off(Di.disconnect, b), d(_);
          });
          return (
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (s = t.params) == null ? void 0 : s.topic,
              },
              "relayer.request - published",
            ),
            h
          );
        } catch (f) {
          throw (this.logger.debug(`Failed to Publish Request: ${a}`), f);
        } finally {
          this.requestsInFlight.delete(a);
        }
      }),
      (this.resetPingTimeout = () => {
        if (_u())
          try {
            clearTimeout(this.pingTimeout),
              (this.pingTimeout = setTimeout(() => {
                var t, i, s;
                (s =
                  (i = (t = this.provider) == null ? void 0 : t.connection) ==
                  null
                    ? void 0
                    : i.socket) == null || s.terminate();
              }, this.heartBeatTimeout));
          } catch (t) {
            this.logger.warn(t);
          }
      }),
      (this.onPayloadHandler = (t) => {
        this.onProviderPayload(t), this.resetPingTimeout();
      }),
      (this.onConnectHandler = () => {
        this.logger.trace("relayer connected"),
          this.startPingTimeout(),
          this.events.emit(kr.connect);
      }),
      (this.onDisconnectHandler = () => {
        this.logger.trace("relayer disconnected"), this.onProviderDisconnect();
      }),
      (this.onProviderErrorHandler = (t) => {
        this.logger.error(t),
          this.events.emit(kr.error, t),
          this.logger.info("Fatal socket error received, closing transport"),
          this.transportClose();
      }),
      (this.registerProviderListeners = () => {
        this.provider.on(Di.payload, this.onPayloadHandler),
          this.provider.on(Di.connect, this.onConnectHandler),
          this.provider.on(Di.disconnect, this.onDisconnectHandler),
          this.provider.on(Di.error, this.onProviderErrorHandler);
      }),
      (this.core = e.core),
      (this.logger =
        typeof e.logger < "u" && typeof e.logger != "string"
          ? Kr(e.logger, this.name)
          : ko(Bu({ level: e.logger || DM }))),
      (this.messages = new xD(this.logger, e.core)),
      (this.subscriber = new RD(this, this.logger)),
      (this.publisher = new SD(this, this.logger)),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || f2),
      (this.projectId = e.projectId),
      (this.bundleId = E7()),
      (this.provider = {});
  }
  async init() {
    if (
      (this.logger.trace("Initialized"),
      this.registerEventListeners(),
      await Promise.all([this.messages.init(), this.subscriber.init()]),
      (this.initialized = !0),
      this.subscriber.cached.length > 0)
    )
      try {
        await this.transportOpen();
      } catch (e) {
        this.logger.warn(e);
      }
  }
  get context() {
    return si(this.logger);
  }
  get connected() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 1
    );
  }
  get connecting() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 0
    );
  }
  async publish(e, t, i) {
    this.isInitialized(),
      await this.publisher.publish(e, t, i),
      await this.recordMessageEvent({
        topic: e,
        message: t,
        publishedAt: Date.now(),
        transportType: Gt.relay,
      });
  }
  async subscribe(e, t) {
    var i;
    this.isInitialized(),
      (t == null ? void 0 : t.transportType) === "relay" &&
        (await this.toEstablishConnection());
    let s =
        ((i = this.subscriber.topicMap.get(e)) == null ? void 0 : i[0]) || "",
      a;
    const f = (h) => {
      h.topic === e && (this.subscriber.off(gn.created, f), a());
    };
    return (
      await Promise.all([
        new Promise((h) => {
          (a = h), this.subscriber.on(gn.created, f);
        }),
        new Promise(async (h) => {
          (s = (await this.subscriber.subscribe(e, t)) || s), h();
        }),
      ]),
      s
    );
  }
  async unsubscribe(e, t) {
    this.isInitialized(), await this.subscriber.unsubscribe(e, t);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async transportDisconnect() {
    if (
      !this.hasExperiencedNetworkDisruption &&
      this.connected &&
      this.requestsInFlight.size > 0
    )
      try {
        await Promise.all(
          Array.from(this.requestsInFlight.values()).map((e) => e.promise),
        );
      } catch (e) {
        this.logger.warn(e);
      }
    this.hasExperiencedNetworkDisruption || this.connected
      ? await ma(
          this.provider.disconnect(),
          2e3,
          "provider.disconnect()",
        ).catch(() => this.onProviderDisconnect())
      : this.onProviderDisconnect();
  }
  async transportClose() {
    (this.transportExplicitlyClosed = !0), await this.transportDisconnect();
  }
  async transportOpen(e) {
    await this.confirmOnlineStateOrThrow(),
      e &&
        e !== this.relayUrl &&
        ((this.relayUrl = e), await this.transportDisconnect()),
      await this.createProvider(),
      (this.connectionAttemptInProgress = !0),
      (this.transportExplicitlyClosed = !1);
    try {
      await new Promise(async (t, i) => {
        const s = () => {
          this.provider.off(Di.disconnect, s),
            i(new Error("Connection interrupted while trying to subscribe"));
        };
        this.provider.on(Di.disconnect, s),
          await ma(
            this.provider.connect(),
            Me.toMiliseconds(Me.ONE_MINUTE),
            `Socket stalled when trying to connect to ${this.relayUrl}`,
          )
            .catch((a) => {
              i(a);
            })
            .finally(() => {
              clearTimeout(this.reconnectTimeout),
                (this.reconnectTimeout = void 0);
            }),
          this.subscriber.start().catch((a) => {
            this.logger.error(a), this.onDisconnectHandler();
          }),
          (this.hasExperiencedNetworkDisruption = !1),
          t();
      });
    } catch (t) {
      this.logger.error(t);
      const i = t;
      if (
        ((this.hasExperiencedNetworkDisruption = !0),
        !this.isConnectionStalled(i.message))
      )
        throw t;
    } finally {
      this.connectionAttemptInProgress = !1;
    }
  }
  async restartTransport(e) {
    this.connectionAttemptInProgress ||
      ((this.relayUrl = e || this.relayUrl),
      await this.confirmOnlineStateOrThrow(),
      await this.transportClose(),
      await this.transportOpen());
  }
  async confirmOnlineStateOrThrow() {
    if (!(await Sg()))
      throw new Error(
        "No internet connection detected. Please restart your network and try again.",
      );
  }
  async handleBatchMessageEvents(e) {
    if ((e == null ? void 0 : e.length) === 0) {
      this.logger.trace("Batch message events is empty. Ignoring...");
      return;
    }
    const t = e.sort((i, s) => i.publishedAt - s.publishedAt);
    this.logger.trace(`Batch of ${t.length} message events sorted`);
    for (const i of t)
      try {
        await this.onMessageEvent(i);
      } catch (s) {
        this.logger.warn(s);
      }
    this.logger.trace(`Batch of ${t.length} message events processed`);
  }
  async onLinkMessageEvent(e, t) {
    const { topic: i } = e;
    if (!t.sessionExists) {
      const s = gr(Me.FIVE_MINUTES),
        a = { topic: i, expiry: s, relay: { protocol: "irn" }, active: !1 };
      await this.core.pairing.pairings.set(i, a);
    }
    this.events.emit(kr.message, e), await this.recordMessageEvent(e);
  }
  startPingTimeout() {
    var e, t, i, s, a;
    if (_u())
      try {
        (t = (e = this.provider) == null ? void 0 : e.connection) != null &&
          t.socket &&
          ((a =
            (s = (i = this.provider) == null ? void 0 : i.connection) == null
              ? void 0
              : s.socket) == null ||
            a.once("ping", () => {
              this.resetPingTimeout();
            })),
          this.resetPingTimeout();
      } catch (f) {
        this.logger.warn(f);
      }
  }
  isConnectionStalled(e) {
    return this.staleConnectionErrors.some((t) => e.includes(t));
  }
  async createProvider() {
    this.provider.connection && this.unregisterProviderListeners();
    const e = await this.core.crypto.signJWT(this.relayUrl);
    (this.provider = new tn(
      new pM(
        I7({
          sdkVersion: ql,
          protocol: this.protocol,
          version: this.version,
          relayUrl: this.relayUrl,
          projectId: this.projectId,
          auth: e,
          useOnCloseEvent: !0,
          bundleId: this.bundleId,
        }),
      ),
    )),
      this.registerProviderListeners();
  }
  async recordMessageEvent(e) {
    const { topic: t, message: i } = e;
    await this.messages.set(t, i);
  }
  async shouldIgnoreMessageEvent(e) {
    const { topic: t, message: i } = e;
    if (!i || i.length === 0)
      return this.logger.debug(`Ignoring invalid/empty message: ${i}`), !0;
    if (!(await this.subscriber.isSubscribed(t)))
      return (
        this.logger.debug(`Ignoring message for non-subscribed topic ${t}`), !0
      );
    const s = this.messages.has(t, i);
    return s && this.logger.debug(`Ignoring duplicate message: ${i}`), s;
  }
  async onProviderPayload(e) {
    if (
      (this.logger.debug("Incoming Relay Payload"),
      this.logger.trace({ type: "payload", direction: "incoming", payload: e }),
      sd(e))
    ) {
      if (!e.method.endsWith(CM)) return;
      const t = e.params,
        { topic: i, message: s, publishedAt: a, attestation: f } = t.data,
        h = {
          topic: i,
          message: s,
          publishedAt: a,
          transportType: Gt.relay,
          attestation: f,
        };
      this.logger.debug("Emitting Relayer Payload"),
        this.logger.trace(FD({ type: "event", event: t.id }, h)),
        this.events.emit(t.id, h),
        await this.acknowledgePayload(e),
        await this.onMessageEvent(h);
    } else zu(e) && this.events.emit(kr.message_ack, e);
  }
  async onMessageEvent(e) {
    (await this.shouldIgnoreMessageEvent(e)) ||
      (this.events.emit(kr.message, e), await this.recordMessageEvent(e));
  }
  async acknowledgePayload(e) {
    const t = Lu(e.id, !0);
    await this.provider.connection.send(t);
  }
  unregisterProviderListeners() {
    this.provider.off(Di.payload, this.onPayloadHandler),
      this.provider.off(Di.connect, this.onConnectHandler),
      this.provider.off(Di.disconnect, this.onDisconnectHandler),
      this.provider.off(Di.error, this.onProviderErrorHandler),
      clearTimeout(this.pingTimeout);
  }
  async registerEventListeners() {
    let e = await Sg();
    Nx(async (t) => {
      e !== t &&
        ((e = t),
        t
          ? await this.restartTransport().catch((i) => this.logger.error(i))
          : ((this.hasExperiencedNetworkDisruption = !0),
            await this.transportDisconnect(),
            (this.transportExplicitlyClosed = !1)));
    });
  }
  async onProviderDisconnect() {
    await this.subscriber.stop(),
      this.requestsInFlight.clear(),
      clearTimeout(this.pingTimeout),
      this.events.emit(kr.disconnect),
      (this.connectionAttemptInProgress = !1),
      !this.transportExplicitlyClosed &&
        (this.reconnectTimeout ||
          (this.reconnectTimeout = setTimeout(async () => {
            await this.transportOpen().catch((e) => this.logger.error(e));
          }, Me.toMiliseconds(OM))));
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async toEstablishConnection() {
    await this.confirmOnlineStateOrThrow(),
      !this.connected &&
        (this.connectionAttemptInProgress &&
          (await new Promise((e) => {
            const t = setInterval(() => {
              this.connected && (clearInterval(t), e());
            }, this.connectionStatusPollingInterval);
          })),
        await this.transportOpen());
  }
}
var LD = Object.defineProperty,
  iv = Object.getOwnPropertySymbols,
  UD = Object.prototype.hasOwnProperty,
  zD = Object.prototype.propertyIsEnumerable,
  nv = (r, e, t) =>
    e in r
      ? LD(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  sv = (r, e) => {
    for (var t in e || (e = {})) UD.call(e, t) && nv(r, t, e[t]);
    if (iv) for (var t of iv(e)) zD.call(e, t) && nv(r, t, e[t]);
    return r;
  };
class Ks extends LS {
  constructor(e, t, i, s = xn, a = void 0) {
    super(e, t, i, s),
      (this.core = e),
      (this.logger = t),
      (this.name = i),
      (this.map = new Map()),
      (this.version = RM),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = xn),
      (this.recentlyDeleted = []),
      (this.recentlyDeletedLimit = 200),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((f) => {
            this.getKey && f !== null && !$r(f)
              ? this.map.set(this.getKey(f), f)
              : fx(f)
                ? this.map.set(f.id, f)
                : hx(f) && this.map.set(f.topic, f);
          }),
          (this.cached = []),
          (this.initialized = !0));
      }),
      (this.set = async (f, h) => {
        this.isInitialized(),
          this.map.has(f)
            ? await this.update(f, h)
            : (this.logger.debug("Setting value"),
              this.logger.trace({
                type: "method",
                method: "set",
                key: f,
                value: h,
              }),
              this.map.set(f, h),
              await this.persist());
      }),
      (this.get = (f) => (
        this.isInitialized(),
        this.logger.debug("Getting value"),
        this.logger.trace({ type: "method", method: "get", key: f }),
        this.getData(f)
      )),
      (this.getAll = (f) => (
        this.isInitialized(),
        f
          ? this.values.filter((h) =>
              Object.keys(f).every((d) => bM(h[d], f[d])),
            )
          : this.values
      )),
      (this.update = async (f, h) => {
        this.isInitialized(),
          this.logger.debug("Updating value"),
          this.logger.trace({
            type: "method",
            method: "update",
            key: f,
            update: h,
          });
        const d = sv(sv({}, this.getData(f)), h);
        this.map.set(f, d), await this.persist();
      }),
      (this.delete = async (f, h) => {
        this.isInitialized(),
          this.map.has(f) &&
            (this.logger.debug("Deleting value"),
            this.logger.trace({
              type: "method",
              method: "delete",
              key: f,
              reason: h,
            }),
            this.map.delete(f),
            this.addToRecentlyDeleted(f),
            await this.persist());
      }),
      (this.logger = Kr(t, this.name)),
      (this.storagePrefix = s),
      (this.getKey = a);
  }
  get context() {
    return si(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.map.size;
  }
  get keys() {
    return Array.from(this.map.keys());
  }
  get values() {
    return Array.from(this.map.values());
  }
  addToRecentlyDeleted(e) {
    this.recentlyDeleted.push(e),
      this.recentlyDeleted.length >= this.recentlyDeletedLimit &&
        this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2);
  }
  async setDataStore(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getDataStore() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getData(e) {
    const t = this.map.get(e);
    if (!t) {
      if (this.recentlyDeleted.includes(e)) {
        const { message: s } = Ae(
          "MISSING_OR_INVALID",
          `Record was recently deleted - ${this.name}: ${e}`,
        );
        throw (this.logger.error(s), new Error(s));
      }
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.error(i), new Error(i));
    }
    return t;
  }
  async persist() {
    await this.setDataStore(this.values);
  }
  async restore() {
    try {
      const e = await this.getDataStore();
      if (typeof e > "u" || !e.length) return;
      if (this.map.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored value for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          value: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore value for ${this.name}`),
        this.logger.error(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class kD {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.name = BM),
      (this.version = LM),
      (this.events = new jl()),
      (this.initialized = !1),
      (this.storagePrefix = xn),
      (this.ignoredPayloadTypes = [Vn]),
      (this.registeredMethods = []),
      (this.init = async () => {
        this.initialized ||
          (await this.pairings.init(),
          await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          (this.initialized = !0),
          this.logger.trace("Initialized"));
      }),
      (this.register = ({ methods: i }) => {
        this.isInitialized(),
          (this.registeredMethods = [
            ...new Set([...this.registeredMethods, ...i]),
          ]);
      }),
      (this.create = async (i) => {
        this.isInitialized();
        const s = Rl(),
          a = await this.core.crypto.setSymKey(s),
          f = gr(Me.FIVE_MINUTES),
          h = { protocol: u2 },
          d = {
            topic: a,
            expiry: f,
            relay: h,
            active: !1,
            methods: i == null ? void 0 : i.methods,
          },
          u = yg({
            protocol: this.core.protocol,
            version: this.core.version,
            topic: a,
            symKey: s,
            relay: h,
            expiryTimestamp: f,
            methods: i == null ? void 0 : i.methods,
          });
        return (
          this.events.emit(Ts.create, d),
          this.core.expirer.set(a, f),
          await this.pairings.set(a, d),
          await this.core.relayer.subscribe(a, {
            transportType: i == null ? void 0 : i.transportType,
          }),
          { topic: a, uri: u }
        );
      }),
      (this.pair = async (i) => {
        this.isInitialized();
        const s = this.core.eventClient.createEvent({
          properties: {
            topic: i == null ? void 0 : i.uri,
            trace: [hn.pairing_started],
          },
        });
        this.isValidPair(i, s);
        const {
          topic: a,
          symKey: f,
          relay: h,
          expiryTimestamp: d,
          methods: u,
        } = mg(i.uri);
        (s.props.properties.topic = a),
          s.addTrace(hn.pairing_uri_validation_success),
          s.addTrace(hn.pairing_uri_not_expired);
        let b;
        if (this.pairings.keys.includes(a)) {
          if (
            ((b = this.pairings.get(a)),
            s.addTrace(hn.existing_pairing),
            b.active)
          )
            throw (
              (s.setError(kn.active_pairing_already_exists),
              new Error(
                `Pairing already exists: ${a}. Please try again with a new connection URI.`,
              ))
            );
          s.addTrace(hn.pairing_not_expired);
        }
        const _ = d || gr(Me.FIVE_MINUTES),
          I = { topic: a, relay: h, expiry: _, active: !1, methods: u };
        this.core.expirer.set(a, _),
          await this.pairings.set(a, I),
          s.addTrace(hn.store_new_pairing),
          i.activatePairing && (await this.activate({ topic: a })),
          this.events.emit(Ts.create, I),
          s.addTrace(hn.emit_inactive_pairing),
          this.core.crypto.keychain.has(a) ||
            (await this.core.crypto.setSymKey(f, a)),
          s.addTrace(hn.subscribing_pairing_topic);
        try {
          await this.core.relayer.confirmOnlineStateOrThrow();
        } catch {
          s.setError(kn.no_internet_connection);
        }
        try {
          await this.core.relayer.subscribe(a, { relay: h });
        } catch (M) {
          throw (s.setError(kn.subscribe_pairing_topic_failure), M);
        }
        return s.addTrace(hn.subscribe_pairing_topic_success), I;
      }),
      (this.activate = async ({ topic: i }) => {
        this.isInitialized();
        const s = gr(Me.THIRTY_DAYS);
        this.core.expirer.set(i, s),
          await this.pairings.update(i, { active: !0, expiry: s });
      }),
      (this.ping = async (i) => {
        this.isInitialized(), await this.isValidPing(i);
        const { topic: s } = i;
        if (this.pairings.keys.includes(s)) {
          const a = await this.sendRequest(s, "wc_pairingPing", {}),
            { done: f, resolve: h, reject: d } = Ns();
          this.events.once(Mt("pairing_ping", a), ({ error: u }) => {
            u ? d(u) : h();
          }),
            await f();
        }
      }),
      (this.updateExpiry = async ({ topic: i, expiry: s }) => {
        this.isInitialized(), await this.pairings.update(i, { expiry: s });
      }),
      (this.updateMetadata = async ({ topic: i, metadata: s }) => {
        this.isInitialized(),
          await this.pairings.update(i, { peerMetadata: s });
      }),
      (this.getPairings = () => (this.isInitialized(), this.pairings.values)),
      (this.disconnect = async (i) => {
        this.isInitialized(), await this.isValidDisconnect(i);
        const { topic: s } = i;
        this.pairings.keys.includes(s) &&
          (await this.sendRequest(
            s,
            "wc_pairingDelete",
            Ut("USER_DISCONNECTED"),
          ),
          await this.deletePairing(s));
      }),
      (this.formatUriFromPairing = (i) => {
        this.isInitialized();
        const { topic: s, relay: a, expiry: f, methods: h } = i,
          d = this.core.crypto.keychain.get(s);
        return yg({
          protocol: this.core.protocol,
          version: this.core.version,
          topic: s,
          symKey: d,
          relay: a,
          expiryTimestamp: f,
          methods: h,
        });
      }),
      (this.sendRequest = async (i, s, a) => {
        const f = ls(s, a),
          h = await this.core.crypto.encode(i, f),
          d = uo[s].req;
        return (
          this.core.history.set(i, f), this.core.relayer.publish(i, h, d), f.id
        );
      }),
      (this.sendResult = async (i, s, a) => {
        const f = Lu(i, a),
          h = await this.core.crypto.encode(s, f),
          d = await this.core.history.get(s, i),
          u = uo[d.request.method].res;
        await this.core.relayer.publish(s, h, u),
          await this.core.history.resolve(f);
      }),
      (this.sendError = async (i, s, a) => {
        const f = Uu(i, a),
          h = await this.core.crypto.encode(s, f),
          d = await this.core.history.get(s, i),
          u = uo[d.request.method]
            ? uo[d.request.method].res
            : uo.unregistered_method.res;
        await this.core.relayer.publish(s, h, u),
          await this.core.history.resolve(f);
      }),
      (this.deletePairing = async (i, s) => {
        await this.core.relayer.unsubscribe(i),
          await Promise.all([
            this.pairings.delete(i, Ut("USER_DISCONNECTED")),
            this.core.crypto.deleteSymKey(i),
            s ? Promise.resolve() : this.core.expirer.del(i),
          ]);
      }),
      (this.cleanup = async () => {
        const i = this.pairings.getAll().filter((s) => as(s.expiry));
        await Promise.all(i.map((s) => this.deletePairing(s.topic)));
      }),
      (this.onRelayEventRequest = (i) => {
        const { topic: s, payload: a } = i;
        switch (a.method) {
          case "wc_pairingPing":
            return this.onPairingPingRequest(s, a);
          case "wc_pairingDelete":
            return this.onPairingDeleteRequest(s, a);
          default:
            return this.onUnknownRpcMethodRequest(s, a);
        }
      }),
      (this.onRelayEventResponse = async (i) => {
        const { topic: s, payload: a } = i,
          f = (await this.core.history.get(s, a.id)).request.method;
        switch (f) {
          case "wc_pairingPing":
            return this.onPairingPingResponse(s, a);
          default:
            return this.onUnknownRpcMethodResponse(f);
        }
      }),
      (this.onPairingPingRequest = async (i, s) => {
        const { id: a } = s;
        try {
          this.isValidPing({ topic: i }),
            await this.sendResult(a, i, !0),
            this.events.emit(Ts.ping, { id: a, topic: i });
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onPairingPingResponse = (i, s) => {
        const { id: a } = s;
        setTimeout(() => {
          pn(s)
            ? this.events.emit(Mt("pairing_ping", a), {})
            : Oi(s) &&
              this.events.emit(Mt("pairing_ping", a), { error: s.error });
        }, 500);
      }),
      (this.onPairingDeleteRequest = async (i, s) => {
        const { id: a } = s;
        try {
          this.isValidDisconnect({ topic: i }),
            await this.deletePairing(i),
            this.events.emit(Ts.delete, { id: a, topic: i });
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onUnknownRpcMethodRequest = async (i, s) => {
        const { id: a, method: f } = s;
        try {
          if (this.registeredMethods.includes(f)) return;
          const h = Ut("WC_METHOD_UNSUPPORTED", f);
          await this.sendError(a, i, h), this.logger.error(h);
        } catch (h) {
          await this.sendError(a, i, h), this.logger.error(h);
        }
      }),
      (this.onUnknownRpcMethodResponse = (i) => {
        this.registeredMethods.includes(i) ||
          this.logger.error(Ut("WC_METHOD_UNSUPPORTED", i));
      }),
      (this.isValidPair = (i, s) => {
        var a;
        if (!ri(i)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `pair() params: ${i}`,
          );
          throw (s.setError(kn.malformed_pairing_uri), new Error(h));
        }
        if (!ux(i.uri)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `pair() uri: ${i.uri}`,
          );
          throw (s.setError(kn.malformed_pairing_uri), new Error(h));
        }
        const f = mg(i == null ? void 0 : i.uri);
        if (!((a = f == null ? void 0 : f.relay) != null && a.protocol)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            "pair() uri#relay-protocol",
          );
          throw (s.setError(kn.malformed_pairing_uri), new Error(h));
        }
        if (!(f != null && f.symKey)) {
          const { message: h } = Ae("MISSING_OR_INVALID", "pair() uri#symKey");
          throw (s.setError(kn.malformed_pairing_uri), new Error(h));
        }
        if (
          f != null &&
          f.expiryTimestamp &&
          Me.toMiliseconds(f == null ? void 0 : f.expiryTimestamp) < Date.now()
        ) {
          s.setError(kn.pairing_expired);
          const { message: h } = Ae(
            "EXPIRED",
            "pair() URI has expired. Please try again with a new connection URI.",
          );
          throw new Error(h);
        }
      }),
      (this.isValidPing = async (i) => {
        if (!ri(i)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `ping() params: ${i}`,
          );
          throw new Error(a);
        }
        const { topic: s } = i;
        await this.isValidPairingTopic(s);
      }),
      (this.isValidDisconnect = async (i) => {
        if (!ri(i)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `disconnect() params: ${i}`,
          );
          throw new Error(a);
        }
        const { topic: s } = i;
        await this.isValidPairingTopic(s);
      }),
      (this.isValidPairingTopic = async (i) => {
        if (!cr(i, !1)) {
          const { message: s } = Ae(
            "MISSING_OR_INVALID",
            `pairing topic should be a string: ${i}`,
          );
          throw new Error(s);
        }
        if (!this.pairings.keys.includes(i)) {
          const { message: s } = Ae(
            "NO_MATCHING_KEY",
            `pairing topic doesn't exist: ${i}`,
          );
          throw new Error(s);
        }
        if (as(this.pairings.get(i).expiry)) {
          await this.deletePairing(i);
          const { message: s } = Ae("EXPIRED", `pairing topic: ${i}`);
          throw new Error(s);
        }
      }),
      (this.core = e),
      (this.logger = Kr(t, this.name)),
      (this.pairings = new Ks(
        this.core,
        this.logger,
        this.name,
        this.storagePrefix,
      ));
  }
  get context() {
    return si(this.logger);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  registerRelayerEvents() {
    this.core.relayer.on(kr.message, async (e) => {
      const { topic: t, message: i, transportType: s } = e;
      if (
        !this.pairings.keys.includes(t) ||
        s === Gt.link_mode ||
        this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i))
      )
        return;
      const a = await this.core.crypto.decode(t, i);
      try {
        sd(a)
          ? (this.core.history.set(t, a),
            this.onRelayEventRequest({ topic: t, payload: a }))
          : zu(a) &&
            (await this.core.history.resolve(a),
            await this.onRelayEventResponse({ topic: t, payload: a }),
            this.core.history.delete(t, a.id));
      } catch (f) {
        this.logger.error(f);
      }
    });
  }
  registerExpirerEvents() {
    this.core.expirer.on(Pi.expired, async (e) => {
      const { topic: t } = ob(e.target);
      t &&
        this.pairings.keys.includes(t) &&
        (await this.deletePairing(t, !0),
        this.events.emit(Ts.expire, { topic: t }));
    });
  }
}
class jD extends TS {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.records = new Map()),
      (this.events = new gi.EventEmitter()),
      (this.name = UM),
      (this.version = zM),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = xn),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.records.set(i.id, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.set = (i, s, a) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Setting JSON-RPC request history record"),
          this.logger.trace({
            type: "method",
            method: "set",
            topic: i,
            request: s,
            chainId: a,
          }),
          this.records.has(s.id))
        )
          return;
        const f = {
          id: s.id,
          topic: i,
          request: { method: s.method, params: s.params || null },
          chainId: a,
          expiry: gr(Me.THIRTY_DAYS),
        };
        this.records.set(f.id, f),
          this.persist(),
          this.events.emit(Vi.created, f);
      }),
      (this.resolve = async (i) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Updating JSON-RPC response history record"),
          this.logger.trace({ type: "method", method: "update", response: i }),
          !this.records.has(i.id))
        )
          return;
        const s = await this.getRecord(i.id);
        typeof s.response > "u" &&
          ((s.response = Oi(i) ? { error: i.error } : { result: i.result }),
          this.records.set(s.id, s),
          this.persist(),
          this.events.emit(Vi.updated, s));
      }),
      (this.get = async (i, s) => (
        this.isInitialized(),
        this.logger.debug("Getting record"),
        this.logger.trace({ type: "method", method: "get", topic: i, id: s }),
        await this.getRecord(s)
      )),
      (this.delete = (i, s) => {
        this.isInitialized(),
          this.logger.debug("Deleting record"),
          this.logger.trace({ type: "method", method: "delete", id: s }),
          this.values.forEach((a) => {
            if (a.topic === i) {
              if (typeof s < "u" && a.id !== s) return;
              this.records.delete(a.id), this.events.emit(Vi.deleted, a);
            }
          }),
          this.persist();
      }),
      (this.exists = async (i, s) => (
        this.isInitialized(),
        this.records.has(s) ? (await this.getRecord(s)).topic === i : !1
      )),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.logger = Kr(t, this.name));
  }
  get context() {
    return si(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get size() {
    return this.records.size;
  }
  get keys() {
    return Array.from(this.records.keys());
  }
  get values() {
    return Array.from(this.records.values());
  }
  get pending() {
    const e = [];
    return (
      this.values.forEach((t) => {
        if (typeof t.response < "u") return;
        const i = {
          topic: t.topic,
          request: ls(t.request.method, t.request.params, t.id),
          chainId: t.chainId,
        };
        return e.push(i);
      }),
      e
    );
  }
  async setJsonRpcRecords(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getJsonRpcRecords() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getRecord(e) {
    this.isInitialized();
    const t = this.records.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  async persist() {
    await this.setJsonRpcRecords(this.values), this.events.emit(Vi.sync);
  }
  async restore() {
    try {
      const e = await this.getJsonRpcRecords();
      if (typeof e > "u" || !e.length) return;
      if (this.records.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored records for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          records: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore records for ${this.name}`),
        this.logger.error(e);
    }
  }
  registerEventListeners() {
    this.events.on(Vi.created, (e) => {
      const t = Vi.created;
      this.logger.info(`Emitting ${t}`),
        this.logger.debug({ type: "event", event: t, record: e });
    }),
      this.events.on(Vi.updated, (e) => {
        const t = Vi.updated;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.events.on(Vi.deleted, (e) => {
        const t = Vi.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.core.heartbeat.on(Ca.pulse, () => {
        this.cleanup();
      });
  }
  cleanup() {
    try {
      this.isInitialized();
      let e = !1;
      this.records.forEach((t) => {
        Me.toMiliseconds(t.expiry || 0) - Date.now() <= 0 &&
          (this.logger.info(`Deleting expired history log: ${t.id}`),
          this.records.delete(t.id),
          this.events.emit(Vi.deleted, t, !1),
          (e = !0));
      }),
        e && this.persist();
    } catch (e) {
      this.logger.warn(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class $D extends zS {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.expirations = new Map()),
      (this.events = new gi.EventEmitter()),
      (this.name = kM),
      (this.version = jM),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = xn),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.expirations.set(i.target, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.has = (i) => {
        try {
          const s = this.formatTarget(i);
          return typeof this.getExpiration(s) < "u";
        } catch {
          return !1;
        }
      }),
      (this.set = (i, s) => {
        this.isInitialized();
        const a = this.formatTarget(i),
          f = { target: a, expiry: s };
        this.expirations.set(a, f),
          this.checkExpiry(a, f),
          this.events.emit(Pi.created, { target: a, expiration: f });
      }),
      (this.get = (i) => {
        this.isInitialized();
        const s = this.formatTarget(i);
        return this.getExpiration(s);
      }),
      (this.del = (i) => {
        if ((this.isInitialized(), this.has(i))) {
          const s = this.formatTarget(i),
            a = this.getExpiration(s);
          this.expirations.delete(s),
            this.events.emit(Pi.deleted, { target: s, expiration: a });
        }
      }),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.logger = Kr(t, this.name));
  }
  get context() {
    return si(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.expirations.size;
  }
  get keys() {
    return Array.from(this.expirations.keys());
  }
  get values() {
    return Array.from(this.expirations.values());
  }
  formatTarget(e) {
    if (typeof e == "string") return D7(e);
    if (typeof e == "number") return P7(e);
    const { message: t } = Ae("UNKNOWN_TYPE", `Target type: ${typeof e}`);
    throw new Error(t);
  }
  async setExpirations(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getExpirations() {
    return await this.core.storage.getItem(this.storageKey);
  }
  async persist() {
    await this.setExpirations(this.values), this.events.emit(Pi.sync);
  }
  async restore() {
    try {
      const e = await this.getExpirations();
      if (typeof e > "u" || !e.length) return;
      if (this.expirations.size) {
        const { message: t } = Ae("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored expirations for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          expirations: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore expirations for ${this.name}`),
        this.logger.error(e);
    }
  }
  getExpiration(e) {
    const t = this.expirations.get(e);
    if (!t) {
      const { message: i } = Ae("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.warn(i), new Error(i));
    }
    return t;
  }
  checkExpiry(e, t) {
    const { expiry: i } = t;
    Me.toMiliseconds(i) - Date.now() <= 0 && this.expire(e, t);
  }
  expire(e, t) {
    this.expirations.delete(e),
      this.events.emit(Pi.expired, { target: e, expiration: t });
  }
  checkExpirations() {
    this.core.relayer.connected &&
      this.expirations.forEach((e, t) => this.checkExpiry(t, e));
  }
  registerEventListeners() {
    this.core.heartbeat.on(Ca.pulse, () => this.checkExpirations()),
      this.events.on(Pi.created, (e) => {
        const t = Pi.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on(Pi.expired, (e) => {
        const t = Pi.expired;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on(Pi.deleted, (e) => {
        const t = Pi.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
var Qt = {};
Object.defineProperty(Qt, "__esModule", { value: !0 }),
  (Qt.getLocalStorage =
    Qt.getLocalStorageOrThrow =
    Qt.getCrypto =
    Qt.getCryptoOrThrow =
    Qt.getLocation =
    Qt.getLocationOrThrow =
    Qt.getNavigator =
    Qt.getNavigatorOrThrow =
    A2 =
    Qt.getDocument =
    Qt.getDocumentOrThrow =
    Qt.getFromWindowOrThrow =
    Qt.getFromWindow =
      void 0);
function Vs(r) {
  let e;
  return typeof window < "u" && typeof window[r] < "u" && (e = window[r]), e;
}
Qt.getFromWindow = Vs;
function Oa(r) {
  const e = Vs(r);
  if (!e) throw new Error(`${r} is not defined in Window`);
  return e;
}
Qt.getFromWindowOrThrow = Oa;
function HD() {
  return Oa("document");
}
Qt.getDocumentOrThrow = HD;
function KD() {
  return Vs("document");
}
var A2 = (Qt.getDocument = KD);
function VD() {
  return Oa("navigator");
}
Qt.getNavigatorOrThrow = VD;
function GD() {
  return Vs("navigator");
}
Qt.getNavigator = GD;
function WD() {
  return Oa("location");
}
Qt.getLocationOrThrow = WD;
function JD() {
  return Vs("location");
}
Qt.getLocation = JD;
function YD() {
  return Oa("crypto");
}
Qt.getCryptoOrThrow = YD;
function QD() {
  return Vs("crypto");
}
Qt.getCrypto = QD;
function XD() {
  return Oa("localStorage");
}
Qt.getLocalStorageOrThrow = XD;
function ZD() {
  return Vs("localStorage");
}
Qt.getLocalStorage = ZD;
class eP extends kS {
  constructor(e, t, i) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.store = i),
      (this.name = $M),
      (this.verifyUrlV3 = KM),
      (this.storagePrefix = xn),
      (this.version = c2),
      (this.init = async () => {
        var s;
        this.isDevEnv ||
          ((this.publicKey = await this.store.getItem(this.storeKey)),
          this.publicKey &&
            Me.toMiliseconds(
              (s = this.publicKey) == null ? void 0 : s.expiresAt,
            ) < Date.now() &&
            (this.logger.debug("verify v2 public key expired"),
            await this.removePublicKey()));
      }),
      (this.register = async (s) => {
        if (!qo() || this.isDevEnv) return;
        const a = window.location.origin,
          { id: f, decryptedId: h } = s,
          d = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${f}&decryptedId=${h}`;
        try {
          const u = A2(),
            b = this.startAbortTimer(Me.ONE_SECOND * 5),
            _ = await new Promise((I, M) => {
              const C = () => {
                window.removeEventListener("message", L),
                  u.body.removeChild(R),
                  M("attestation aborted");
              };
              this.abortController.signal.addEventListener("abort", C);
              const R = u.createElement("iframe");
              (R.src = d),
                (R.style.display = "none"),
                R.addEventListener("error", C, {
                  signal: this.abortController.signal,
                });
              const L = (V) => {
                if (V.data && typeof V.data == "string")
                  try {
                    const F = JSON.parse(V.data);
                    if (F.type === "verify_attestation") {
                      if (Sl(F.attestation).payload.id !== f) return;
                      clearInterval(b),
                        u.body.removeChild(R),
                        this.abortController.signal.removeEventListener(
                          "abort",
                          C,
                        ),
                        window.removeEventListener("message", L),
                        I(F.attestation === null ? "" : F.attestation);
                    }
                  } catch (F) {
                    this.logger.warn(F);
                  }
              };
              u.body.appendChild(R),
                window.addEventListener("message", L, {
                  signal: this.abortController.signal,
                });
            });
          return this.logger.debug("jwt attestation", _), _;
        } catch (u) {
          this.logger.warn(u);
        }
        return "";
      }),
      (this.resolve = async (s) => {
        if (this.isDevEnv) return "";
        const { attestationId: a, hash: f, encryptedId: h } = s;
        if (a === "") {
          this.logger.debug("resolve: attestationId is empty, skipping");
          return;
        }
        if (a) {
          if (Sl(a).payload.id !== h) return;
          const u = await this.isValidJwtAttestation(a);
          if (u) {
            if (!u.isVerified) {
              this.logger.warn(
                "resolve: jwt attestation: origin url not verified",
              );
              return;
            }
            return u;
          }
        }
        if (!f) return;
        const d = this.getVerifyUrl(s == null ? void 0 : s.verifyUrl);
        return this.fetchAttestation(f, d);
      }),
      (this.fetchAttestation = async (s, a) => {
        this.logger.debug(`resolving attestation: ${s} from url: ${a}`);
        const f = this.startAbortTimer(Me.ONE_SECOND * 5),
          h = await fetch(`${a}/attestation/${s}?v2Supported=true`, {
            signal: this.abortController.signal,
          });
        return clearTimeout(f), h.status === 200 ? await h.json() : void 0;
      }),
      (this.getVerifyUrl = (s) => {
        let a = s || xo;
        return (
          VM.includes(a) ||
            (this.logger.info(
              `verify url: ${a}, not included in trusted list, assigning default: ${xo}`,
            ),
            (a = xo)),
          a
        );
      }),
      (this.fetchPublicKey = async () => {
        try {
          this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);
          const s = this.startAbortTimer(Me.FIVE_SECONDS),
            a = await fetch(`${this.verifyUrlV3}/public-key`, {
              signal: this.abortController.signal,
            });
          return clearTimeout(s), await a.json();
        } catch (s) {
          this.logger.warn(s);
        }
      }),
      (this.persistPublicKey = async (s) => {
        this.logger.debug("persisting public key to local storage", s),
          await this.store.setItem(this.storeKey, s),
          (this.publicKey = s);
      }),
      (this.removePublicKey = async () => {
        this.logger.debug("removing verify v2 public key from storage"),
          await this.store.removeItem(this.storeKey),
          (this.publicKey = void 0);
      }),
      (this.isValidJwtAttestation = async (s) => {
        const a = await this.getPublicKey();
        try {
          if (a) return this.validateAttestation(s, a);
        } catch (h) {
          this.logger.error(h),
            this.logger.warn("error validating attestation");
        }
        const f = await this.fetchAndPersistPublicKey();
        try {
          if (f) return this.validateAttestation(s, f);
        } catch (h) {
          this.logger.error(h),
            this.logger.warn("error validating attestation");
        }
      }),
      (this.getPublicKey = async () =>
        this.publicKey
          ? this.publicKey
          : await this.fetchAndPersistPublicKey()),
      (this.fetchAndPersistPublicKey = async () => {
        if (this.fetchPromise) return await this.fetchPromise, this.publicKey;
        this.fetchPromise = new Promise(async (a) => {
          const f = await this.fetchPublicKey();
          f && (await this.persistPublicKey(f), a(f));
        });
        const s = await this.fetchPromise;
        return (this.fetchPromise = void 0), s;
      }),
      (this.validateAttestation = (s, a) => {
        const f = HE(s, a.publicKey),
          h = { hasExpired: Me.toMiliseconds(f.exp) < Date.now(), payload: f };
        if (h.hasExpired)
          throw (
            (this.logger.warn("resolve: jwt attestation expired"),
            new Error("JWT attestation expired"))
          );
        return {
          origin: h.payload.origin,
          isScam: h.payload.isScam,
          isVerified: h.payload.isVerified,
        };
      }),
      (this.logger = Kr(t, this.name)),
      (this.abortController = new AbortController()),
      (this.isDevEnv = Gl()),
      this.init();
  }
  get storeKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//verify:public:key"
    );
  }
  get context() {
    return si(this.logger);
  }
  startAbortTimer(e) {
    return (
      (this.abortController = new AbortController()),
      setTimeout(() => this.abortController.abort(), Me.toMiliseconds(e))
    );
  }
}
class tP extends jS {
  constructor(e, t) {
    super(e, t),
      (this.projectId = e),
      (this.logger = t),
      (this.context = GM),
      (this.registerDeviceToken = async (i) => {
        const {
            clientId: s,
            token: a,
            notificationType: f,
            enableEncrypted: h = !1,
          } = i,
          d = `${WM}/${this.projectId}/clients`;
        await fetch(d, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            client_id: s,
            type: f,
            token: a,
            always_raw: h,
          }),
        });
      }),
      (this.logger = Kr(t, this.context));
  }
}
var rP = Object.defineProperty,
  av = Object.getOwnPropertySymbols,
  iP = Object.prototype.hasOwnProperty,
  nP = Object.prototype.propertyIsEnumerable,
  ov = (r, e, t) =>
    e in r
      ? rP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  lo = (r, e) => {
    for (var t in e || (e = {})) iP.call(e, t) && ov(r, t, e[t]);
    if (av) for (var t of av(e)) nP.call(e, t) && ov(r, t, e[t]);
    return r;
  };
class sP extends $S {
  constructor(e, t, i = !0) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.context = YM),
      (this.storagePrefix = xn),
      (this.storageVersion = JM),
      (this.events = new Map()),
      (this.shouldPersist = !1),
      (this.init = async () => {
        if (!Gl())
          try {
            const s = {
              eventId: L1(),
              timestamp: Date.now(),
              domain: this.getAppDomain(),
              props: {
                event: "INIT",
                type: "",
                properties: {
                  client_id: await this.core.crypto.getClientId(),
                  user_agent: ib(
                    this.core.relayer.protocol,
                    this.core.relayer.version,
                    ql,
                  ),
                },
              },
            };
            await this.sendEvent([s]);
          } catch (s) {
            this.logger.warn(s);
          }
      }),
      (this.createEvent = (s) => {
        const {
            event: a = "ERROR",
            type: f = "",
            properties: { topic: h, trace: d },
          } = s,
          u = L1(),
          b = this.core.projectId || "",
          _ = Date.now(),
          I = lo(
            {
              eventId: u,
              timestamp: _,
              props: { event: a, type: f, properties: { topic: h, trace: d } },
              bundleId: b,
              domain: this.getAppDomain(),
            },
            this.setMethods(u),
          );
        return (
          this.telemetryEnabled &&
            (this.events.set(u, I), (this.shouldPersist = !0)),
          I
        );
      }),
      (this.getEvent = (s) => {
        const { eventId: a, topic: f } = s;
        if (a) return this.events.get(a);
        const h = Array.from(this.events.values()).find(
          (d) => d.props.properties.topic === f,
        );
        if (h) return lo(lo({}, h), this.setMethods(h.eventId));
      }),
      (this.deleteEvent = (s) => {
        const { eventId: a } = s;
        this.events.delete(a), (this.shouldPersist = !0);
      }),
      (this.setEventListeners = () => {
        this.core.heartbeat.on(Ca.pulse, async () => {
          this.shouldPersist && (await this.persist()),
            this.events.forEach((s) => {
              Me.fromMiliseconds(Date.now()) - Me.fromMiliseconds(s.timestamp) >
                QM &&
                (this.events.delete(s.eventId), (this.shouldPersist = !0));
            });
        });
      }),
      (this.setMethods = (s) => ({
        addTrace: (a) => this.addTrace(s, a),
        setError: (a) => this.setError(s, a),
      })),
      (this.addTrace = (s, a) => {
        const f = this.events.get(s);
        f &&
          (f.props.properties.trace.push(a),
          this.events.set(s, f),
          (this.shouldPersist = !0));
      }),
      (this.setError = (s, a) => {
        const f = this.events.get(s);
        f &&
          ((f.props.type = a),
          (f.timestamp = Date.now()),
          this.events.set(s, f),
          (this.shouldPersist = !0));
      }),
      (this.persist = async () => {
        await this.core.storage.setItem(
          this.storageKey,
          Array.from(this.events.values()),
        ),
          (this.shouldPersist = !1);
      }),
      (this.restore = async () => {
        try {
          const s = (await this.core.storage.getItem(this.storageKey)) || [];
          if (!s.length) return;
          s.forEach((a) => {
            this.events.set(
              a.eventId,
              lo(lo({}, a), this.setMethods(a.eventId)),
            );
          });
        } catch (s) {
          this.logger.warn(s);
        }
      }),
      (this.submit = async () => {
        if (!this.telemetryEnabled || this.events.size === 0) return;
        const s = [];
        for (const [a, f] of this.events) f.props.type && s.push(f);
        if (s.length !== 0)
          try {
            if ((await this.sendEvent(s)).ok)
              for (const a of s)
                this.events.delete(a.eventId), (this.shouldPersist = !0);
          } catch (a) {
            this.logger.warn(a);
          }
      }),
      (this.sendEvent = async (s) => {
        const a = this.getAppDomain() ? "" : "&sp=desktop";
        return await fetch(
          `${XM}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${ql}${a}`,
          { method: "POST", body: JSON.stringify(s) },
        );
      }),
      (this.getAppDomain = () => rb().url),
      (this.logger = Kr(t, this.context)),
      (this.telemetryEnabled = i),
      i
        ? this.restore().then(async () => {
            await this.submit(), this.setEventListeners();
          })
        : this.persist();
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.storageVersion +
      this.core.customStoragePrefix +
      "//" +
      this.context
    );
  }
}
var aP = Object.defineProperty,
  cv = Object.getOwnPropertySymbols,
  oP = Object.prototype.hasOwnProperty,
  cP = Object.prototype.propertyIsEnumerable,
  uv = (r, e, t) =>
    e in r
      ? aP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  fv = (r, e) => {
    for (var t in e || (e = {})) oP.call(e, t) && uv(r, t, e[t]);
    if (cv) for (var t of cv(e)) cP.call(e, t) && uv(r, t, e[t]);
    return r;
  };
class od extends NS {
  constructor(e) {
    var t;
    super(e),
      (this.protocol = o2),
      (this.version = c2),
      (this.name = ad),
      (this.events = new gi.EventEmitter()),
      (this.initialized = !1),
      (this.on = (f, h) => this.events.on(f, h)),
      (this.once = (f, h) => this.events.once(f, h)),
      (this.off = (f, h) => this.events.off(f, h)),
      (this.removeListener = (f, h) => this.events.removeListener(f, h)),
      (this.dispatchEnvelope = ({ topic: f, message: h, sessionExists: d }) => {
        if (!f || !h) return;
        const u = {
          topic: f,
          message: h,
          publishedAt: Date.now(),
          transportType: Gt.link_mode,
        };
        this.relayer.onLinkMessageEvent(u, { sessionExists: d });
      }),
      (this.projectId = e == null ? void 0 : e.projectId),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || f2),
      (this.customStoragePrefix =
        e != null && e.customStoragePrefix ? `:${e.customStoragePrefix}` : "");
    const i = Bu({
        level:
          typeof (e == null ? void 0 : e.logger) == "string" && e.logger
            ? e.logger
            : mM.logger,
      }),
      { logger: s, chunkLoggerController: a } = RS({
        opts: i,
        maxSizeInBytes: e == null ? void 0 : e.maxLogBlobSizeInBytes,
        loggerOverride: e == null ? void 0 : e.logger,
      });
    (this.logChunkController = a),
      (t = this.logChunkController) != null &&
        t.downloadLogsBlobInBrowser &&
        (window.downloadLogsBlobInBrowser = async () => {
          var f, h;
          (f = this.logChunkController) != null &&
            f.downloadLogsBlobInBrowser &&
            ((h = this.logChunkController) == null ||
              h.downloadLogsBlobInBrowser({
                clientId: await this.crypto.getClientId(),
              }));
        }),
      (this.logger = Kr(s, this.name)),
      (this.heartbeat = new Bx()),
      (this.crypto = new ED(
        this,
        this.logger,
        e == null ? void 0 : e.keychain,
      )),
      (this.history = new jD(this, this.logger)),
      (this.expirer = new $D(this, this.logger)),
      (this.storage =
        e != null && e.storage
          ? e.storage
          : new gS(fv(fv({}, yM), e == null ? void 0 : e.storageOptions))),
      (this.relayer = new BD({
        core: this,
        logger: this.logger,
        relayUrl: this.relayUrl,
        projectId: this.projectId,
      })),
      (this.pairing = new kD(this, this.logger)),
      (this.verify = new eP(this, this.logger, this.storage)),
      (this.echoClient = new tP(this.projectId || "", this.logger)),
      (this.linkModeSupportedApps = []),
      (this.eventClient = new sP(
        this,
        this.logger,
        e == null ? void 0 : e.telemetryEnabled,
      ));
  }
  static async init(e) {
    const t = new od(e);
    await t.initialize();
    const i = await t.crypto.getClientId();
    return await t.storage.setItem(NM, i), t;
  }
  get context() {
    return si(this.logger);
  }
  async start() {
    this.initialized || (await this.initialize());
  }
  async getLogsBlob() {
    var e;
    return (e = this.logChunkController) == null
      ? void 0
      : e.logsToBlob({ clientId: await this.crypto.getClientId() });
  }
  async addLinkModeSupportedApp(e) {
    this.linkModeSupportedApps.includes(e) ||
      (this.linkModeSupportedApps.push(e),
      await this.storage.setItem(Vg, this.linkModeSupportedApps));
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.crypto.init(),
        await this.history.init(),
        await this.expirer.init(),
        await this.relayer.init(),
        await this.heartbeat.init(),
        await this.pairing.init(),
        this.eventClient.init(),
        (this.linkModeSupportedApps = (await this.storage.getItem(Vg)) || []),
        (this.initialized = !0),
        this.logger.info("Core Initialization Success");
    } catch (e) {
      throw (
        (this.logger.warn(
          `Core Initialization Failure at epoch ${Date.now()}`,
          e,
        ),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
const uP = od,
  E2 = "wc",
  x2 = 2,
  S2 = "client",
  cd = `${E2}@${x2}:${S2}:`,
  gl = {
    name: S2,
    logger: "error",
    controller: !1,
    relayUrl: "wss://relay.walletconnect.org",
  },
  hv = "WALLETCONNECT_DEEPLINK_CHOICE",
  fP = "proposal",
  M2 = "Proposal expired",
  hP = "session",
  da = Me.SEVEN_DAYS,
  lP = "engine",
  yr = {
    wc_sessionPropose: {
      req: { ttl: Me.FIVE_MINUTES, prompt: !0, tag: 1100 },
      res: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1101 },
      reject: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1120 },
      autoReject: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1121 },
    },
    wc_sessionSettle: {
      req: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1102 },
      res: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1103 },
    },
    wc_sessionUpdate: {
      req: { ttl: Me.ONE_DAY, prompt: !1, tag: 1104 },
      res: { ttl: Me.ONE_DAY, prompt: !1, tag: 1105 },
    },
    wc_sessionExtend: {
      req: { ttl: Me.ONE_DAY, prompt: !1, tag: 1106 },
      res: { ttl: Me.ONE_DAY, prompt: !1, tag: 1107 },
    },
    wc_sessionRequest: {
      req: { ttl: Me.FIVE_MINUTES, prompt: !0, tag: 1108 },
      res: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1109 },
    },
    wc_sessionEvent: {
      req: { ttl: Me.FIVE_MINUTES, prompt: !0, tag: 1110 },
      res: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1111 },
    },
    wc_sessionDelete: {
      req: { ttl: Me.ONE_DAY, prompt: !1, tag: 1112 },
      res: { ttl: Me.ONE_DAY, prompt: !1, tag: 1113 },
    },
    wc_sessionPing: {
      req: { ttl: Me.ONE_DAY, prompt: !1, tag: 1114 },
      res: { ttl: Me.ONE_DAY, prompt: !1, tag: 1115 },
    },
    wc_sessionAuthenticate: {
      req: { ttl: Me.ONE_HOUR, prompt: !0, tag: 1116 },
      res: { ttl: Me.ONE_HOUR, prompt: !1, tag: 1117 },
      reject: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1118 },
      autoReject: { ttl: Me.FIVE_MINUTES, prompt: !1, tag: 1119 },
    },
  },
  vl = { min: Me.FIVE_MINUTES, max: Me.SEVEN_DAYS },
  fn = { idle: "IDLE", active: "ACTIVE" },
  dP = "request",
  pP = [
    "wc_sessionPropose",
    "wc_sessionRequest",
    "wc_authRequest",
    "wc_sessionAuthenticate",
  ],
  gP = "wc",
  vP = "auth",
  bP = "authKeys",
  mP = "pairingTopics",
  yP = "requests",
  ju = `${gP}@${1.5}:${vP}:`,
  bu = `${ju}:PUB_KEY`;
var wP = Object.defineProperty,
  _P = Object.defineProperties,
  AP = Object.getOwnPropertyDescriptors,
  lv = Object.getOwnPropertySymbols,
  EP = Object.prototype.hasOwnProperty,
  xP = Object.prototype.propertyIsEnumerable,
  dv = (r, e, t) =>
    e in r
      ? wP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  rr = (r, e) => {
    for (var t in e || (e = {})) EP.call(e, t) && dv(r, t, e[t]);
    if (lv) for (var t of lv(e)) xP.call(e, t) && dv(r, t, e[t]);
    return r;
  },
  Wi = (r, e) => _P(r, AP(e));
class SP extends KS {
  constructor(e) {
    super(e),
      (this.name = lP),
      (this.events = new jl()),
      (this.initialized = !1),
      (this.requestQueue = { state: fn.idle, queue: [] }),
      (this.sessionRequestQueue = { state: fn.idle, queue: [] }),
      (this.requestQueueDelay = Me.ONE_SECOND),
      (this.expectedPairingMethodMap = new Map()),
      (this.recentlyDeletedMap = new Map()),
      (this.recentlyDeletedLimit = 200),
      (this.relayMessageCache = []),
      (this.init = async () => {
        this.initialized ||
          (await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          this.registerPairingEvents(),
          await this.registerLinkModeListeners(),
          this.client.core.pairing.register({ methods: Object.keys(yr) }),
          (this.initialized = !0),
          setTimeout(() => {
            (this.sessionRequestQueue.queue = this.getPendingSessionRequests()),
              this.processSessionRequestQueue();
          }, Me.toMiliseconds(this.requestQueueDelay)));
      }),
      (this.connect = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        const i = Wi(rr({}, t), {
          requiredNamespaces: t.requiredNamespaces || {},
          optionalNamespaces: t.optionalNamespaces || {},
        });
        await this.isValidConnect(i);
        const {
          pairingTopic: s,
          requiredNamespaces: a,
          optionalNamespaces: f,
          sessionProperties: h,
          relays: d,
        } = i;
        let u = s,
          b,
          _ = !1;
        try {
          u && (_ = this.client.core.pairing.pairings.get(u).active);
        } catch (B) {
          throw (
            (this.client.logger.error(`connect() -> pairing.get(${u}) failed`),
            B)
          );
        }
        if (!u || !_) {
          const { topic: B, uri: z } = await this.client.core.pairing.create();
          (u = B), (b = z);
        }
        if (!u) {
          const { message: B } = Ae(
            "NO_MATCHING_KEY",
            `connect() pairing topic: ${u}`,
          );
          throw new Error(B);
        }
        const I = await this.client.core.crypto.generateKeyPair(),
          M = yr.wc_sessionPropose.req.ttl || Me.FIVE_MINUTES,
          C = gr(M),
          R = rr(
            {
              requiredNamespaces: a,
              optionalNamespaces: f,
              relays: d ?? [{ protocol: u2 }],
              proposer: { publicKey: I, metadata: this.client.metadata },
              expiryTimestamp: C,
              pairingTopic: u,
            },
            h && { sessionProperties: h },
          ),
          { reject: L, resolve: V, done: F } = Ns(M, M2);
        this.events.once(
          Mt("session_connect"),
          async ({ error: B, session: z }) => {
            if (B) L(B);
            else if (z) {
              z.self.publicKey = I;
              const q = Wi(rr({}, z), {
                pairingTopic: R.pairingTopic,
                requiredNamespaces: R.requiredNamespaces,
                optionalNamespaces: R.optionalNamespaces,
                transportType: Gt.relay,
              });
              await this.client.session.set(z.topic, q),
                await this.setExpiry(z.topic, z.expiry),
                u &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: u,
                    metadata: z.peer.metadata,
                  })),
                this.cleanupDuplicatePairings(q),
                V(q);
            }
          },
        );
        const K = await this.sendRequest({
          topic: u,
          method: "wc_sessionPropose",
          params: R,
          throwOnFailedPublish: !0,
        });
        return (
          await this.setProposal(K, rr({ id: K }, R)), { uri: b, approval: F }
        );
      }),
      (this.pair = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          return await this.client.core.pairing.pair(t);
        } catch (i) {
          throw (this.client.logger.error("pair() failed"), i);
        }
      }),
      (this.approve = async (t) => {
        var i, s, a;
        const f = this.client.core.eventClient.createEvent({
          properties: {
            topic:
              (i = t == null ? void 0 : t.id) == null ? void 0 : i.toString(),
            trace: [Gi.session_approve_started],
          },
        });
        try {
          this.isInitialized(), await this.confirmOnlineStateOrThrow();
        } catch (U) {
          throw (f.setError(Os.no_internet_connection), U);
        }
        try {
          await this.isValidProposalId(t == null ? void 0 : t.id);
        } catch (U) {
          throw (
            (this.client.logger.error(
              `approve() -> proposal.get(${t == null ? void 0 : t.id}) failed`,
            ),
            f.setError(Os.proposal_not_found),
            U)
          );
        }
        try {
          await this.isValidApprove(t);
        } catch (U) {
          throw (
            (this.client.logger.error("approve() -> isValidApprove() failed"),
            f.setError(Os.session_approve_namespace_validation_failure),
            U)
          );
        }
        const {
            id: h,
            relayProtocol: d,
            namespaces: u,
            sessionProperties: b,
            sessionConfig: _,
          } = t,
          I = this.client.proposal.get(h);
        this.client.core.eventClient.deleteEvent({ eventId: f.eventId });
        const {
          pairingTopic: M,
          proposer: C,
          requiredNamespaces: R,
          optionalNamespaces: L,
        } = I;
        let V =
          (s = this.client.core.eventClient) == null
            ? void 0
            : s.getEvent({ topic: M });
        V ||
          (V =
            (a = this.client.core.eventClient) == null
              ? void 0
              : a.createEvent({
                  type: Gi.session_approve_started,
                  properties: {
                    topic: M,
                    trace: [
                      Gi.session_approve_started,
                      Gi.session_namespaces_validation_success,
                    ],
                  },
                }));
        const F = await this.client.core.crypto.generateKeyPair(),
          K = C.publicKey,
          B = await this.client.core.crypto.generateSharedKey(F, K),
          z = rr(
            rr(
              {
                relay: { protocol: d ?? "irn" },
                namespaces: u,
                controller: { publicKey: F, metadata: this.client.metadata },
                expiry: gr(da),
              },
              b && { sessionProperties: b },
            ),
            _ && { sessionConfig: _ },
          ),
          q = Gt.relay;
        V.addTrace(Gi.subscribing_session_topic);
        try {
          await this.client.core.relayer.subscribe(B, { transportType: q });
        } catch (U) {
          throw (V.setError(Os.subscribe_session_topic_failure), U);
        }
        V.addTrace(Gi.subscribe_session_topic_success);
        const E = Wi(rr({}, z), {
          topic: B,
          requiredNamespaces: R,
          optionalNamespaces: L,
          pairingTopic: M,
          acknowledged: !1,
          self: z.controller,
          peer: { publicKey: C.publicKey, metadata: C.metadata },
          controller: F,
          transportType: Gt.relay,
        });
        await this.client.session.set(B, E), V.addTrace(Gi.store_session);
        try {
          V.addTrace(Gi.publishing_session_settle),
            await this.sendRequest({
              topic: B,
              method: "wc_sessionSettle",
              params: z,
              throwOnFailedPublish: !0,
            }).catch((U) => {
              throw (
                (V == null || V.setError(Os.session_settle_publish_failure), U)
              );
            }),
            V.addTrace(Gi.session_settle_publish_success),
            V.addTrace(Gi.publishing_session_approve),
            await this.sendResult({
              id: h,
              topic: M,
              result: {
                relay: { protocol: d ?? "irn" },
                responderPublicKey: F,
              },
              throwOnFailedPublish: !0,
            }).catch((U) => {
              throw (
                (V == null || V.setError(Os.session_approve_publish_failure), U)
              );
            }),
            V.addTrace(Gi.session_approve_publish_success);
        } catch (U) {
          throw (
            (this.client.logger.error(U),
            this.client.session.delete(B, Ut("USER_DISCONNECTED")),
            await this.client.core.relayer.unsubscribe(B),
            U)
          );
        }
        return (
          this.client.core.eventClient.deleteEvent({ eventId: V.eventId }),
          await this.client.core.pairing.updateMetadata({
            topic: M,
            metadata: C.metadata,
          }),
          await this.client.proposal.delete(h, Ut("USER_DISCONNECTED")),
          await this.client.core.pairing.activate({ topic: M }),
          await this.setExpiry(B, gr(da)),
          {
            topic: B,
            acknowledged: () => Promise.resolve(this.client.session.get(B)),
          }
        );
      }),
      (this.reject = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidReject(t);
        } catch (f) {
          throw (
            (this.client.logger.error("reject() -> isValidReject() failed"), f)
          );
        }
        const { id: i, reason: s } = t;
        let a;
        try {
          a = this.client.proposal.get(i).pairingTopic;
        } catch (f) {
          throw (
            (this.client.logger.error(`reject() -> proposal.get(${i}) failed`),
            f)
          );
        }
        a &&
          (await this.sendError({
            id: i,
            topic: a,
            error: s,
            rpcOpts: yr.wc_sessionPropose.reject,
          }),
          await this.client.proposal.delete(i, Ut("USER_DISCONNECTED")));
      }),
      (this.update = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidUpdate(t);
        } catch (_) {
          throw (
            (this.client.logger.error("update() -> isValidUpdate() failed"), _)
          );
        }
        const { topic: i, namespaces: s } = t,
          { done: a, resolve: f, reject: h } = Ns(),
          d = cs(),
          u = Fs().toString(),
          b = this.client.session.get(i).namespaces;
        return (
          this.events.once(Mt("session_update", d), ({ error: _ }) => {
            _ ? h(_) : f();
          }),
          await this.client.session.update(i, { namespaces: s }),
          await this.sendRequest({
            topic: i,
            method: "wc_sessionUpdate",
            params: { namespaces: s },
            throwOnFailedPublish: !0,
            clientRpcId: d,
            relayRpcId: u,
          }).catch((_) => {
            this.client.logger.error(_),
              this.client.session.update(i, { namespaces: b }),
              h(_);
          }),
          { acknowledged: a }
        );
      }),
      (this.extend = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidExtend(t);
        } catch (d) {
          throw (
            (this.client.logger.error("extend() -> isValidExtend() failed"), d)
          );
        }
        const { topic: i } = t,
          s = cs(),
          { done: a, resolve: f, reject: h } = Ns();
        return (
          this.events.once(Mt("session_extend", s), ({ error: d }) => {
            d ? h(d) : f();
          }),
          await this.setExpiry(i, gr(da)),
          this.sendRequest({
            topic: i,
            method: "wc_sessionExtend",
            params: {},
            clientRpcId: s,
            throwOnFailedPublish: !0,
          }).catch((d) => {
            h(d);
          }),
          { acknowledged: a }
        );
      }),
      (this.request = async (t) => {
        this.isInitialized();
        try {
          await this.isValidRequest(t);
        } catch (C) {
          throw (
            (this.client.logger.error("request() -> isValidRequest() failed"),
            C)
          );
        }
        const {
            chainId: i,
            request: s,
            topic: a,
            expiry: f = yr.wc_sessionRequest.req.ttl,
          } = t,
          h = this.client.session.get(a);
        (h == null ? void 0 : h.transportType) === Gt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const d = cs(),
          u = Fs().toString(),
          {
            done: b,
            resolve: _,
            reject: I,
          } = Ns(f, "Request expired. Please try again.");
        this.events.once(
          Mt("session_request", d),
          ({ error: C, result: R }) => {
            C ? I(C) : _(R);
          },
        );
        const M = this.getAppLinkIfEnabled(h.peer.metadata, h.transportType);
        return M
          ? (await this.sendRequest({
              clientRpcId: d,
              relayRpcId: u,
              topic: a,
              method: "wc_sessionRequest",
              params: {
                request: Wi(rr({}, s), { expiryTimestamp: gr(f) }),
                chainId: i,
              },
              expiry: f,
              throwOnFailedPublish: !0,
              appLink: M,
            }).catch((C) => I(C)),
            this.client.events.emit("session_request_sent", {
              topic: a,
              request: s,
              chainId: i,
              id: d,
            }),
            await b())
          : await Promise.all([
              new Promise(async (C) => {
                await this.sendRequest({
                  clientRpcId: d,
                  relayRpcId: u,
                  topic: a,
                  method: "wc_sessionRequest",
                  params: {
                    request: Wi(rr({}, s), { expiryTimestamp: gr(f) }),
                    chainId: i,
                  },
                  expiry: f,
                  throwOnFailedPublish: !0,
                }).catch((R) => I(R)),
                  this.client.events.emit("session_request_sent", {
                    topic: a,
                    request: s,
                    chainId: i,
                    id: d,
                  }),
                  C();
              }),
              new Promise(async (C) => {
                var R;
                if (!((R = h.sessionConfig) != null && R.disableDeepLink)) {
                  const L = await R7(this.client.core.storage, hv);
                  await C7({ id: d, topic: a, wcDeepLink: L });
                }
                C();
              }),
              b(),
            ]).then((C) => C[2]);
      }),
      (this.respond = async (t) => {
        this.isInitialized(), await this.isValidRespond(t);
        const { topic: i, response: s } = t,
          { id: a } = s,
          f = this.client.session.get(i);
        f.transportType === Gt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const h = this.getAppLinkIfEnabled(f.peer.metadata, f.transportType);
        pn(s)
          ? await this.sendResult({
              id: a,
              topic: i,
              result: s.result,
              throwOnFailedPublish: !0,
              appLink: h,
            })
          : Oi(s) &&
            (await this.sendError({
              id: a,
              topic: i,
              error: s.error,
              appLink: h,
            })),
          this.cleanupAfterResponse(t);
      }),
      (this.ping = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidPing(t);
        } catch (s) {
          throw (this.client.logger.error("ping() -> isValidPing() failed"), s);
        }
        const { topic: i } = t;
        if (this.client.session.keys.includes(i)) {
          const s = cs(),
            a = Fs().toString(),
            { done: f, resolve: h, reject: d } = Ns();
          this.events.once(Mt("session_ping", s), ({ error: u }) => {
            u ? d(u) : h();
          }),
            await Promise.all([
              this.sendRequest({
                topic: i,
                method: "wc_sessionPing",
                params: {},
                throwOnFailedPublish: !0,
                clientRpcId: s,
                relayRpcId: a,
              }),
              f(),
            ]);
        } else
          this.client.core.pairing.pairings.keys.includes(i) &&
            (await this.client.core.pairing.ping({ topic: i }));
      }),
      (this.emit = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidEmit(t);
        const { topic: i, event: s, chainId: a } = t,
          f = Fs().toString();
        await this.sendRequest({
          topic: i,
          method: "wc_sessionEvent",
          params: { event: s, chainId: a },
          throwOnFailedPublish: !0,
          relayRpcId: f,
        });
      }),
      (this.disconnect = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidDisconnect(t);
        const { topic: i } = t;
        if (this.client.session.keys.includes(i))
          await this.sendRequest({
            topic: i,
            method: "wc_sessionDelete",
            params: Ut("USER_DISCONNECTED"),
            throwOnFailedPublish: !0,
          }),
            await this.deleteSession({ topic: i, emitEvent: !1 });
        else if (this.client.core.pairing.pairings.keys.includes(i))
          await this.client.core.pairing.disconnect({ topic: i });
        else {
          const { message: s } = Ae(
            "MISMATCHED_TOPIC",
            `Session or pairing topic not found: ${i}`,
          );
          throw new Error(s);
        }
      }),
      (this.find = (t) => (
        this.isInitialized(),
        this.client.session.getAll().filter((i) => ox(i, t))
      )),
      (this.getPendingSessionRequests = () =>
        this.client.pendingRequest.getAll()),
      (this.authenticate = async (t, i) => {
        var s;
        this.isInitialized(), this.isValidAuthenticate(t);
        const a =
            i &&
            this.client.core.linkModeSupportedApps.includes(i) &&
            ((s = this.client.metadata.redirect) == null ? void 0 : s.linkMode),
          f = a ? Gt.link_mode : Gt.relay;
        f === Gt.relay && (await this.confirmOnlineStateOrThrow());
        const {
            chains: h,
            statement: d = "",
            uri: u,
            domain: b,
            nonce: _,
            type: I,
            exp: M,
            nbf: C,
            methods: R = [],
            expiry: L,
          } = t,
          V = [...(t.resources || [])],
          { topic: F, uri: K } = await this.client.core.pairing.create({
            methods: ["wc_sessionAuthenticate"],
            transportType: f,
          });
        this.client.logger.info({
          message: "Generated new pairing",
          pairing: { topic: F, uri: K },
        });
        const B = await this.client.core.crypto.generateKeyPair(),
          z = pu(B);
        if (
          (await Promise.all([
            this.client.auth.authKeys.set(bu, {
              responseTopic: z,
              publicKey: B,
            }),
            this.client.auth.pairingTopics.set(z, {
              topic: z,
              pairingTopic: F,
            }),
          ]),
          await this.client.core.relayer.subscribe(z, { transportType: f }),
          this.client.logger.info(`sending request to new pairing topic: ${F}`),
          R.length > 0)
        ) {
          const { namespace: P } = yo(h[0]);
          let S = DE(P, "request", R);
          du(V) && (S = CE(S, V.pop())), V.push(S);
        }
        const q =
            L && L > yr.wc_sessionAuthenticate.req.ttl
              ? L
              : yr.wc_sessionAuthenticate.req.ttl,
          E = {
            authPayload: {
              type: I ?? "caip122",
              chains: h,
              statement: d,
              aud: u,
              domain: b,
              version: "1",
              nonce: _,
              iat: new Date().toISOString(),
              exp: M,
              nbf: C,
              resources: V,
            },
            requester: { publicKey: B, metadata: this.client.metadata },
            expiryTimestamp: gr(q),
          },
          U = {
            eip155: {
              chains: h,
              methods: [...new Set(["personal_sign", ...R])],
              events: ["chainChanged", "accountsChanged"],
            },
          },
          te = {
            requiredNamespaces: {},
            optionalNamespaces: U,
            relays: [{ protocol: "irn" }],
            pairingTopic: F,
            proposer: { publicKey: B, metadata: this.client.metadata },
            expiryTimestamp: gr(yr.wc_sessionPropose.req.ttl),
          },
          { done: oe, resolve: k, reject: y } = Ns(q, "Request expired"),
          c = async ({ error: P, session: S }) => {
            if ((this.events.off(Mt("session_request", p), l), P)) y(P);
            else if (S) {
              (S.self.publicKey = B),
                await this.client.session.set(S.topic, S),
                await this.setExpiry(S.topic, S.expiry),
                F &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: F,
                    metadata: S.peer.metadata,
                  }));
              const g = this.client.session.get(S.topic);
              await this.deleteProposal(w), k({ session: g });
            }
          },
          l = async (P) => {
            var S, g, m;
            if (
              (await this.deletePendingAuthRequest(p, {
                message: "fulfilled",
                code: 0,
              }),
              P.error)
            ) {
              const W = Ut("WC_METHOD_UNSUPPORTED", "wc_sessionAuthenticate");
              return P.error.code === W.code
                ? void 0
                : (this.events.off(Mt("session_connect"), c),
                  y(P.error.message));
            }
            await this.deleteProposal(w),
              this.events.off(Mt("session_connect"), c);
            const { cacaos: N, responder: Q } = P.result,
              re = [],
              O = [];
            for (const W of N) {
              (await ug({ cacao: W, projectId: this.client.core.projectId })) ||
                (this.client.logger.error(W, "Signature verification failed"),
                y(
                  Ut(
                    "SESSION_SETTLEMENT_FAILED",
                    "Signature verification failed",
                  ),
                ));
              const { p: J } = W,
                x = du(J.resources),
                G = [cg(J.iss)],
                ae = Mu(J.iss);
              if (x) {
                const ce = fg(x),
                  fe = hg(x);
                re.push(...ce), G.push(...fe);
              }
              for (const ce of G) O.push(`${ce}:${ae}`);
            }
            const Z = await this.client.core.crypto.generateSharedKey(
              B,
              Q.publicKey,
            );
            let $;
            re.length > 0 &&
              (($ = {
                topic: Z,
                acknowledged: !0,
                self: { publicKey: B, metadata: this.client.metadata },
                peer: Q,
                controller: Q.publicKey,
                expiry: gr(da),
                requiredNamespaces: {},
                optionalNamespaces: {},
                relay: { protocol: "irn" },
                pairingTopic: F,
                namespaces: wg([...new Set(re)], [...new Set(O)]),
                transportType: f,
              }),
              await this.client.core.relayer.subscribe(Z, { transportType: f }),
              await this.client.session.set(Z, $),
              F &&
                (await this.client.core.pairing.updateMetadata({
                  topic: F,
                  metadata: Q.metadata,
                })),
              ($ = this.client.session.get(Z))),
              (S = this.client.metadata.redirect) != null &&
                S.linkMode &&
                (g = Q.metadata.redirect) != null &&
                g.linkMode &&
                (m = Q.metadata.redirect) != null &&
                m.universal &&
                i &&
                (this.client.core.addLinkModeSupportedApp(
                  Q.metadata.redirect.universal,
                ),
                this.client.session.update(Z, { transportType: Gt.link_mode })),
              k({ auths: N, session: $ });
          },
          p = cs(),
          w = cs();
        this.events.once(Mt("session_connect"), c),
          this.events.once(Mt("session_request", p), l);
        let A;
        try {
          if (a) {
            const P = ls("wc_sessionAuthenticate", E, p);
            this.client.core.history.set(F, P);
            const S = await this.client.core.crypto.encode("", P, {
              type: Uo,
              encoding: oo,
            });
            A = tu(i, F, S);
          } else
            await Promise.all([
              this.sendRequest({
                topic: F,
                method: "wc_sessionAuthenticate",
                params: E,
                expiry: t.expiry,
                throwOnFailedPublish: !0,
                clientRpcId: p,
              }),
              this.sendRequest({
                topic: F,
                method: "wc_sessionPropose",
                params: te,
                expiry: yr.wc_sessionPropose.req.ttl,
                throwOnFailedPublish: !0,
                clientRpcId: w,
              }),
            ]);
        } catch (P) {
          throw (
            (this.events.off(Mt("session_connect"), c),
            this.events.off(Mt("session_request", p), l),
            P)
          );
        }
        return (
          await this.setProposal(w, rr({ id: w }, te)),
          await this.setAuthRequest(p, {
            request: Wi(rr({}, E), { verifyContext: {} }),
            pairingTopic: F,
            transportType: f,
          }),
          { uri: A ?? K, response: oe }
        );
      }),
      (this.approveSessionAuthenticate = async (t) => {
        const { id: i, auths: s } = t,
          a = this.client.core.eventClient.createEvent({
            properties: {
              topic: i.toString(),
              trace: [Rs.authenticated_session_approve_started],
            },
          });
        try {
          this.isInitialized();
        } catch (L) {
          throw (a.setError(fo.no_internet_connection), L);
        }
        const f = this.getPendingAuthRequest(i);
        if (!f)
          throw (
            (a.setError(fo.authenticated_session_pending_request_not_found),
            new Error(`Could not find pending auth request with id ${i}`))
          );
        const h = f.transportType || Gt.relay;
        h === Gt.relay && (await this.confirmOnlineStateOrThrow());
        const d = f.requester.publicKey,
          u = await this.client.core.crypto.generateKeyPair(),
          b = pu(d),
          _ = { type: Vn, receiverPublicKey: d, senderPublicKey: u },
          I = [],
          M = [];
        for (const L of s) {
          if (
            !(await ug({ cacao: L, projectId: this.client.core.projectId }))
          ) {
            a.setError(fo.invalid_cacao);
            const z = Ut(
              "SESSION_SETTLEMENT_FAILED",
              "Signature verification failed",
            );
            throw (
              (await this.sendError({
                id: i,
                topic: b,
                error: z,
                encodeOpts: _,
              }),
              new Error(z.message))
            );
          }
          a.addTrace(Rs.cacaos_verified);
          const { p: V } = L,
            F = du(V.resources),
            K = [cg(V.iss)],
            B = Mu(V.iss);
          if (F) {
            const z = fg(F),
              q = hg(F);
            I.push(...z), K.push(...q);
          }
          for (const z of K) M.push(`${z}:${B}`);
        }
        const C = await this.client.core.crypto.generateSharedKey(u, d);
        a.addTrace(Rs.create_authenticated_session_topic);
        let R;
        if ((I == null ? void 0 : I.length) > 0) {
          (R = {
            topic: C,
            acknowledged: !0,
            self: { publicKey: u, metadata: this.client.metadata },
            peer: { publicKey: d, metadata: f.requester.metadata },
            controller: d,
            expiry: gr(da),
            authentication: s,
            requiredNamespaces: {},
            optionalNamespaces: {},
            relay: { protocol: "irn" },
            pairingTopic: f.pairingTopic,
            namespaces: wg([...new Set(I)], [...new Set(M)]),
            transportType: h,
          }),
            a.addTrace(Rs.subscribing_authenticated_session_topic);
          try {
            await this.client.core.relayer.subscribe(C, { transportType: h });
          } catch (L) {
            throw (
              (a.setError(fo.subscribe_authenticated_session_topic_failure), L)
            );
          }
          a.addTrace(Rs.subscribe_authenticated_session_topic_success),
            await this.client.session.set(C, R),
            a.addTrace(Rs.store_authenticated_session),
            await this.client.core.pairing.updateMetadata({
              topic: f.pairingTopic,
              metadata: f.requester.metadata,
            });
        }
        a.addTrace(Rs.publishing_authenticated_session_approve);
        try {
          await this.sendResult({
            topic: b,
            id: i,
            result: {
              cacaos: s,
              responder: { publicKey: u, metadata: this.client.metadata },
            },
            encodeOpts: _,
            throwOnFailedPublish: !0,
            appLink: this.getAppLinkIfEnabled(f.requester.metadata, h),
          });
        } catch (L) {
          throw (
            (a.setError(fo.authenticated_session_approve_publish_failure), L)
          );
        }
        return (
          await this.client.auth.requests.delete(i, {
            message: "fulfilled",
            code: 0,
          }),
          await this.client.core.pairing.activate({ topic: f.pairingTopic }),
          this.client.core.eventClient.deleteEvent({ eventId: a.eventId }),
          { session: R }
        );
      }),
      (this.rejectSessionAuthenticate = async (t) => {
        this.isInitialized();
        const { id: i, reason: s } = t,
          a = this.getPendingAuthRequest(i);
        if (!a)
          throw new Error(`Could not find pending auth request with id ${i}`);
        a.transportType === Gt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const f = a.requester.publicKey,
          h = await this.client.core.crypto.generateKeyPair(),
          d = pu(f),
          u = { type: Vn, receiverPublicKey: f, senderPublicKey: h };
        await this.sendError({
          id: i,
          topic: d,
          error: s,
          encodeOpts: u,
          rpcOpts: yr.wc_sessionAuthenticate.reject,
          appLink: this.getAppLinkIfEnabled(
            a.requester.metadata,
            a.transportType,
          ),
        }),
          await this.client.auth.requests.delete(i, {
            message: "rejected",
            code: 0,
          }),
          await this.client.proposal.delete(i, Ut("USER_DISCONNECTED"));
      }),
      (this.formatAuthMessage = (t) => {
        this.isInitialized();
        const { request: i, iss: s } = t;
        return Hb(i, s);
      }),
      (this.processRelayMessageCache = () => {
        setTimeout(async () => {
          if (this.relayMessageCache.length !== 0)
            for (; this.relayMessageCache.length > 0; )
              try {
                const t = this.relayMessageCache.shift();
                t && (await this.onRelayMessage(t));
              } catch (t) {
                this.client.logger.error(t);
              }
        }, 50);
      }),
      (this.cleanupDuplicatePairings = async (t) => {
        if (t.pairingTopic)
          try {
            const i = this.client.core.pairing.pairings.get(t.pairingTopic),
              s = this.client.core.pairing.pairings.getAll().filter((a) => {
                var f, h;
                return (
                  ((f = a.peerMetadata) == null ? void 0 : f.url) &&
                  ((h = a.peerMetadata) == null ? void 0 : h.url) ===
                    t.peer.metadata.url &&
                  a.topic &&
                  a.topic !== i.topic
                );
              });
            if (s.length === 0) return;
            this.client.logger.info(
              `Cleaning up ${s.length} duplicate pairing(s)`,
            ),
              await Promise.all(
                s.map((a) =>
                  this.client.core.pairing.disconnect({ topic: a.topic }),
                ),
              ),
              this.client.logger.info("Duplicate pairings clean up finished");
          } catch (i) {
            this.client.logger.error(i);
          }
      }),
      (this.deleteSession = async (t) => {
        var i;
        const {
            topic: s,
            expirerHasDeleted: a = !1,
            emitEvent: f = !0,
            id: h = 0,
          } = t,
          { self: d } = this.client.session.get(s);
        await this.client.core.relayer.unsubscribe(s),
          await this.client.session.delete(s, Ut("USER_DISCONNECTED")),
          this.addToRecentlyDeleted(s, "session"),
          this.client.core.crypto.keychain.has(d.publicKey) &&
            (await this.client.core.crypto.deleteKeyPair(d.publicKey)),
          this.client.core.crypto.keychain.has(s) &&
            (await this.client.core.crypto.deleteSymKey(s)),
          a || this.client.core.expirer.del(s),
          this.client.core.storage
            .removeItem(hv)
            .catch((u) => this.client.logger.warn(u)),
          this.getPendingSessionRequests().forEach((u) => {
            u.topic === s &&
              this.deletePendingSessionRequest(u.id, Ut("USER_DISCONNECTED"));
          }),
          s ===
            ((i = this.sessionRequestQueue.queue[0]) == null
              ? void 0
              : i.topic) && (this.sessionRequestQueue.state = fn.idle),
          f && this.client.events.emit("session_delete", { id: h, topic: s });
      }),
      (this.deleteProposal = async (t, i) => {
        if (i)
          try {
            const s = this.client.proposal.get(t),
              a = this.client.core.eventClient.getEvent({
                topic: s.pairingTopic,
              });
            a == null || a.setError(Os.proposal_expired);
          } catch {}
        await Promise.all([
          this.client.proposal.delete(t, Ut("USER_DISCONNECTED")),
          i ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "proposal");
      }),
      (this.deletePendingSessionRequest = async (t, i, s = !1) => {
        await Promise.all([
          this.client.pendingRequest.delete(t, i),
          s ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "request"),
          (this.sessionRequestQueue.queue =
            this.sessionRequestQueue.queue.filter((a) => a.id !== t)),
          s &&
            ((this.sessionRequestQueue.state = fn.idle),
            this.client.events.emit("session_request_expire", { id: t }));
      }),
      (this.deletePendingAuthRequest = async (t, i, s = !1) => {
        await Promise.all([
          this.client.auth.requests.delete(t, i),
          s ? Promise.resolve() : this.client.core.expirer.del(t),
        ]);
      }),
      (this.setExpiry = async (t, i) => {
        this.client.session.keys.includes(t) &&
          (this.client.core.expirer.set(t, i),
          await this.client.session.update(t, { expiry: i }));
      }),
      (this.setProposal = async (t, i) => {
        this.client.core.expirer.set(t, gr(yr.wc_sessionPropose.req.ttl)),
          await this.client.proposal.set(t, i);
      }),
      (this.setAuthRequest = async (t, i) => {
        const { request: s, pairingTopic: a, transportType: f = Gt.relay } = i;
        this.client.core.expirer.set(t, s.expiryTimestamp),
          await this.client.auth.requests.set(t, {
            authPayload: s.authPayload,
            requester: s.requester,
            expiryTimestamp: s.expiryTimestamp,
            id: t,
            pairingTopic: a,
            verifyContext: s.verifyContext,
            transportType: f,
          });
      }),
      (this.setPendingSessionRequest = async (t) => {
        const { id: i, topic: s, params: a, verifyContext: f } = t,
          h = a.request.expiryTimestamp || gr(yr.wc_sessionRequest.req.ttl);
        this.client.core.expirer.set(i, h),
          await this.client.pendingRequest.set(i, {
            id: i,
            topic: s,
            params: a,
            verifyContext: f,
          });
      }),
      (this.sendRequest = async (t) => {
        const {
            topic: i,
            method: s,
            params: a,
            expiry: f,
            relayRpcId: h,
            clientRpcId: d,
            throwOnFailedPublish: u,
            appLink: b,
          } = t,
          _ = ls(s, a, d);
        let I;
        const M = !!b;
        try {
          const L = M ? oo : hs;
          I = await this.client.core.crypto.encode(i, _, { encoding: L });
        } catch (L) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendRequest() -> core.crypto.encode() for topic ${i} failed`,
            ),
            L)
          );
        }
        let C;
        if (pP.includes(s)) {
          const L = $n(JSON.stringify(_)),
            V = $n(I);
          C = await this.client.core.verify.register({ id: V, decryptedId: L });
        }
        const R = yr[s].req;
        if (
          ((R.attestation = C),
          f && (R.ttl = f),
          h && (R.id = h),
          this.client.core.history.set(i, _),
          M)
        ) {
          const L = tu(b, i, I);
          await mt.Linking.openURL(L, this.client.name);
        } else {
          const L = yr[s].req;
          f && (L.ttl = f),
            h && (L.id = h),
            u
              ? ((L.internal = Wi(rr({}, L.internal), {
                  throwOnFailedPublish: !0,
                })),
                await this.client.core.relayer.publish(i, I, L))
              : this.client.core.relayer
                  .publish(i, I, L)
                  .catch((V) => this.client.logger.error(V));
        }
        return _.id;
      }),
      (this.sendResult = async (t) => {
        const {
            id: i,
            topic: s,
            result: a,
            throwOnFailedPublish: f,
            encodeOpts: h,
            appLink: d,
          } = t,
          u = Lu(i, a);
        let b;
        const _ = d && typeof (mt == null ? void 0 : mt.Linking) < "u";
        try {
          const M = _ ? oo : hs;
          b = await this.client.core.crypto.encode(
            s,
            u,
            Wi(rr({}, h || {}), { encoding: M }),
          );
        } catch (M) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendResult() -> core.crypto.encode() for topic ${s} failed`,
            ),
            M)
          );
        }
        let I;
        try {
          I = await this.client.core.history.get(s, i);
        } catch (M) {
          throw (
            (this.client.logger.error(
              `sendResult() -> history.get(${s}, ${i}) failed`,
            ),
            M)
          );
        }
        if (_) {
          const M = tu(d, s, b);
          await mt.Linking.openURL(M, this.client.name);
        } else {
          const M = yr[I.request.method].res;
          f
            ? ((M.internal = Wi(rr({}, M.internal), {
                throwOnFailedPublish: !0,
              })),
              await this.client.core.relayer.publish(s, b, M))
            : this.client.core.relayer
                .publish(s, b, M)
                .catch((C) => this.client.logger.error(C));
        }
        await this.client.core.history.resolve(u);
      }),
      (this.sendError = async (t) => {
        const {
            id: i,
            topic: s,
            error: a,
            encodeOpts: f,
            rpcOpts: h,
            appLink: d,
          } = t,
          u = Uu(i, a);
        let b;
        const _ = d && typeof (mt == null ? void 0 : mt.Linking) < "u";
        try {
          const M = _ ? oo : hs;
          b = await this.client.core.crypto.encode(
            s,
            u,
            Wi(rr({}, f || {}), { encoding: M }),
          );
        } catch (M) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendError() -> core.crypto.encode() for topic ${s} failed`,
            ),
            M)
          );
        }
        let I;
        try {
          I = await this.client.core.history.get(s, i);
        } catch (M) {
          throw (
            (this.client.logger.error(
              `sendError() -> history.get(${s}, ${i}) failed`,
            ),
            M)
          );
        }
        if (_) {
          const M = tu(d, s, b);
          await mt.Linking.openURL(M, this.client.name);
        } else {
          const M = h || yr[I.request.method].res;
          this.client.core.relayer.publish(s, b, M);
        }
        await this.client.core.history.resolve(u);
      }),
      (this.cleanup = async () => {
        const t = [],
          i = [];
        this.client.session.getAll().forEach((s) => {
          let a = !1;
          as(s.expiry) && (a = !0),
            this.client.core.crypto.keychain.has(s.topic) || (a = !0),
            a && t.push(s.topic);
        }),
          this.client.proposal.getAll().forEach((s) => {
            as(s.expiryTimestamp) && i.push(s.id);
          }),
          await Promise.all([
            ...t.map((s) => this.deleteSession({ topic: s })),
            ...i.map((s) => this.deleteProposal(s)),
          ]);
      }),
      (this.onRelayEventRequest = async (t) => {
        this.requestQueue.queue.push(t), await this.processRequestsQueue();
      }),
      (this.processRequestsQueue = async () => {
        if (this.requestQueue.state === fn.active) {
          this.client.logger.info("Request queue already active, skipping...");
          return;
        }
        for (
          this.client.logger.info(
            `Request queue starting with ${this.requestQueue.queue.length} requests`,
          );
          this.requestQueue.queue.length > 0;

        ) {
          this.requestQueue.state = fn.active;
          const t = this.requestQueue.queue.shift();
          if (t)
            try {
              await this.processRequest(t);
            } catch (i) {
              this.client.logger.warn(i);
            }
        }
        this.requestQueue.state = fn.idle;
      }),
      (this.processRequest = async (t) => {
        const {
            topic: i,
            payload: s,
            attestation: a,
            transportType: f,
            encryptedId: h,
          } = t,
          d = s.method;
        if (!this.shouldIgnorePairingRequest({ topic: i, requestMethod: d }))
          switch (d) {
            case "wc_sessionPropose":
              return await this.onSessionProposeRequest({
                topic: i,
                payload: s,
                attestation: a,
                encryptedId: h,
              });
            case "wc_sessionSettle":
              return await this.onSessionSettleRequest(i, s);
            case "wc_sessionUpdate":
              return await this.onSessionUpdateRequest(i, s);
            case "wc_sessionExtend":
              return await this.onSessionExtendRequest(i, s);
            case "wc_sessionPing":
              return await this.onSessionPingRequest(i, s);
            case "wc_sessionDelete":
              return await this.onSessionDeleteRequest(i, s);
            case "wc_sessionRequest":
              return await this.onSessionRequest({
                topic: i,
                payload: s,
                attestation: a,
                encryptedId: h,
                transportType: f,
              });
            case "wc_sessionEvent":
              return await this.onSessionEventRequest(i, s);
            case "wc_sessionAuthenticate":
              return await this.onSessionAuthenticateRequest({
                topic: i,
                payload: s,
                attestation: a,
                encryptedId: h,
                transportType: f,
              });
            default:
              return this.client.logger.info(`Unsupported request method ${d}`);
          }
      }),
      (this.onRelayEventResponse = async (t) => {
        const { topic: i, payload: s, transportType: a } = t,
          f = (await this.client.core.history.get(i, s.id)).request.method;
        switch (f) {
          case "wc_sessionPropose":
            return this.onSessionProposeResponse(i, s, a);
          case "wc_sessionSettle":
            return this.onSessionSettleResponse(i, s);
          case "wc_sessionUpdate":
            return this.onSessionUpdateResponse(i, s);
          case "wc_sessionExtend":
            return this.onSessionExtendResponse(i, s);
          case "wc_sessionPing":
            return this.onSessionPingResponse(i, s);
          case "wc_sessionRequest":
            return this.onSessionRequestResponse(i, s);
          case "wc_sessionAuthenticate":
            return this.onSessionAuthenticateResponse(i, s);
          default:
            return this.client.logger.info(`Unsupported response method ${f}`);
        }
      }),
      (this.onRelayEventUnknownPayload = (t) => {
        const { topic: i } = t,
          { message: s } = Ae(
            "MISSING_OR_INVALID",
            `Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`,
          );
        throw new Error(s);
      }),
      (this.shouldIgnorePairingRequest = (t) => {
        const { topic: i, requestMethod: s } = t,
          a = this.expectedPairingMethodMap.get(i);
        return !a || a.includes(s)
          ? !1
          : !!(
              a.includes("wc_sessionAuthenticate") &&
              this.client.events.listenerCount("session_authenticate") > 0
            );
      }),
      (this.onSessionProposeRequest = async (t) => {
        const { topic: i, payload: s, attestation: a, encryptedId: f } = t,
          { params: h, id: d } = s;
        try {
          const u = this.client.core.eventClient.getEvent({ topic: i });
          this.isValidConnect(rr({}, s.params));
          const b = h.expiryTimestamp || gr(yr.wc_sessionPropose.req.ttl),
            _ = rr({ id: d, pairingTopic: i, expiryTimestamp: b }, h);
          await this.setProposal(d, _);
          const I = await this.getVerifyContext({
            attestationId: a,
            hash: $n(JSON.stringify(s)),
            encryptedId: f,
            metadata: _.proposer.metadata,
          });
          this.client.events.listenerCount("session_proposal") === 0 &&
            (console.warn("No listener for session_proposal event"),
            u == null || u.setError(kn.proposal_listener_not_found)),
            u == null || u.addTrace(hn.emit_session_proposal),
            this.client.events.emit("session_proposal", {
              id: d,
              params: _,
              verifyContext: I,
            });
        } catch (u) {
          await this.sendError({
            id: d,
            topic: i,
            error: u,
            rpcOpts: yr.wc_sessionPropose.autoReject,
          }),
            this.client.logger.error(u);
        }
      }),
      (this.onSessionProposeResponse = async (t, i, s) => {
        const { id: a } = i;
        if (pn(i)) {
          const { result: f } = i;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            result: f,
          });
          const h = this.client.proposal.get(a);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            proposal: h,
          });
          const d = h.proposer.publicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            selfPublicKey: d,
          });
          const u = f.responderPublicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            peerPublicKey: u,
          });
          const b = await this.client.core.crypto.generateSharedKey(d, u);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            sessionTopic: b,
          });
          const _ = await this.client.core.relayer.subscribe(b, {
            transportType: s,
          });
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            subscriptionId: _,
          }),
            await this.client.core.pairing.activate({ topic: t });
        } else if (Oi(i)) {
          await this.client.proposal.delete(a, Ut("USER_DISCONNECTED"));
          const f = Mt("session_connect");
          if (this.events.listenerCount(f) === 0)
            throw new Error(`emitting ${f} without any listeners, 954`);
          this.events.emit(Mt("session_connect"), { error: i.error });
        }
      }),
      (this.onSessionSettleRequest = async (t, i) => {
        const { id: s, params: a } = i;
        try {
          this.isValidSessionSettleRequest(a);
          const {
              relay: f,
              controller: h,
              expiry: d,
              namespaces: u,
              sessionProperties: b,
              sessionConfig: _,
            } = i.params,
            I = Wi(
              rr(
                rr(
                  {
                    topic: t,
                    relay: f,
                    expiry: d,
                    namespaces: u,
                    acknowledged: !0,
                    pairingTopic: "",
                    requiredNamespaces: {},
                    optionalNamespaces: {},
                    controller: h.publicKey,
                    self: { publicKey: "", metadata: this.client.metadata },
                    peer: { publicKey: h.publicKey, metadata: h.metadata },
                  },
                  b && { sessionProperties: b },
                ),
                _ && { sessionConfig: _ },
              ),
              { transportType: Gt.relay },
            ),
            M = Mt("session_connect");
          if (this.events.listenerCount(M) === 0)
            throw new Error(`emitting ${M} without any listeners 997`);
          this.events.emit(Mt("session_connect"), { session: I }),
            await this.sendResult({
              id: i.id,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            });
        } catch (f) {
          await this.sendError({ id: s, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.onSessionSettleResponse = async (t, i) => {
        const { id: s } = i;
        pn(i)
          ? (await this.client.session.update(t, { acknowledged: !0 }),
            this.events.emit(Mt("session_approve", s), {}))
          : Oi(i) &&
            (await this.client.session.delete(t, Ut("USER_DISCONNECTED")),
            this.events.emit(Mt("session_approve", s), { error: i.error }));
      }),
      (this.onSessionUpdateRequest = async (t, i) => {
        const { params: s, id: a } = i;
        try {
          const f = `${t}_session_update`,
            h = co.get(f);
          if (h && this.isRequestOutOfSync(h, a)) {
            this.client.logger.info(`Discarding out of sync request - ${a}`),
              this.sendError({
                id: a,
                topic: t,
                error: Ut("INVALID_UPDATE_REQUEST"),
              });
            return;
          }
          this.isValidUpdate(rr({ topic: t }, s));
          try {
            co.set(f, a),
              await this.client.session.update(t, { namespaces: s.namespaces }),
              await this.sendResult({
                id: a,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              });
          } catch (d) {
            throw (co.delete(f), d);
          }
          this.client.events.emit("session_update", {
            id: a,
            topic: t,
            params: s,
          });
        } catch (f) {
          await this.sendError({ id: a, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.isRequestOutOfSync = (t, i) =>
        parseInt(i.toString().slice(0, -3)) <=
        parseInt(t.toString().slice(0, -3))),
      (this.onSessionUpdateResponse = (t, i) => {
        const { id: s } = i,
          a = Mt("session_update", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        pn(i)
          ? this.events.emit(Mt("session_update", s), {})
          : Oi(i) &&
            this.events.emit(Mt("session_update", s), { error: i.error });
      }),
      (this.onSessionExtendRequest = async (t, i) => {
        const { id: s } = i;
        try {
          this.isValidExtend({ topic: t }),
            await this.setExpiry(t, gr(da)),
            await this.sendResult({
              id: s,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_extend", { id: s, topic: t });
        } catch (a) {
          await this.sendError({ id: s, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionExtendResponse = (t, i) => {
        const { id: s } = i,
          a = Mt("session_extend", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        pn(i)
          ? this.events.emit(Mt("session_extend", s), {})
          : Oi(i) &&
            this.events.emit(Mt("session_extend", s), { error: i.error });
      }),
      (this.onSessionPingRequest = async (t, i) => {
        const { id: s } = i;
        try {
          this.isValidPing({ topic: t }),
            await this.sendResult({
              id: s,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_ping", { id: s, topic: t });
        } catch (a) {
          await this.sendError({ id: s, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionPingResponse = (t, i) => {
        const { id: s } = i,
          a = Mt("session_ping", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        setTimeout(() => {
          pn(i)
            ? this.events.emit(Mt("session_ping", s), {})
            : Oi(i) &&
              this.events.emit(Mt("session_ping", s), { error: i.error });
        }, 500);
      }),
      (this.onSessionDeleteRequest = async (t, i) => {
        const { id: s } = i;
        try {
          this.isValidDisconnect({ topic: t, reason: i.params }),
            Promise.all([
              new Promise((a) => {
                this.client.core.relayer.once(kr.publish, async () => {
                  a(await this.deleteSession({ topic: t, id: s }));
                });
              }),
              this.sendResult({
                id: s,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              }),
              this.cleanupPendingSentRequestsForTopic({
                topic: t,
                error: Ut("USER_DISCONNECTED"),
              }),
            ]).catch((a) => this.client.logger.error(a));
        } catch (a) {
          this.client.logger.error(a);
        }
      }),
      (this.onSessionRequest = async (t) => {
        var i, s, a;
        const {
            topic: f,
            payload: h,
            attestation: d,
            encryptedId: u,
            transportType: b,
          } = t,
          { id: _, params: I } = h;
        try {
          await this.isValidRequest(rr({ topic: f }, I));
          const M = this.client.session.get(f),
            C = await this.getVerifyContext({
              attestationId: d,
              hash: $n(JSON.stringify(ls("wc_sessionRequest", I, _))),
              encryptedId: u,
              metadata: M.peer.metadata,
              transportType: b,
            }),
            R = { id: _, topic: f, params: I, verifyContext: C };
          await this.setPendingSessionRequest(R),
            b === Gt.link_mode &&
              (i = M.peer.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                (s = M.peer.metadata.redirect) == null ? void 0 : s.universal,
              ),
            (a = this.client.signConfig) != null && a.disableRequestQueue
              ? this.emitSessionRequest(R)
              : (this.addSessionRequestToSessionRequestQueue(R),
                this.processSessionRequestQueue());
        } catch (M) {
          await this.sendError({ id: _, topic: f, error: M }),
            this.client.logger.error(M);
        }
      }),
      (this.onSessionRequestResponse = (t, i) => {
        const { id: s } = i,
          a = Mt("session_request", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        pn(i)
          ? this.events.emit(Mt("session_request", s), { result: i.result })
          : Oi(i) &&
            this.events.emit(Mt("session_request", s), { error: i.error });
      }),
      (this.onSessionEventRequest = async (t, i) => {
        const { id: s, params: a } = i;
        try {
          const f = `${t}_session_event_${a.event.name}`,
            h = co.get(f);
          if (h && this.isRequestOutOfSync(h, s)) {
            this.client.logger.info(`Discarding out of sync request - ${s}`);
            return;
          }
          this.isValidEmit(rr({ topic: t }, a)),
            this.client.events.emit("session_event", {
              id: s,
              topic: t,
              params: a,
            }),
            co.set(f, s);
        } catch (f) {
          await this.sendError({ id: s, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.onSessionAuthenticateResponse = (t, i) => {
        const { id: s } = i;
        this.client.logger.trace({
          type: "method",
          method: "onSessionAuthenticateResponse",
          topic: t,
          payload: i,
        }),
          pn(i)
            ? this.events.emit(Mt("session_request", s), { result: i.result })
            : Oi(i) &&
              this.events.emit(Mt("session_request", s), { error: i.error });
      }),
      (this.onSessionAuthenticateRequest = async (t) => {
        var i;
        const {
          topic: s,
          payload: a,
          attestation: f,
          encryptedId: h,
          transportType: d,
        } = t;
        try {
          const { requester: u, authPayload: b, expiryTimestamp: _ } = a.params,
            I = await this.getVerifyContext({
              attestationId: f,
              hash: $n(JSON.stringify(a)),
              encryptedId: h,
              metadata: u.metadata,
              transportType: d,
            }),
            M = {
              requester: u,
              pairingTopic: s,
              id: a.id,
              authPayload: b,
              verifyContext: I,
              expiryTimestamp: _,
            };
          await this.setAuthRequest(a.id, {
            request: M,
            pairingTopic: s,
            transportType: d,
          }),
            d === Gt.link_mode &&
              (i = u.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                u.metadata.redirect.universal,
              ),
            this.client.events.emit("session_authenticate", {
              topic: s,
              params: a.params,
              id: a.id,
              verifyContext: I,
            });
        } catch (u) {
          this.client.logger.error(u);
          const b = a.params.requester.publicKey,
            _ = await this.client.core.crypto.generateKeyPair(),
            I = this.getAppLinkIfEnabled(a.params.requester.metadata, d),
            M = { type: Vn, receiverPublicKey: b, senderPublicKey: _ };
          await this.sendError({
            id: a.id,
            topic: s,
            error: u,
            encodeOpts: M,
            rpcOpts: yr.wc_sessionAuthenticate.autoReject,
            appLink: I,
          });
        }
      }),
      (this.addSessionRequestToSessionRequestQueue = (t) => {
        this.sessionRequestQueue.queue.push(t);
      }),
      (this.cleanupAfterResponse = (t) => {
        this.deletePendingSessionRequest(t.response.id, {
          message: "fulfilled",
          code: 0,
        }),
          setTimeout(() => {
            (this.sessionRequestQueue.state = fn.idle),
              this.processSessionRequestQueue();
          }, Me.toMiliseconds(this.requestQueueDelay));
      }),
      (this.cleanupPendingSentRequestsForTopic = ({ topic: t, error: i }) => {
        const s = this.client.core.history.pending;
        s.length > 0 &&
          s
            .filter(
              (a) => a.topic === t && a.request.method === "wc_sessionRequest",
            )
            .forEach((a) => {
              const f = a.request.id,
                h = Mt("session_request", f);
              if (this.events.listenerCount(h) === 0)
                throw new Error(`emitting ${h} without any listeners`);
              this.events.emit(Mt("session_request", a.request.id), {
                error: i,
              });
            });
      }),
      (this.processSessionRequestQueue = () => {
        if (this.sessionRequestQueue.state === fn.active) {
          this.client.logger.info("session request queue is already active.");
          return;
        }
        const t = this.sessionRequestQueue.queue[0];
        if (!t) {
          this.client.logger.info("session request queue is empty.");
          return;
        }
        try {
          (this.sessionRequestQueue.state = fn.active),
            this.emitSessionRequest(t);
        } catch (i) {
          this.client.logger.error(i);
        }
      }),
      (this.emitSessionRequest = (t) => {
        this.client.events.emit("session_request", t);
      }),
      (this.onPairingCreated = (t) => {
        if (
          (t.methods && this.expectedPairingMethodMap.set(t.topic, t.methods),
          t.active)
        )
          return;
        const i = this.client.proposal
          .getAll()
          .find((s) => s.pairingTopic === t.topic);
        i &&
          this.onSessionProposeRequest({
            topic: t.topic,
            payload: ls(
              "wc_sessionPropose",
              {
                requiredNamespaces: i.requiredNamespaces,
                optionalNamespaces: i.optionalNamespaces,
                relays: i.relays,
                proposer: i.proposer,
                sessionProperties: i.sessionProperties,
              },
              i.id,
            ),
          });
      }),
      (this.isValidConnect = async (t) => {
        if (!ri(t)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `connect() params: ${JSON.stringify(t)}`,
          );
          throw new Error(d);
        }
        const {
          pairingTopic: i,
          requiredNamespaces: s,
          optionalNamespaces: a,
          sessionProperties: f,
          relays: h,
        } = t;
        if (($r(i) || (await this.isValidPairingTopic(i)), !yx(h))) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `connect() relays: ${h}`,
          );
          throw new Error(d);
        }
        !$r(s) &&
          Po(s) !== 0 &&
          this.validateNamespaces(s, "requiredNamespaces"),
          !$r(a) &&
            Po(a) !== 0 &&
            this.validateNamespaces(a, "optionalNamespaces"),
          $r(f) || this.validateSessionProps(f, "sessionProperties");
      }),
      (this.validateNamespaces = (t, i) => {
        const s = mx(t, "connect()", i);
        if (s) throw new Error(s.message);
      }),
      (this.isValidApprove = async (t) => {
        if (!ri(t))
          throw new Error(
            Ae("MISSING_OR_INVALID", `approve() params: ${t}`).message,
          );
        const {
          id: i,
          namespaces: s,
          relayProtocol: a,
          sessionProperties: f,
        } = t;
        this.checkRecentlyDeleted(i), await this.isValidProposalId(i);
        const h = this.client.proposal.get(i),
          d = al(s, "approve()");
        if (d) throw new Error(d.message);
        const u = Eg(h.requiredNamespaces, s, "approve()");
        if (u) throw new Error(u.message);
        if (!cr(a, !0)) {
          const { message: b } = Ae(
            "MISSING_OR_INVALID",
            `approve() relayProtocol: ${a}`,
          );
          throw new Error(b);
        }
        $r(f) || this.validateSessionProps(f, "sessionProperties");
      }),
      (this.isValidReject = async (t) => {
        if (!ri(t)) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `reject() params: ${t}`,
          );
          throw new Error(a);
        }
        const { id: i, reason: s } = t;
        if (
          (this.checkRecentlyDeleted(i),
          await this.isValidProposalId(i),
          !_x(s))
        ) {
          const { message: a } = Ae(
            "MISSING_OR_INVALID",
            `reject() reason: ${JSON.stringify(s)}`,
          );
          throw new Error(a);
        }
      }),
      (this.isValidSessionSettleRequest = (t) => {
        if (!ri(t)) {
          const { message: u } = Ae(
            "MISSING_OR_INVALID",
            `onSessionSettleRequest() params: ${t}`,
          );
          throw new Error(u);
        }
        const { relay: i, controller: s, namespaces: a, expiry: f } = t;
        if (!Xb(i)) {
          const { message: u } = Ae(
            "MISSING_OR_INVALID",
            "onSessionSettleRequest() relay protocol should be a string",
          );
          throw new Error(u);
        }
        const h = lx(s, "onSessionSettleRequest()");
        if (h) throw new Error(h.message);
        const d = al(a, "onSessionSettleRequest()");
        if (d) throw new Error(d.message);
        if (as(f)) {
          const { message: u } = Ae("EXPIRED", "onSessionSettleRequest()");
          throw new Error(u);
        }
      }),
      (this.isValidUpdate = async (t) => {
        if (!ri(t)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `update() params: ${t}`,
          );
          throw new Error(d);
        }
        const { topic: i, namespaces: s } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const a = this.client.session.get(i),
          f = al(s, "update()");
        if (f) throw new Error(f.message);
        const h = Eg(a.requiredNamespaces, s, "update()");
        if (h) throw new Error(h.message);
      }),
      (this.isValidExtend = async (t) => {
        if (!ri(t)) {
          const { message: s } = Ae(
            "MISSING_OR_INVALID",
            `extend() params: ${t}`,
          );
          throw new Error(s);
        }
        const { topic: i } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
      }),
      (this.isValidRequest = async (t) => {
        if (!ri(t)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `request() params: ${t}`,
          );
          throw new Error(d);
        }
        const { topic: i, request: s, chainId: a, expiry: f } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const { namespaces: h } = this.client.session.get(i);
        if (!Ag(h, a)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `request() chainId: ${a}`,
          );
          throw new Error(d);
        }
        if (!Ax(s)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `request() ${JSON.stringify(s)}`,
          );
          throw new Error(d);
        }
        if (!Sx(h, a, s.method)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `request() method: ${s.method}`,
          );
          throw new Error(d);
        }
        if (f && !Px(f, vl)) {
          const { message: d } = Ae(
            "MISSING_OR_INVALID",
            `request() expiry: ${f}. Expiry must be a number (in seconds) between ${vl.min} and ${vl.max}`,
          );
          throw new Error(d);
        }
      }),
      (this.isValidRespond = async (t) => {
        var i;
        if (!ri(t)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `respond() params: ${t}`,
          );
          throw new Error(f);
        }
        const { topic: s, response: a } = t;
        try {
          await this.isValidSessionTopic(s);
        } catch (f) {
          throw (
            ((i = t == null ? void 0 : t.response) != null &&
              i.id &&
              this.cleanupAfterResponse(t),
            f)
          );
        }
        if (!Ex(a)) {
          const { message: f } = Ae(
            "MISSING_OR_INVALID",
            `respond() response: ${JSON.stringify(a)}`,
          );
          throw new Error(f);
        }
      }),
      (this.isValidPing = async (t) => {
        if (!ri(t)) {
          const { message: s } = Ae(
            "MISSING_OR_INVALID",
            `ping() params: ${t}`,
          );
          throw new Error(s);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidEmit = async (t) => {
        if (!ri(t)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() params: ${t}`,
          );
          throw new Error(h);
        }
        const { topic: i, event: s, chainId: a } = t;
        await this.isValidSessionTopic(i);
        const { namespaces: f } = this.client.session.get(i);
        if (!Ag(f, a)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() chainId: ${a}`,
          );
          throw new Error(h);
        }
        if (!xx(s)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(s)}`,
          );
          throw new Error(h);
        }
        if (!Mx(f, a, s.name)) {
          const { message: h } = Ae(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(s)}`,
          );
          throw new Error(h);
        }
      }),
      (this.isValidDisconnect = async (t) => {
        if (!ri(t)) {
          const { message: s } = Ae(
            "MISSING_OR_INVALID",
            `disconnect() params: ${t}`,
          );
          throw new Error(s);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidAuthenticate = (t) => {
        const { chains: i, uri: s, domain: a, nonce: f } = t;
        if (!Array.isArray(i) || i.length === 0)
          throw new Error("chains is required and must be a non-empty array");
        if (!cr(s, !1)) throw new Error("uri is required parameter");
        if (!cr(a, !1)) throw new Error("domain is required parameter");
        if (!cr(f, !1)) throw new Error("nonce is required parameter");
        if ([...new Set(i.map((d) => yo(d).namespace))].length > 1)
          throw new Error(
            "Multi-namespace requests are not supported. Please request single namespace only.",
          );
        const { namespace: h } = yo(i[0]);
        if (h !== "eip155")
          throw new Error(
            "Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.",
          );
      }),
      (this.getVerifyContext = async (t) => {
        const {
            attestationId: i,
            hash: s,
            encryptedId: a,
            metadata: f,
            transportType: h,
          } = t,
          d = {
            verified: {
              verifyUrl: f.verifyUrl || xo,
              validation: "UNKNOWN",
              origin: f.url || "",
            },
          };
        try {
          if (h === Gt.link_mode) {
            const b = this.getAppLinkIfEnabled(f, h);
            return (
              (d.verified.validation =
                b && new URL(b).origin === new URL(f.url).origin
                  ? "VALID"
                  : "INVALID"),
              d
            );
          }
          const u = await this.client.core.verify.resolve({
            attestationId: i,
            hash: s,
            encryptedId: a,
            verifyUrl: f.verifyUrl,
          });
          u &&
            ((d.verified.origin = u.origin),
            (d.verified.isScam = u.isScam),
            (d.verified.validation =
              u.origin === new URL(f.url).origin ? "VALID" : "INVALID"));
        } catch (u) {
          this.client.logger.warn(u);
        }
        return (
          this.client.logger.debug(`Verify context: ${JSON.stringify(d)}`), d
        );
      }),
      (this.validateSessionProps = (t, i) => {
        Object.values(t).forEach((s) => {
          if (!cr(s, !1)) {
            const { message: a } = Ae(
              "MISSING_OR_INVALID",
              `${i} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`,
            );
            throw new Error(a);
          }
        });
      }),
      (this.getPendingAuthRequest = (t) => {
        const i = this.client.auth.requests.get(t);
        return typeof i == "object" ? i : void 0;
      }),
      (this.addToRecentlyDeleted = (t, i) => {
        if (
          (this.recentlyDeletedMap.set(t, i),
          this.recentlyDeletedMap.size >= this.recentlyDeletedLimit)
        ) {
          let s = 0;
          const a = this.recentlyDeletedLimit / 2;
          for (const f of this.recentlyDeletedMap.keys()) {
            if (s++ >= a) break;
            this.recentlyDeletedMap.delete(f);
          }
        }
      }),
      (this.checkRecentlyDeleted = (t) => {
        const i = this.recentlyDeletedMap.get(t);
        if (i) {
          const { message: s } = Ae(
            "MISSING_OR_INVALID",
            `Record was recently deleted - ${i}: ${t}`,
          );
          throw new Error(s);
        }
      }),
      (this.isLinkModeEnabled = (t, i) => {
        var s, a, f, h, d, u, b, _, I;
        return !t || i !== Gt.link_mode
          ? !1
          : ((a = (s = this.client.metadata) == null ? void 0 : s.redirect) ==
            null
              ? void 0
              : a.linkMode) === !0 &&
              ((h = (f = this.client.metadata) == null ? void 0 : f.redirect) ==
              null
                ? void 0
                : h.universal) !== void 0 &&
              ((u = (d = this.client.metadata) == null ? void 0 : d.redirect) ==
              null
                ? void 0
                : u.universal) !== "" &&
              ((b = t == null ? void 0 : t.redirect) == null
                ? void 0
                : b.universal) !== void 0 &&
              ((_ = t == null ? void 0 : t.redirect) == null
                ? void 0
                : _.universal) !== "" &&
              ((I = t == null ? void 0 : t.redirect) == null
                ? void 0
                : I.linkMode) === !0 &&
              this.client.core.linkModeSupportedApps.includes(
                t.redirect.universal,
              ) &&
              typeof (mt == null ? void 0 : mt.Linking) < "u";
      }),
      (this.getAppLinkIfEnabled = (t, i) => {
        var s;
        return this.isLinkModeEnabled(t, i)
          ? (s = t == null ? void 0 : t.redirect) == null
            ? void 0
            : s.universal
          : void 0;
      }),
      (this.handleLinkModeMessage = ({ url: t }) => {
        if (!t || !t.includes("wc_ev") || !t.includes("topic")) return;
        const i = B1(t, "topic") || "",
          s = decodeURIComponent(B1(t, "wc_ev") || ""),
          a = this.client.session.keys.includes(i);
        a && this.client.session.update(i, { transportType: Gt.link_mode }),
          this.client.core.dispatchEnvelope({
            topic: i,
            message: s,
            sessionExists: a,
          });
      }),
      (this.registerLinkModeListeners = async () => {
        var t;
        if (
          Gl() ||
          (xa() && (t = this.client.metadata.redirect) != null && t.linkMode)
        ) {
          const i = mt == null ? void 0 : mt.Linking;
          if (typeof i < "u") {
            i.addEventListener(
              "url",
              this.handleLinkModeMessage,
              this.client.name,
            );
            const s = await i.getInitialURL();
            s &&
              setTimeout(() => {
                this.handleLinkModeMessage({ url: s });
              }, 50);
          }
        }
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = Ae("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async confirmOnlineStateOrThrow() {
    await this.client.core.relayer.confirmOnlineStateOrThrow();
  }
  registerRelayerEvents() {
    this.client.core.relayer.on(kr.message, (e) => {
      !this.initialized || this.relayMessageCache.length > 0
        ? this.relayMessageCache.push(e)
        : this.onRelayMessage(e);
    });
  }
  async onRelayMessage(e) {
    const { topic: t, message: i, attestation: s, transportType: a } = e,
      { publicKey: f } = this.client.auth.authKeys.keys.includes(bu)
        ? this.client.auth.authKeys.get(bu)
        : { responseTopic: void 0, publicKey: void 0 },
      h = await this.client.core.crypto.decode(t, i, {
        receiverPublicKey: f,
        encoding: a === Gt.link_mode ? oo : hs,
      });
    try {
      sd(h)
        ? (this.client.core.history.set(t, h),
          this.onRelayEventRequest({
            topic: t,
            payload: h,
            attestation: s,
            transportType: a,
            encryptedId: $n(i),
          }))
        : zu(h)
          ? (await this.client.core.history.resolve(h),
            await this.onRelayEventResponse({
              topic: t,
              payload: h,
              transportType: a,
            }),
            this.client.core.history.delete(t, h.id))
          : this.onRelayEventUnknownPayload({
              topic: t,
              payload: h,
              transportType: a,
            });
    } catch (d) {
      this.client.logger.error(d);
    }
  }
  registerExpirerEvents() {
    this.client.core.expirer.on(Pi.expired, async (e) => {
      const { topic: t, id: i } = ob(e.target);
      if (i && this.client.pendingRequest.keys.includes(i))
        return await this.deletePendingSessionRequest(i, Ae("EXPIRED"), !0);
      if (i && this.client.auth.requests.keys.includes(i))
        return await this.deletePendingAuthRequest(i, Ae("EXPIRED"), !0);
      t
        ? this.client.session.keys.includes(t) &&
          (await this.deleteSession({ topic: t, expirerHasDeleted: !0 }),
          this.client.events.emit("session_expire", { topic: t }))
        : i &&
          (await this.deleteProposal(i, !0),
          this.client.events.emit("proposal_expire", { id: i }));
    });
  }
  registerPairingEvents() {
    this.client.core.pairing.events.on(Ts.create, (e) =>
      this.onPairingCreated(e),
    ),
      this.client.core.pairing.events.on(Ts.delete, (e) => {
        this.addToRecentlyDeleted(e.topic, "pairing");
      });
  }
  isValidPairingTopic(e) {
    if (!cr(e, !1)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `pairing topic should be a string: ${e}`,
      );
      throw new Error(t);
    }
    if (!this.client.core.pairing.pairings.keys.includes(e)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `pairing topic doesn't exist: ${e}`,
      );
      throw new Error(t);
    }
    if (as(this.client.core.pairing.pairings.get(e).expiry)) {
      const { message: t } = Ae("EXPIRED", `pairing topic: ${e}`);
      throw new Error(t);
    }
  }
  async isValidSessionTopic(e) {
    if (!cr(e, !1)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session topic should be a string: ${e}`,
      );
      throw new Error(t);
    }
    if ((this.checkRecentlyDeleted(e), !this.client.session.keys.includes(e))) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `session topic doesn't exist: ${e}`,
      );
      throw new Error(t);
    }
    if (as(this.client.session.get(e).expiry)) {
      await this.deleteSession({ topic: e });
      const { message: t } = Ae("EXPIRED", `session topic: ${e}`);
      throw new Error(t);
    }
    if (!this.client.core.crypto.keychain.has(e)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session topic does not exist in keychain: ${e}`,
      );
      throw (await this.deleteSession({ topic: e }), new Error(t));
    }
  }
  async isValidSessionOrPairingTopic(e) {
    if ((this.checkRecentlyDeleted(e), this.client.session.keys.includes(e)))
      await this.isValidSessionTopic(e);
    else if (this.client.core.pairing.pairings.keys.includes(e))
      this.isValidPairingTopic(e);
    else if (cr(e, !1)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `session or pairing topic doesn't exist: ${e}`,
      );
      throw new Error(t);
    } else {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `session or pairing topic should be a string: ${e}`,
      );
      throw new Error(t);
    }
  }
  async isValidProposalId(e) {
    if (!wx(e)) {
      const { message: t } = Ae(
        "MISSING_OR_INVALID",
        `proposal id should be a number: ${e}`,
      );
      throw new Error(t);
    }
    if (!this.client.proposal.keys.includes(e)) {
      const { message: t } = Ae(
        "NO_MATCHING_KEY",
        `proposal id doesn't exist: ${e}`,
      );
      throw new Error(t);
    }
    if (as(this.client.proposal.get(e).expiryTimestamp)) {
      await this.deleteProposal(e);
      const { message: t } = Ae("EXPIRED", `proposal id: ${e}`);
      throw new Error(t);
    }
  }
}
class MP extends Ks {
  constructor(e, t) {
    super(e, t, fP, cd), (this.core = e), (this.logger = t);
  }
}
class IP extends Ks {
  constructor(e, t) {
    super(e, t, hP, cd), (this.core = e), (this.logger = t);
  }
}
class DP extends Ks {
  constructor(e, t) {
    super(e, t, dP, cd, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class PP extends Ks {
  constructor(e, t) {
    super(e, t, bP, ju, () => bu), (this.core = e), (this.logger = t);
  }
}
class CP extends Ks {
  constructor(e, t) {
    super(e, t, mP, ju), (this.core = e), (this.logger = t);
  }
}
class OP extends Ks {
  constructor(e, t) {
    super(e, t, yP, ju, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class RP {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.authKeys = new PP(this.core, this.logger)),
      (this.pairingTopics = new CP(this.core, this.logger)),
      (this.requests = new OP(this.core, this.logger));
  }
  async init() {
    await this.authKeys.init(),
      await this.pairingTopics.init(),
      await this.requests.init();
  }
}
class ud extends HS {
  constructor(e) {
    super(e),
      (this.protocol = E2),
      (this.version = x2),
      (this.name = gl.name),
      (this.events = new gi.EventEmitter()),
      (this.on = (i, s) => this.events.on(i, s)),
      (this.once = (i, s) => this.events.once(i, s)),
      (this.off = (i, s) => this.events.off(i, s)),
      (this.removeListener = (i, s) => this.events.removeListener(i, s)),
      (this.removeAllListeners = (i) => this.events.removeAllListeners(i)),
      (this.connect = async (i) => {
        try {
          return await this.engine.connect(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.pair = async (i) => {
        try {
          return await this.engine.pair(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.approve = async (i) => {
        try {
          return await this.engine.approve(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.reject = async (i) => {
        try {
          return await this.engine.reject(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.update = async (i) => {
        try {
          return await this.engine.update(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.extend = async (i) => {
        try {
          return await this.engine.extend(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.request = async (i) => {
        try {
          return await this.engine.request(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.respond = async (i) => {
        try {
          return await this.engine.respond(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.ping = async (i) => {
        try {
          return await this.engine.ping(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.emit = async (i) => {
        try {
          return await this.engine.emit(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.disconnect = async (i) => {
        try {
          return await this.engine.disconnect(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.find = (i) => {
        try {
          return this.engine.find(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.getPendingSessionRequests = () => {
        try {
          return this.engine.getPendingSessionRequests();
        } catch (i) {
          throw (this.logger.error(i.message), i);
        }
      }),
      (this.authenticate = async (i, s) => {
        try {
          return await this.engine.authenticate(i, s);
        } catch (a) {
          throw (this.logger.error(a.message), a);
        }
      }),
      (this.formatAuthMessage = (i) => {
        try {
          return this.engine.formatAuthMessage(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.approveSessionAuthenticate = async (i) => {
        try {
          return await this.engine.approveSessionAuthenticate(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.rejectSessionAuthenticate = async (i) => {
        try {
          return await this.engine.rejectSessionAuthenticate(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.name = (e == null ? void 0 : e.name) || gl.name),
      (this.metadata = (e == null ? void 0 : e.metadata) || rb()),
      (this.signConfig = e == null ? void 0 : e.signConfig);
    const t =
      typeof (e == null ? void 0 : e.logger) < "u" &&
      typeof (e == null ? void 0 : e.logger) != "string"
        ? e.logger
        : ko(Bu({ level: (e == null ? void 0 : e.logger) || gl.logger }));
    (this.core = (e == null ? void 0 : e.core) || new uP(e)),
      (this.logger = Kr(t, this.name)),
      (this.session = new IP(this.core, this.logger)),
      (this.proposal = new MP(this.core, this.logger)),
      (this.pendingRequest = new DP(this.core, this.logger)),
      (this.engine = new SP(this)),
      (this.auth = new RP(this.core, this.logger));
  }
  static async init(e) {
    const t = new ud(e);
    return await t.initialize(), t;
  }
  get context() {
    return si(this.logger);
  }
  get pairing() {
    return this.core.pairing.pairings;
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.core.start(),
        await this.session.init(),
        await this.proposal.init(),
        await this.pendingRequest.init(),
        await this.auth.init(),
        await this.engine.init(),
        this.logger.info("SignClient Initialization Success"),
        this.engine.processRelayMessageCache();
    } catch (e) {
      throw (
        (this.logger.info("SignClient Initialization Failure"),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
var NP = Object.defineProperty,
  TP = Object.defineProperties,
  qP = Object.getOwnPropertyDescriptors,
  pv = Object.getOwnPropertySymbols,
  FP = Object.prototype.hasOwnProperty,
  BP = Object.prototype.propertyIsEnumerable,
  gv = (r, e, t) =>
    e in r
      ? NP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  vv = (r, e) => {
    for (var t in e) FP.call(e, t) && gv(r, t, e[t]);
    if (pv) for (var t of pv(e)) BP.call(e, t) && gv(r, t, e[t]);
    return r;
  },
  bv = (r, e) => TP(r, qP(e));
const LP = { Accept: "application/json", "Content-Type": "application/json" },
  UP = "POST",
  mv = { headers: LP, method: UP },
  yv = 10;
class In {
  constructor(e, t = !1) {
    if (
      ((this.url = e),
      (this.disableProviderPing = t),
      (this.events = new gi.EventEmitter()),
      (this.isAvailable = !1),
      (this.registering = !1),
      !zg(e))
    )
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`,
      );
    (this.url = e), (this.disableProviderPing = t);
  }
  get connected() {
    return this.isAvailable;
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    if (!this.isAvailable) throw new Error("Connection already closed");
    this.onClose();
  }
  async send(e) {
    this.isAvailable || (await this.register());
    try {
      const t = Gn(e),
        i = await (await hp(this.url, bv(vv({}, mv), { body: t }))).json();
      this.onPayload({ data: i });
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  async register(e = this.url) {
    if (!zg(e))
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`,
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, s) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), s(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.isAvailable > "u"))
                return s(new Error("HTTP connection is missing or invalid"));
              i();
            });
        })
      );
    }
    (this.url = e), (this.registering = !0);
    try {
      if (!this.disableProviderPing) {
        const t = Gn({ id: 1, jsonrpc: "2.0", method: "test", params: [] });
        await hp(e, bv(vv({}, mv), { body: t }));
      }
      this.onOpen();
    } catch (t) {
      const i = this.parseError(t);
      throw (this.events.emit("register_error", i), this.onClose(), i);
    }
  }
  onOpen() {
    (this.isAvailable = !0), (this.registering = !1), this.events.emit("open");
  }
  onClose() {
    (this.isAvailable = !1), (this.registering = !1), this.events.emit("close");
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? Ls(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      s = i.message || i.toString(),
      a = Uu(e, s);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return n2(e, t, "HTTP");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > yv && this.events.setMaxListeners(yv);
  }
}
const wv = "error",
  zP = "wss://relay.walletconnect.org",
  kP = "wc",
  jP = "universal_provider",
  _v = `${kP}@2:${jP}:`,
  I2 = "https://rpc.walletconnect.org/v1/",
  va = "generic",
  $P = `${I2}bundler`,
  rn = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" };
var po =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
        ? window
        : typeof mt < "u"
          ? mt
          : typeof self < "u"
            ? self
            : {},
  Ll = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ (function (r, e) {
  (function () {
    var t,
      i = "4.17.21",
      s = 200,
      a = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
      f = "Expected a function",
      h = "Invalid `variable` option passed into `_.template`",
      d = "__lodash_hash_undefined__",
      u = 500,
      b = "__lodash_placeholder__",
      _ = 1,
      I = 2,
      M = 4,
      C = 1,
      R = 2,
      L = 1,
      V = 2,
      F = 4,
      K = 8,
      B = 16,
      z = 32,
      q = 64,
      E = 128,
      U = 256,
      te = 512,
      oe = 30,
      k = "...",
      y = 800,
      c = 16,
      l = 1,
      p = 2,
      w = 3,
      A = 1 / 0,
      P = 9007199254740991,
      S = 17976931348623157e292,
      g = NaN,
      m = 4294967295,
      N = m - 1,
      Q = m >>> 1,
      re = [
        ["ary", E],
        ["bind", L],
        ["bindKey", V],
        ["curry", K],
        ["curryRight", B],
        ["flip", te],
        ["partial", z],
        ["partialRight", q],
        ["rearg", U],
      ],
      O = "[object Arguments]",
      Z = "[object Array]",
      $ = "[object AsyncFunction]",
      W = "[object Boolean]",
      J = "[object Date]",
      x = "[object DOMException]",
      G = "[object Error]",
      ae = "[object Function]",
      ce = "[object GeneratorFunction]",
      fe = "[object Map]",
      be = "[object Number]",
      we = "[object Null]",
      Ie = "[object Object]",
      Je = "[object Promise]",
      Ce = "[object Proxy]",
      Te = "[object RegExp]",
      Se = "[object Set]",
      me = "[object String]",
      Oe = "[object Symbol]",
      Re = "[object Undefined]",
      ve = "[object WeakMap]",
      Ne = "[object WeakSet]",
      Ee = "[object ArrayBuffer]",
      ye = "[object DataView]",
      Le = "[object Float32Array]",
      De = "[object Float64Array]",
      _e = "[object Int8Array]",
      He = "[object Int16Array]",
      Ve = "[object Int32Array]",
      xe = "[object Uint8Array]",
      Ke = "[object Uint8ClampedArray]",
      ht = "[object Uint16Array]",
      Ge = "[object Uint32Array]",
      _t = /\b__p \+= '';/g,
      lt = /\b(__p \+=) '' \+/g,
      Ye = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
      xt = /&(?:amp|lt|gt|quot|#39);/g,
      It = /[&<>"']/g,
      qe = RegExp(xt.source),
      Xe = RegExp(It.source),
      tt = /<%-([\s\S]+?)%>/g,
      Fe = /<%([\s\S]+?)%>/g,
      et = /<%=([\s\S]+?)%>/g,
      Ze = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
      ze = /^\w*$/,
      ut =
        /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
      rt = /[\\^$.*+?()[\]{}|]/g,
      ke = RegExp(rt.source),
      it = /^\s+/,
      st = /\s/,
      Be = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
      Qe = /\{\n\/\* \[wrapped with (.+)\] \*/,
      ft = /,? & /,
      je = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
      Nt = /[()=,{}\[\]\/\s]/,
      Tt = /\\(\\)?/g,
      at = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
      bt = /\w*$/,
      Dr = /^[-+]0x[0-9a-f]+$/i,
      Pr = /^0b[01]+$/i,
      Cr = /^\[object .+?Constructor\]$/,
      Or = /^0o[0-7]+$/i,
      Rr = /^(?:0|[1-9]\d*)$/,
      er = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
      Vr = /($^)/,
      Ti = /['\n\r\u2028\u2029\\]/g,
      Gr = "\\ud800-\\udfff",
      qi = "\\u0300-\\u036f",
      Fi = "\\ufe20-\\ufe2f",
      Wr = "\\u20d0-\\u20ff",
      vi = qi + Fi + Wr,
      bi = "\\u2700-\\u27bf",
      hr = "a-z\\xdf-\\xf6\\xf8-\\xff",
      Bi = "\\xac\\xb1\\xd7\\xf7",
      Li = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",
      Ui = "\\u2000-\\u206f",
      ds =
        " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
      Ho = "A-Z\\xc0-\\xd6\\xd8-\\xde",
      Ko = "\\ufe0e\\ufe0f",
      ps = Bi + Li + Ui + ds,
      Ra = "['’]",
      gs = "[" + Gr + "]",
      Na = "[" + ps + "]",
      vs = "[" + vi + "]",
      Vo = "\\d+",
      $u = "[" + bi + "]",
      Go = "[" + hr + "]",
      Wo = "[^" + Gr + ps + Vo + bi + hr + Ho + "]",
      Ws = "\\ud83c[\\udffb-\\udfff]",
      Hu = "(?:" + vs + "|" + Ws + ")",
      Jo = "[^" + Gr + "]",
      Js = "(?:\\ud83c[\\udde6-\\uddff]){2}",
      Jn = "[\\ud800-\\udbff][\\udc00-\\udfff]",
      ai = "[" + Ho + "]",
      Yo = "\\u200d",
      Qo = "(?:" + Go + "|" + Wo + ")",
      nn = "(?:" + ai + "|" + Wo + ")",
      Xo = "(?:" + Ra + "(?:d|ll|m|re|s|t|ve))?",
      Zo = "(?:" + Ra + "(?:D|LL|M|RE|S|T|VE))?",
      ec = Hu + "?",
      tc = "[" + Ko + "]?",
      Ku = "(?:" + Yo + "(?:" + [Jo, Js, Jn].join("|") + ")" + tc + ec + ")*",
      Dn = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
      rc = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
      ic = tc + ec + Ku,
      Ys = "(?:" + [$u, Js, Jn].join("|") + ")" + ic,
      Vu = "(?:" + [Jo + vs + "?", vs, Js, Jn, gs].join("|") + ")",
      Ta = RegExp(Ra, "g"),
      Gu = RegExp(vs, "g"),
      Qs = RegExp(Ws + "(?=" + Ws + ")|" + Vu + ic, "g"),
      nc = RegExp(
        [
          ai + "?" + Go + "+" + Xo + "(?=" + [Na, ai, "$"].join("|") + ")",
          nn + "+" + Zo + "(?=" + [Na, ai + Qo, "$"].join("|") + ")",
          ai + "?" + Qo + "+" + Xo,
          ai + "+" + Zo,
          rc,
          Dn,
          Vo,
          Ys,
        ].join("|"),
        "g",
      ),
      sc = RegExp("[" + Yo + Gr + vi + Ko + "]"),
      bs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
      ac = [
        "Array",
        "Buffer",
        "DataView",
        "Date",
        "Error",
        "Float32Array",
        "Float64Array",
        "Function",
        "Int8Array",
        "Int16Array",
        "Int32Array",
        "Map",
        "Math",
        "Object",
        "Promise",
        "RegExp",
        "Set",
        "String",
        "Symbol",
        "TypeError",
        "Uint8Array",
        "Uint8ClampedArray",
        "Uint16Array",
        "Uint32Array",
        "WeakMap",
        "_",
        "clearTimeout",
        "isFinite",
        "parseInt",
        "setTimeout",
      ],
      Wu = -1,
      jt = {};
    (jt[Le] =
      jt[De] =
      jt[_e] =
      jt[He] =
      jt[Ve] =
      jt[xe] =
      jt[Ke] =
      jt[ht] =
      jt[Ge] =
        !0),
      (jt[O] =
        jt[Z] =
        jt[Ee] =
        jt[W] =
        jt[ye] =
        jt[J] =
        jt[G] =
        jt[ae] =
        jt[fe] =
        jt[be] =
        jt[Ie] =
        jt[Te] =
        jt[Se] =
        jt[me] =
        jt[ve] =
          !1);
    var zt = {};
    (zt[O] =
      zt[Z] =
      zt[Ee] =
      zt[ye] =
      zt[W] =
      zt[J] =
      zt[Le] =
      zt[De] =
      zt[_e] =
      zt[He] =
      zt[Ve] =
      zt[fe] =
      zt[be] =
      zt[Ie] =
      zt[Te] =
      zt[Se] =
      zt[me] =
      zt[Oe] =
      zt[xe] =
      zt[Ke] =
      zt[ht] =
      zt[Ge] =
        !0),
      (zt[G] = zt[ae] = zt[ve] = !1);
    var Y = {
        À: "A",
        Á: "A",
        Â: "A",
        Ã: "A",
        Ä: "A",
        Å: "A",
        à: "a",
        á: "a",
        â: "a",
        ã: "a",
        ä: "a",
        å: "a",
        Ç: "C",
        ç: "c",
        Ð: "D",
        ð: "d",
        È: "E",
        É: "E",
        Ê: "E",
        Ë: "E",
        è: "e",
        é: "e",
        ê: "e",
        ë: "e",
        Ì: "I",
        Í: "I",
        Î: "I",
        Ï: "I",
        ì: "i",
        í: "i",
        î: "i",
        ï: "i",
        Ñ: "N",
        ñ: "n",
        Ò: "O",
        Ó: "O",
        Ô: "O",
        Õ: "O",
        Ö: "O",
        Ø: "O",
        ò: "o",
        ó: "o",
        ô: "o",
        õ: "o",
        ö: "o",
        ø: "o",
        Ù: "U",
        Ú: "U",
        Û: "U",
        Ü: "U",
        ù: "u",
        ú: "u",
        û: "u",
        ü: "u",
        Ý: "Y",
        ý: "y",
        ÿ: "y",
        Æ: "Ae",
        æ: "ae",
        Þ: "Th",
        þ: "th",
        ß: "ss",
        Ā: "A",
        Ă: "A",
        Ą: "A",
        ā: "a",
        ă: "a",
        ą: "a",
        Ć: "C",
        Ĉ: "C",
        Ċ: "C",
        Č: "C",
        ć: "c",
        ĉ: "c",
        ċ: "c",
        č: "c",
        Ď: "D",
        Đ: "D",
        ď: "d",
        đ: "d",
        Ē: "E",
        Ĕ: "E",
        Ė: "E",
        Ę: "E",
        Ě: "E",
        ē: "e",
        ĕ: "e",
        ė: "e",
        ę: "e",
        ě: "e",
        Ĝ: "G",
        Ğ: "G",
        Ġ: "G",
        Ģ: "G",
        ĝ: "g",
        ğ: "g",
        ġ: "g",
        ģ: "g",
        Ĥ: "H",
        Ħ: "H",
        ĥ: "h",
        ħ: "h",
        Ĩ: "I",
        Ī: "I",
        Ĭ: "I",
        Į: "I",
        İ: "I",
        ĩ: "i",
        ī: "i",
        ĭ: "i",
        į: "i",
        ı: "i",
        Ĵ: "J",
        ĵ: "j",
        Ķ: "K",
        ķ: "k",
        ĸ: "k",
        Ĺ: "L",
        Ļ: "L",
        Ľ: "L",
        Ŀ: "L",
        Ł: "L",
        ĺ: "l",
        ļ: "l",
        ľ: "l",
        ŀ: "l",
        ł: "l",
        Ń: "N",
        Ņ: "N",
        Ň: "N",
        Ŋ: "N",
        ń: "n",
        ņ: "n",
        ň: "n",
        ŋ: "n",
        Ō: "O",
        Ŏ: "O",
        Ő: "O",
        ō: "o",
        ŏ: "o",
        ő: "o",
        Ŕ: "R",
        Ŗ: "R",
        Ř: "R",
        ŕ: "r",
        ŗ: "r",
        ř: "r",
        Ś: "S",
        Ŝ: "S",
        Ş: "S",
        Š: "S",
        ś: "s",
        ŝ: "s",
        ş: "s",
        š: "s",
        Ţ: "T",
        Ť: "T",
        Ŧ: "T",
        ţ: "t",
        ť: "t",
        ŧ: "t",
        Ũ: "U",
        Ū: "U",
        Ŭ: "U",
        Ů: "U",
        Ű: "U",
        Ų: "U",
        ũ: "u",
        ū: "u",
        ŭ: "u",
        ů: "u",
        ű: "u",
        ų: "u",
        Ŵ: "W",
        ŵ: "w",
        Ŷ: "Y",
        ŷ: "y",
        Ÿ: "Y",
        Ź: "Z",
        Ż: "Z",
        Ž: "Z",
        ź: "z",
        ż: "z",
        ž: "z",
        Ĳ: "IJ",
        ĳ: "ij",
        Œ: "Oe",
        œ: "oe",
        ŉ: "'n",
        ſ: "s",
      },
      ie = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
      },
      pe = {
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&quot;": '"',
        "&#39;": "'",
      },
      Ue = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029",
      },
      $t = parseFloat,
      pt = parseInt,
      Jt = typeof po == "object" && po && po.Object === Object && po,
      ur = typeof self == "object" && self && self.Object === Object && self,
      Ot = Jt || ur || Function("return this")(),
      Ht = e && !e.nodeType && e,
      nr = Ht && !0 && r && !r.nodeType && r,
      Jr = nr && nr.exports === Ht,
      fr = Jr && Jt.process,
      Yt = (function () {
        try {
          var ne = nr && nr.require && nr.require("util").types;
          return ne || (fr && fr.binding && fr.binding("util"));
        } catch {}
      })(),
      Fr = Yt && Yt.isArrayBuffer,
      zi = Yt && Yt.isDate,
      mi = Yt && Yt.isMap,
      sn = Yt && Yt.isRegExp,
      qa = Yt && Yt.isSet,
      ms = Yt && Yt.isTypedArray;
    function vr(ne, he, ue) {
      switch (ue.length) {
        case 0:
          return ne.call(he);
        case 1:
          return ne.call(he, ue[0]);
        case 2:
          return ne.call(he, ue[0], ue[1]);
        case 3:
          return ne.call(he, ue[0], ue[1], ue[2]);
      }
      return ne.apply(he, ue);
    }
    function C2(ne, he, ue, $e) {
      for (var dt = -1, qt = ne == null ? 0 : ne.length; ++dt < qt; ) {
        var lr = ne[dt];
        he($e, lr, ue(lr), ne);
      }
      return $e;
    }
    function yi(ne, he) {
      for (
        var ue = -1, $e = ne == null ? 0 : ne.length;
        ++ue < $e && he(ne[ue], ue, ne) !== !1;

      );
      return ne;
    }
    function O2(ne, he) {
      for (
        var ue = ne == null ? 0 : ne.length;
        ue-- && he(ne[ue], ue, ne) !== !1;

      );
      return ne;
    }
    function ld(ne, he) {
      for (var ue = -1, $e = ne == null ? 0 : ne.length; ++ue < $e; )
        if (!he(ne[ue], ue, ne)) return !1;
      return !0;
    }
    function Yn(ne, he) {
      for (
        var ue = -1, $e = ne == null ? 0 : ne.length, dt = 0, qt = [];
        ++ue < $e;

      ) {
        var lr = ne[ue];
        he(lr, ue, ne) && (qt[dt++] = lr);
      }
      return qt;
    }
    function oc(ne, he) {
      var ue = ne == null ? 0 : ne.length;
      return !!ue && Xs(ne, he, 0) > -1;
    }
    function Ju(ne, he, ue) {
      for (var $e = -1, dt = ne == null ? 0 : ne.length; ++$e < dt; )
        if (ue(he, ne[$e])) return !0;
      return !1;
    }
    function Xt(ne, he) {
      for (
        var ue = -1, $e = ne == null ? 0 : ne.length, dt = Array($e);
        ++ue < $e;

      )
        dt[ue] = he(ne[ue], ue, ne);
      return dt;
    }
    function Qn(ne, he) {
      for (var ue = -1, $e = he.length, dt = ne.length; ++ue < $e; )
        ne[dt + ue] = he[ue];
      return ne;
    }
    function Yu(ne, he, ue, $e) {
      var dt = -1,
        qt = ne == null ? 0 : ne.length;
      for ($e && qt && (ue = ne[++dt]); ++dt < qt; )
        ue = he(ue, ne[dt], dt, ne);
      return ue;
    }
    function R2(ne, he, ue, $e) {
      var dt = ne == null ? 0 : ne.length;
      for ($e && dt && (ue = ne[--dt]); dt--; ) ue = he(ue, ne[dt], dt, ne);
      return ue;
    }
    function Qu(ne, he) {
      for (var ue = -1, $e = ne == null ? 0 : ne.length; ++ue < $e; )
        if (he(ne[ue], ue, ne)) return !0;
      return !1;
    }
    var N2 = Xu("length");
    function T2(ne) {
      return ne.split("");
    }
    function q2(ne) {
      return ne.match(je) || [];
    }
    function dd(ne, he, ue) {
      var $e;
      return (
        ue(ne, function (dt, qt, lr) {
          if (he(dt, qt, lr)) return ($e = qt), !1;
        }),
        $e
      );
    }
    function cc(ne, he, ue, $e) {
      for (var dt = ne.length, qt = ue + ($e ? 1 : -1); $e ? qt-- : ++qt < dt; )
        if (he(ne[qt], qt, ne)) return qt;
      return -1;
    }
    function Xs(ne, he, ue) {
      return he === he ? G2(ne, he, ue) : cc(ne, pd, ue);
    }
    function F2(ne, he, ue, $e) {
      for (var dt = ue - 1, qt = ne.length; ++dt < qt; )
        if ($e(ne[dt], he)) return dt;
      return -1;
    }
    function pd(ne) {
      return ne !== ne;
    }
    function gd(ne, he) {
      var ue = ne == null ? 0 : ne.length;
      return ue ? ef(ne, he) / ue : g;
    }
    function Xu(ne) {
      return function (he) {
        return he == null ? t : he[ne];
      };
    }
    function Zu(ne) {
      return function (he) {
        return ne == null ? t : ne[he];
      };
    }
    function vd(ne, he, ue, $e, dt) {
      return (
        dt(ne, function (qt, lr, Kt) {
          ue = $e ? (($e = !1), qt) : he(ue, qt, lr, Kt);
        }),
        ue
      );
    }
    function B2(ne, he) {
      var ue = ne.length;
      for (ne.sort(he); ue--; ) ne[ue] = ne[ue].value;
      return ne;
    }
    function ef(ne, he) {
      for (var ue, $e = -1, dt = ne.length; ++$e < dt; ) {
        var qt = he(ne[$e]);
        qt !== t && (ue = ue === t ? qt : ue + qt);
      }
      return ue;
    }
    function tf(ne, he) {
      for (var ue = -1, $e = Array(ne); ++ue < ne; ) $e[ue] = he(ue);
      return $e;
    }
    function L2(ne, he) {
      return Xt(he, function (ue) {
        return [ue, ne[ue]];
      });
    }
    function bd(ne) {
      return ne && ne.slice(0, _d(ne) + 1).replace(it, "");
    }
    function oi(ne) {
      return function (he) {
        return ne(he);
      };
    }
    function rf(ne, he) {
      return Xt(he, function (ue) {
        return ne[ue];
      });
    }
    function Fa(ne, he) {
      return ne.has(he);
    }
    function md(ne, he) {
      for (var ue = -1, $e = ne.length; ++ue < $e && Xs(he, ne[ue], 0) > -1; );
      return ue;
    }
    function yd(ne, he) {
      for (var ue = ne.length; ue-- && Xs(he, ne[ue], 0) > -1; );
      return ue;
    }
    function U2(ne, he) {
      for (var ue = ne.length, $e = 0; ue--; ) ne[ue] === he && ++$e;
      return $e;
    }
    var z2 = Zu(Y),
      k2 = Zu(ie);
    function j2(ne) {
      return "\\" + Ue[ne];
    }
    function $2(ne, he) {
      return ne == null ? t : ne[he];
    }
    function Zs(ne) {
      return sc.test(ne);
    }
    function H2(ne) {
      return bs.test(ne);
    }
    function K2(ne) {
      for (var he, ue = []; !(he = ne.next()).done; ) ue.push(he.value);
      return ue;
    }
    function nf(ne) {
      var he = -1,
        ue = Array(ne.size);
      return (
        ne.forEach(function ($e, dt) {
          ue[++he] = [dt, $e];
        }),
        ue
      );
    }
    function wd(ne, he) {
      return function (ue) {
        return ne(he(ue));
      };
    }
    function Xn(ne, he) {
      for (var ue = -1, $e = ne.length, dt = 0, qt = []; ++ue < $e; ) {
        var lr = ne[ue];
        (lr === he || lr === b) && ((ne[ue] = b), (qt[dt++] = ue));
      }
      return qt;
    }
    function uc(ne) {
      var he = -1,
        ue = Array(ne.size);
      return (
        ne.forEach(function ($e) {
          ue[++he] = $e;
        }),
        ue
      );
    }
    function V2(ne) {
      var he = -1,
        ue = Array(ne.size);
      return (
        ne.forEach(function ($e) {
          ue[++he] = [$e, $e];
        }),
        ue
      );
    }
    function G2(ne, he, ue) {
      for (var $e = ue - 1, dt = ne.length; ++$e < dt; )
        if (ne[$e] === he) return $e;
      return -1;
    }
    function W2(ne, he, ue) {
      for (var $e = ue + 1; $e--; ) if (ne[$e] === he) return $e;
      return $e;
    }
    function ea(ne) {
      return Zs(ne) ? Y2(ne) : N2(ne);
    }
    function ki(ne) {
      return Zs(ne) ? Q2(ne) : T2(ne);
    }
    function _d(ne) {
      for (var he = ne.length; he-- && st.test(ne.charAt(he)); );
      return he;
    }
    var J2 = Zu(pe);
    function Y2(ne) {
      for (var he = (Qs.lastIndex = 0); Qs.test(ne); ) ++he;
      return he;
    }
    function Q2(ne) {
      return ne.match(Qs) || [];
    }
    function X2(ne) {
      return ne.match(nc) || [];
    }
    var Z2 = function ne(he) {
        he = he == null ? Ot : ta.defaults(Ot.Object(), he, ta.pick(Ot, ac));
        var ue = he.Array,
          $e = he.Date,
          dt = he.Error,
          qt = he.Function,
          lr = he.Math,
          Kt = he.Object,
          sf = he.RegExp,
          em = he.String,
          wi = he.TypeError,
          fc = ue.prototype,
          tm = qt.prototype,
          ra = Kt.prototype,
          hc = he["__core-js_shared__"],
          lc = tm.toString,
          Lt = ra.hasOwnProperty,
          rm = 0,
          Ad = (function () {
            var n = /[^.]+$/.exec((hc && hc.keys && hc.keys.IE_PROTO) || "");
            return n ? "Symbol(src)_1." + n : "";
          })(),
          dc = ra.toString,
          im = lc.call(Kt),
          nm = Ot._,
          sm = sf(
            "^" +
              lc
                .call(Lt)
                .replace(rt, "\\$&")
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  "$1.*?",
                ) +
              "$",
          ),
          pc = Jr ? he.Buffer : t,
          Zn = he.Symbol,
          gc = he.Uint8Array,
          Ed = pc ? pc.allocUnsafe : t,
          vc = wd(Kt.getPrototypeOf, Kt),
          xd = Kt.create,
          Sd = ra.propertyIsEnumerable,
          bc = fc.splice,
          Md = Zn ? Zn.isConcatSpreadable : t,
          Ba = Zn ? Zn.iterator : t,
          ys = Zn ? Zn.toStringTag : t,
          mc = (function () {
            try {
              var n = xs(Kt, "defineProperty");
              return n({}, "", {}), n;
            } catch {}
          })(),
          am = he.clearTimeout !== Ot.clearTimeout && he.clearTimeout,
          om = $e && $e.now !== Ot.Date.now && $e.now,
          cm = he.setTimeout !== Ot.setTimeout && he.setTimeout,
          yc = lr.ceil,
          wc = lr.floor,
          af = Kt.getOwnPropertySymbols,
          um = pc ? pc.isBuffer : t,
          Id = he.isFinite,
          fm = fc.join,
          hm = wd(Kt.keys, Kt),
          dr = lr.max,
          Nr = lr.min,
          lm = $e.now,
          dm = he.parseInt,
          Dd = lr.random,
          pm = fc.reverse,
          of = xs(he, "DataView"),
          La = xs(he, "Map"),
          cf = xs(he, "Promise"),
          ia = xs(he, "Set"),
          Ua = xs(he, "WeakMap"),
          za = xs(Kt, "create"),
          _c = Ua && new Ua(),
          na = {},
          gm = Ss(of),
          vm = Ss(La),
          bm = Ss(cf),
          mm = Ss(ia),
          ym = Ss(Ua),
          Ac = Zn ? Zn.prototype : t,
          ka = Ac ? Ac.valueOf : t,
          Pd = Ac ? Ac.toString : t;
        function j(n) {
          if (tr(n) && !gt(n) && !(n instanceof Dt)) {
            if (n instanceof _i) return n;
            if (Lt.call(n, "__wrapped__")) return C0(n);
          }
          return new _i(n);
        }
        var sa = (function () {
          function n() {}
          return function (o) {
            if (!Zt(o)) return {};
            if (xd) return xd(o);
            n.prototype = o;
            var v = new n();
            return (n.prototype = t), v;
          };
        })();
        function Ec() {}
        function _i(n, o) {
          (this.__wrapped__ = n),
            (this.__actions__ = []),
            (this.__chain__ = !!o),
            (this.__index__ = 0),
            (this.__values__ = t);
        }
        (j.templateSettings = {
          escape: tt,
          evaluate: Fe,
          interpolate: et,
          variable: "",
          imports: { _: j },
        }),
          (j.prototype = Ec.prototype),
          (j.prototype.constructor = j),
          (_i.prototype = sa(Ec.prototype)),
          (_i.prototype.constructor = _i);
        function Dt(n) {
          (this.__wrapped__ = n),
            (this.__actions__ = []),
            (this.__dir__ = 1),
            (this.__filtered__ = !1),
            (this.__iteratees__ = []),
            (this.__takeCount__ = m),
            (this.__views__ = []);
        }
        function wm() {
          var n = new Dt(this.__wrapped__);
          return (
            (n.__actions__ = Yr(this.__actions__)),
            (n.__dir__ = this.__dir__),
            (n.__filtered__ = this.__filtered__),
            (n.__iteratees__ = Yr(this.__iteratees__)),
            (n.__takeCount__ = this.__takeCount__),
            (n.__views__ = Yr(this.__views__)),
            n
          );
        }
        function _m() {
          if (this.__filtered__) {
            var n = new Dt(this);
            (n.__dir__ = -1), (n.__filtered__ = !0);
          } else (n = this.clone()), (n.__dir__ *= -1);
          return n;
        }
        function Am() {
          var n = this.__wrapped__.value(),
            o = this.__dir__,
            v = gt(n),
            D = o < 0,
            T = v ? n.length : 0,
            H = T3(0, T, this.__views__),
            X = H.start,
            ee = H.end,
            se = ee - X,
            le = D ? ee : X - 1,
            de = this.__iteratees__,
            ge = de.length,
            Pe = 0,
            We = Nr(se, this.__takeCount__);
          if (!v || (!D && T == se && We == se)) return Zd(n, this.__actions__);
          var ot = [];
          e: for (; se-- && Pe < We; ) {
            le += o;
            for (var wt = -1, ct = n[le]; ++wt < ge; ) {
              var St = de[wt],
                Rt = St.iteratee,
                fi = St.type,
                Ur = Rt(ct);
              if (fi == p) ct = Ur;
              else if (!Ur) {
                if (fi == l) continue e;
                break e;
              }
            }
            ot[Pe++] = ct;
          }
          return ot;
        }
        (Dt.prototype = sa(Ec.prototype)), (Dt.prototype.constructor = Dt);
        function ws(n) {
          var o = -1,
            v = n == null ? 0 : n.length;
          for (this.clear(); ++o < v; ) {
            var D = n[o];
            this.set(D[0], D[1]);
          }
        }
        function Em() {
          (this.__data__ = za ? za(null) : {}), (this.size = 0);
        }
        function xm(n) {
          var o = this.has(n) && delete this.__data__[n];
          return (this.size -= o ? 1 : 0), o;
        }
        function Sm(n) {
          var o = this.__data__;
          if (za) {
            var v = o[n];
            return v === d ? t : v;
          }
          return Lt.call(o, n) ? o[n] : t;
        }
        function Mm(n) {
          var o = this.__data__;
          return za ? o[n] !== t : Lt.call(o, n);
        }
        function Im(n, o) {
          var v = this.__data__;
          return (
            (this.size += this.has(n) ? 0 : 1),
            (v[n] = za && o === t ? d : o),
            this
          );
        }
        (ws.prototype.clear = Em),
          (ws.prototype.delete = xm),
          (ws.prototype.get = Sm),
          (ws.prototype.has = Mm),
          (ws.prototype.set = Im);
        function Pn(n) {
          var o = -1,
            v = n == null ? 0 : n.length;
          for (this.clear(); ++o < v; ) {
            var D = n[o];
            this.set(D[0], D[1]);
          }
        }
        function Dm() {
          (this.__data__ = []), (this.size = 0);
        }
        function Pm(n) {
          var o = this.__data__,
            v = xc(o, n);
          if (v < 0) return !1;
          var D = o.length - 1;
          return v == D ? o.pop() : bc.call(o, v, 1), --this.size, !0;
        }
        function Cm(n) {
          var o = this.__data__,
            v = xc(o, n);
          return v < 0 ? t : o[v][1];
        }
        function Om(n) {
          return xc(this.__data__, n) > -1;
        }
        function Rm(n, o) {
          var v = this.__data__,
            D = xc(v, n);
          return D < 0 ? (++this.size, v.push([n, o])) : (v[D][1] = o), this;
        }
        (Pn.prototype.clear = Dm),
          (Pn.prototype.delete = Pm),
          (Pn.prototype.get = Cm),
          (Pn.prototype.has = Om),
          (Pn.prototype.set = Rm);
        function Cn(n) {
          var o = -1,
            v = n == null ? 0 : n.length;
          for (this.clear(); ++o < v; ) {
            var D = n[o];
            this.set(D[0], D[1]);
          }
        }
        function Nm() {
          (this.size = 0),
            (this.__data__ = {
              hash: new ws(),
              map: new (La || Pn)(),
              string: new ws(),
            });
        }
        function Tm(n) {
          var o = Fc(this, n).delete(n);
          return (this.size -= o ? 1 : 0), o;
        }
        function qm(n) {
          return Fc(this, n).get(n);
        }
        function Fm(n) {
          return Fc(this, n).has(n);
        }
        function Bm(n, o) {
          var v = Fc(this, n),
            D = v.size;
          return v.set(n, o), (this.size += v.size == D ? 0 : 1), this;
        }
        (Cn.prototype.clear = Nm),
          (Cn.prototype.delete = Tm),
          (Cn.prototype.get = qm),
          (Cn.prototype.has = Fm),
          (Cn.prototype.set = Bm);
        function _s(n) {
          var o = -1,
            v = n == null ? 0 : n.length;
          for (this.__data__ = new Cn(); ++o < v; ) this.add(n[o]);
        }
        function Lm(n) {
          return this.__data__.set(n, d), this;
        }
        function Um(n) {
          return this.__data__.has(n);
        }
        (_s.prototype.add = _s.prototype.push = Lm), (_s.prototype.has = Um);
        function ji(n) {
          var o = (this.__data__ = new Pn(n));
          this.size = o.size;
        }
        function zm() {
          (this.__data__ = new Pn()), (this.size = 0);
        }
        function km(n) {
          var o = this.__data__,
            v = o.delete(n);
          return (this.size = o.size), v;
        }
        function jm(n) {
          return this.__data__.get(n);
        }
        function $m(n) {
          return this.__data__.has(n);
        }
        function Hm(n, o) {
          var v = this.__data__;
          if (v instanceof Pn) {
            var D = v.__data__;
            if (!La || D.length < s - 1)
              return D.push([n, o]), (this.size = ++v.size), this;
            v = this.__data__ = new Cn(D);
          }
          return v.set(n, o), (this.size = v.size), this;
        }
        (ji.prototype.clear = zm),
          (ji.prototype.delete = km),
          (ji.prototype.get = jm),
          (ji.prototype.has = $m),
          (ji.prototype.set = Hm);
        function Cd(n, o) {
          var v = gt(n),
            D = !v && Ms(n),
            T = !v && !D && ns(n),
            H = !v && !D && !T && ua(n),
            X = v || D || T || H,
            ee = X ? tf(n.length, em) : [],
            se = ee.length;
          for (var le in n)
            (o || Lt.call(n, le)) &&
              !(
                X &&
                (le == "length" ||
                  (T && (le == "offset" || le == "parent")) ||
                  (H &&
                    (le == "buffer" ||
                      le == "byteLength" ||
                      le == "byteOffset")) ||
                  Tn(le, se))
              ) &&
              ee.push(le);
          return ee;
        }
        function Od(n) {
          var o = n.length;
          return o ? n[yf(0, o - 1)] : t;
        }
        function Km(n, o) {
          return Bc(Yr(n), As(o, 0, n.length));
        }
        function Vm(n) {
          return Bc(Yr(n));
        }
        function uf(n, o, v) {
          ((v !== t && !$i(n[o], v)) || (v === t && !(o in n))) && On(n, o, v);
        }
        function ja(n, o, v) {
          var D = n[o];
          (!(Lt.call(n, o) && $i(D, v)) || (v === t && !(o in n))) &&
            On(n, o, v);
        }
        function xc(n, o) {
          for (var v = n.length; v--; ) if ($i(n[v][0], o)) return v;
          return -1;
        }
        function Gm(n, o, v, D) {
          return (
            es(n, function (T, H, X) {
              o(D, T, v(T), X);
            }),
            D
          );
        }
        function Rd(n, o) {
          return n && on(o, br(o), n);
        }
        function Wm(n, o) {
          return n && on(o, Xr(o), n);
        }
        function On(n, o, v) {
          o == "__proto__" && mc
            ? mc(n, o, {
                configurable: !0,
                enumerable: !0,
                value: v,
                writable: !0,
              })
            : (n[o] = v);
        }
        function ff(n, o) {
          for (var v = -1, D = o.length, T = ue(D), H = n == null; ++v < D; )
            T[v] = H ? t : Hf(n, o[v]);
          return T;
        }
        function As(n, o, v) {
          return (
            n === n &&
              (v !== t && (n = n <= v ? n : v),
              o !== t && (n = n >= o ? n : o)),
            n
          );
        }
        function Ai(n, o, v, D, T, H) {
          var X,
            ee = o & _,
            se = o & I,
            le = o & M;
          if ((v && (X = T ? v(n, D, T, H) : v(n)), X !== t)) return X;
          if (!Zt(n)) return n;
          var de = gt(n);
          if (de) {
            if (((X = F3(n)), !ee)) return Yr(n, X);
          } else {
            var ge = Tr(n),
              Pe = ge == ae || ge == ce;
            if (ns(n)) return r0(n, ee);
            if (ge == Ie || ge == O || (Pe && !T)) {
              if (((X = se || Pe ? {} : _0(n)), !ee))
                return se ? S3(n, Wm(X, n)) : x3(n, Rd(X, n));
            } else {
              if (!zt[ge]) return T ? n : {};
              X = B3(n, ge, ee);
            }
          }
          H || (H = new ji());
          var We = H.get(n);
          if (We) return We;
          H.set(n, X),
            Y0(n)
              ? n.forEach(function (ct) {
                  X.add(Ai(ct, o, v, ct, n, H));
                })
              : W0(n) &&
                n.forEach(function (ct, St) {
                  X.set(St, Ai(ct, o, v, St, n, H));
                });
          var ot = le ? (se ? Cf : Pf) : se ? Xr : br,
            wt = de ? t : ot(n);
          return (
            yi(wt || n, function (ct, St) {
              wt && ((St = ct), (ct = n[St])),
                ja(X, St, Ai(ct, o, v, St, n, H));
            }),
            X
          );
        }
        function Jm(n) {
          var o = br(n);
          return function (v) {
            return Nd(v, n, o);
          };
        }
        function Nd(n, o, v) {
          var D = v.length;
          if (n == null) return !D;
          for (n = Kt(n); D--; ) {
            var T = v[D],
              H = o[T],
              X = n[T];
            if ((X === t && !(T in n)) || !H(X)) return !1;
          }
          return !0;
        }
        function Td(n, o, v) {
          if (typeof n != "function") throw new wi(f);
          return Ja(function () {
            n.apply(t, v);
          }, o);
        }
        function $a(n, o, v, D) {
          var T = -1,
            H = oc,
            X = !0,
            ee = n.length,
            se = [],
            le = o.length;
          if (!ee) return se;
          v && (o = Xt(o, oi(v))),
            D
              ? ((H = Ju), (X = !1))
              : o.length >= s && ((H = Fa), (X = !1), (o = new _s(o)));
          e: for (; ++T < ee; ) {
            var de = n[T],
              ge = v == null ? de : v(de);
            if (((de = D || de !== 0 ? de : 0), X && ge === ge)) {
              for (var Pe = le; Pe--; ) if (o[Pe] === ge) continue e;
              se.push(de);
            } else H(o, ge, D) || se.push(de);
          }
          return se;
        }
        var es = o0(an),
          qd = o0(lf, !0);
        function Ym(n, o) {
          var v = !0;
          return (
            es(n, function (D, T, H) {
              return (v = !!o(D, T, H)), v;
            }),
            v
          );
        }
        function Sc(n, o, v) {
          for (var D = -1, T = n.length; ++D < T; ) {
            var H = n[D],
              X = o(H);
            if (X != null && (ee === t ? X === X && !ui(X) : v(X, ee)))
              var ee = X,
                se = H;
          }
          return se;
        }
        function Qm(n, o, v, D) {
          var T = n.length;
          for (
            v = yt(v),
              v < 0 && (v = -v > T ? 0 : T + v),
              D = D === t || D > T ? T : yt(D),
              D < 0 && (D += T),
              D = v > D ? 0 : X0(D);
            v < D;

          )
            n[v++] = o;
          return n;
        }
        function Fd(n, o) {
          var v = [];
          return (
            es(n, function (D, T, H) {
              o(D, T, H) && v.push(D);
            }),
            v
          );
        }
        function Er(n, o, v, D, T) {
          var H = -1,
            X = n.length;
          for (v || (v = U3), T || (T = []); ++H < X; ) {
            var ee = n[H];
            o > 0 && v(ee)
              ? o > 1
                ? Er(ee, o - 1, v, D, T)
                : Qn(T, ee)
              : D || (T[T.length] = ee);
          }
          return T;
        }
        var hf = c0(),
          Bd = c0(!0);
        function an(n, o) {
          return n && hf(n, o, br);
        }
        function lf(n, o) {
          return n && Bd(n, o, br);
        }
        function Mc(n, o) {
          return Yn(o, function (v) {
            return qn(n[v]);
          });
        }
        function Es(n, o) {
          o = rs(o, n);
          for (var v = 0, D = o.length; n != null && v < D; ) n = n[cn(o[v++])];
          return v && v == D ? n : t;
        }
        function Ld(n, o, v) {
          var D = o(n);
          return gt(n) ? D : Qn(D, v(n));
        }
        function Br(n) {
          return n == null
            ? n === t
              ? Re
              : we
            : ys && ys in Kt(n)
              ? N3(n)
              : V3(n);
        }
        function df(n, o) {
          return n > o;
        }
        function Xm(n, o) {
          return n != null && Lt.call(n, o);
        }
        function Zm(n, o) {
          return n != null && o in Kt(n);
        }
        function e3(n, o, v) {
          return n >= Nr(o, v) && n < dr(o, v);
        }
        function pf(n, o, v) {
          for (
            var D = v ? Ju : oc,
              T = n[0].length,
              H = n.length,
              X = H,
              ee = ue(H),
              se = 1 / 0,
              le = [];
            X--;

          ) {
            var de = n[X];
            X && o && (de = Xt(de, oi(o))),
              (se = Nr(de.length, se)),
              (ee[X] =
                !v && (o || (T >= 120 && de.length >= 120))
                  ? new _s(X && de)
                  : t);
          }
          de = n[0];
          var ge = -1,
            Pe = ee[0];
          e: for (; ++ge < T && le.length < se; ) {
            var We = de[ge],
              ot = o ? o(We) : We;
            if (
              ((We = v || We !== 0 ? We : 0), !(Pe ? Fa(Pe, ot) : D(le, ot, v)))
            ) {
              for (X = H; --X; ) {
                var wt = ee[X];
                if (!(wt ? Fa(wt, ot) : D(n[X], ot, v))) continue e;
              }
              Pe && Pe.push(ot), le.push(We);
            }
          }
          return le;
        }
        function t3(n, o, v, D) {
          return (
            an(n, function (T, H, X) {
              o(D, v(T), H, X);
            }),
            D
          );
        }
        function Ha(n, o, v) {
          (o = rs(o, n)), (n = S0(n, o));
          var D = n == null ? n : n[cn(xi(o))];
          return D == null ? t : vr(D, n, v);
        }
        function Ud(n) {
          return tr(n) && Br(n) == O;
        }
        function r3(n) {
          return tr(n) && Br(n) == Ee;
        }
        function i3(n) {
          return tr(n) && Br(n) == J;
        }
        function Ka(n, o, v, D, T) {
          return n === o
            ? !0
            : n == null || o == null || (!tr(n) && !tr(o))
              ? n !== n && o !== o
              : n3(n, o, v, D, Ka, T);
        }
        function n3(n, o, v, D, T, H) {
          var X = gt(n),
            ee = gt(o),
            se = X ? Z : Tr(n),
            le = ee ? Z : Tr(o);
          (se = se == O ? Ie : se), (le = le == O ? Ie : le);
          var de = se == Ie,
            ge = le == Ie,
            Pe = se == le;
          if (Pe && ns(n)) {
            if (!ns(o)) return !1;
            (X = !0), (de = !1);
          }
          if (Pe && !de)
            return (
              H || (H = new ji()),
              X || ua(n) ? m0(n, o, v, D, T, H) : O3(n, o, se, v, D, T, H)
            );
          if (!(v & C)) {
            var We = de && Lt.call(n, "__wrapped__"),
              ot = ge && Lt.call(o, "__wrapped__");
            if (We || ot) {
              var wt = We ? n.value() : n,
                ct = ot ? o.value() : o;
              return H || (H = new ji()), T(wt, ct, v, D, H);
            }
          }
          return Pe ? (H || (H = new ji()), R3(n, o, v, D, T, H)) : !1;
        }
        function s3(n) {
          return tr(n) && Tr(n) == fe;
        }
        function gf(n, o, v, D) {
          var T = v.length,
            H = T,
            X = !D;
          if (n == null) return !H;
          for (n = Kt(n); T--; ) {
            var ee = v[T];
            if (X && ee[2] ? ee[1] !== n[ee[0]] : !(ee[0] in n)) return !1;
          }
          for (; ++T < H; ) {
            ee = v[T];
            var se = ee[0],
              le = n[se],
              de = ee[1];
            if (X && ee[2]) {
              if (le === t && !(se in n)) return !1;
            } else {
              var ge = new ji();
              if (D) var Pe = D(le, de, se, n, o, ge);
              if (!(Pe === t ? Ka(de, le, C | R, D, ge) : Pe)) return !1;
            }
          }
          return !0;
        }
        function zd(n) {
          if (!Zt(n) || k3(n)) return !1;
          var o = qn(n) ? sm : Cr;
          return o.test(Ss(n));
        }
        function a3(n) {
          return tr(n) && Br(n) == Te;
        }
        function o3(n) {
          return tr(n) && Tr(n) == Se;
        }
        function c3(n) {
          return tr(n) && $c(n.length) && !!jt[Br(n)];
        }
        function kd(n) {
          return typeof n == "function"
            ? n
            : n == null
              ? Zr
              : typeof n == "object"
                ? gt(n)
                  ? Hd(n[0], n[1])
                  : $d(n)
                : up(n);
        }
        function vf(n) {
          if (!Wa(n)) return hm(n);
          var o = [];
          for (var v in Kt(n)) Lt.call(n, v) && v != "constructor" && o.push(v);
          return o;
        }
        function u3(n) {
          if (!Zt(n)) return K3(n);
          var o = Wa(n),
            v = [];
          for (var D in n)
            (D == "constructor" && (o || !Lt.call(n, D))) || v.push(D);
          return v;
        }
        function bf(n, o) {
          return n < o;
        }
        function jd(n, o) {
          var v = -1,
            D = Qr(n) ? ue(n.length) : [];
          return (
            es(n, function (T, H, X) {
              D[++v] = o(T, H, X);
            }),
            D
          );
        }
        function $d(n) {
          var o = Rf(n);
          return o.length == 1 && o[0][2]
            ? E0(o[0][0], o[0][1])
            : function (v) {
                return v === n || gf(v, n, o);
              };
        }
        function Hd(n, o) {
          return Tf(n) && A0(o)
            ? E0(cn(n), o)
            : function (v) {
                var D = Hf(v, n);
                return D === t && D === o ? Kf(v, n) : Ka(o, D, C | R);
              };
        }
        function Ic(n, o, v, D, T) {
          n !== o &&
            hf(
              o,
              function (H, X) {
                if ((T || (T = new ji()), Zt(H))) f3(n, o, X, v, Ic, D, T);
                else {
                  var ee = D ? D(Ff(n, X), H, X + "", n, o, T) : t;
                  ee === t && (ee = H), uf(n, X, ee);
                }
              },
              Xr,
            );
        }
        function f3(n, o, v, D, T, H, X) {
          var ee = Ff(n, v),
            se = Ff(o, v),
            le = X.get(se);
          if (le) {
            uf(n, v, le);
            return;
          }
          var de = H ? H(ee, se, v + "", n, o, X) : t,
            ge = de === t;
          if (ge) {
            var Pe = gt(se),
              We = !Pe && ns(se),
              ot = !Pe && !We && ua(se);
            (de = se),
              Pe || We || ot
                ? gt(ee)
                  ? (de = ee)
                  : sr(ee)
                    ? (de = Yr(ee))
                    : We
                      ? ((ge = !1), (de = r0(se, !0)))
                      : ot
                        ? ((ge = !1), (de = i0(se, !0)))
                        : (de = [])
                : Ya(se) || Ms(se)
                  ? ((de = ee),
                    Ms(ee)
                      ? (de = Z0(ee))
                      : (!Zt(ee) || qn(ee)) && (de = _0(se)))
                  : (ge = !1);
          }
          ge && (X.set(se, de), T(de, se, D, H, X), X.delete(se)), uf(n, v, de);
        }
        function Kd(n, o) {
          var v = n.length;
          if (v) return (o += o < 0 ? v : 0), Tn(o, v) ? n[o] : t;
        }
        function Vd(n, o, v) {
          o.length
            ? (o = Xt(o, function (H) {
                return gt(H)
                  ? function (X) {
                      return Es(X, H.length === 1 ? H[0] : H);
                    }
                  : H;
              }))
            : (o = [Zr]);
          var D = -1;
          o = Xt(o, oi(nt()));
          var T = jd(n, function (H, X, ee) {
            var se = Xt(o, function (le) {
              return le(H);
            });
            return { criteria: se, index: ++D, value: H };
          });
          return B2(T, function (H, X) {
            return E3(H, X, v);
          });
        }
        function h3(n, o) {
          return Gd(n, o, function (v, D) {
            return Kf(n, D);
          });
        }
        function Gd(n, o, v) {
          for (var D = -1, T = o.length, H = {}; ++D < T; ) {
            var X = o[D],
              ee = Es(n, X);
            v(ee, X) && Va(H, rs(X, n), ee);
          }
          return H;
        }
        function l3(n) {
          return function (o) {
            return Es(o, n);
          };
        }
        function mf(n, o, v, D) {
          var T = D ? F2 : Xs,
            H = -1,
            X = o.length,
            ee = n;
          for (n === o && (o = Yr(o)), v && (ee = Xt(n, oi(v))); ++H < X; )
            for (
              var se = 0, le = o[H], de = v ? v(le) : le;
              (se = T(ee, de, se, D)) > -1;

            )
              ee !== n && bc.call(ee, se, 1), bc.call(n, se, 1);
          return n;
        }
        function Wd(n, o) {
          for (var v = n ? o.length : 0, D = v - 1; v--; ) {
            var T = o[v];
            if (v == D || T !== H) {
              var H = T;
              Tn(T) ? bc.call(n, T, 1) : Af(n, T);
            }
          }
          return n;
        }
        function yf(n, o) {
          return n + wc(Dd() * (o - n + 1));
        }
        function d3(n, o, v, D) {
          for (var T = -1, H = dr(yc((o - n) / (v || 1)), 0), X = ue(H); H--; )
            (X[D ? H : ++T] = n), (n += v);
          return X;
        }
        function wf(n, o) {
          var v = "";
          if (!n || o < 1 || o > P) return v;
          do o % 2 && (v += n), (o = wc(o / 2)), o && (n += n);
          while (o);
          return v;
        }
        function At(n, o) {
          return Bf(x0(n, o, Zr), n + "");
        }
        function p3(n) {
          return Od(fa(n));
        }
        function g3(n, o) {
          var v = fa(n);
          return Bc(v, As(o, 0, v.length));
        }
        function Va(n, o, v, D) {
          if (!Zt(n)) return n;
          o = rs(o, n);
          for (
            var T = -1, H = o.length, X = H - 1, ee = n;
            ee != null && ++T < H;

          ) {
            var se = cn(o[T]),
              le = v;
            if (
              se === "__proto__" ||
              se === "constructor" ||
              se === "prototype"
            )
              return n;
            if (T != X) {
              var de = ee[se];
              (le = D ? D(de, se, ee) : t),
                le === t && (le = Zt(de) ? de : Tn(o[T + 1]) ? [] : {});
            }
            ja(ee, se, le), (ee = ee[se]);
          }
          return n;
        }
        var Jd = _c
            ? function (n, o) {
                return _c.set(n, o), n;
              }
            : Zr,
          v3 = mc
            ? function (n, o) {
                return mc(n, "toString", {
                  configurable: !0,
                  enumerable: !1,
                  value: Gf(o),
                  writable: !0,
                });
              }
            : Zr;
        function b3(n) {
          return Bc(fa(n));
        }
        function Ei(n, o, v) {
          var D = -1,
            T = n.length;
          o < 0 && (o = -o > T ? 0 : T + o),
            (v = v > T ? T : v),
            v < 0 && (v += T),
            (T = o > v ? 0 : (v - o) >>> 0),
            (o >>>= 0);
          for (var H = ue(T); ++D < T; ) H[D] = n[D + o];
          return H;
        }
        function m3(n, o) {
          var v;
          return (
            es(n, function (D, T, H) {
              return (v = o(D, T, H)), !v;
            }),
            !!v
          );
        }
        function Dc(n, o, v) {
          var D = 0,
            T = n == null ? D : n.length;
          if (typeof o == "number" && o === o && T <= Q) {
            for (; D < T; ) {
              var H = (D + T) >>> 1,
                X = n[H];
              X !== null && !ui(X) && (v ? X <= o : X < o)
                ? (D = H + 1)
                : (T = H);
            }
            return T;
          }
          return _f(n, o, Zr, v);
        }
        function _f(n, o, v, D) {
          var T = 0,
            H = n == null ? 0 : n.length;
          if (H === 0) return 0;
          o = v(o);
          for (
            var X = o !== o, ee = o === null, se = ui(o), le = o === t;
            T < H;

          ) {
            var de = wc((T + H) / 2),
              ge = v(n[de]),
              Pe = ge !== t,
              We = ge === null,
              ot = ge === ge,
              wt = ui(ge);
            if (X) var ct = D || ot;
            else
              le
                ? (ct = ot && (D || Pe))
                : ee
                  ? (ct = ot && Pe && (D || !We))
                  : se
                    ? (ct = ot && Pe && !We && (D || !wt))
                    : We || wt
                      ? (ct = !1)
                      : (ct = D ? ge <= o : ge < o);
            ct ? (T = de + 1) : (H = de);
          }
          return Nr(H, N);
        }
        function Yd(n, o) {
          for (var v = -1, D = n.length, T = 0, H = []; ++v < D; ) {
            var X = n[v],
              ee = o ? o(X) : X;
            if (!v || !$i(ee, se)) {
              var se = ee;
              H[T++] = X === 0 ? 0 : X;
            }
          }
          return H;
        }
        function Qd(n) {
          return typeof n == "number" ? n : ui(n) ? g : +n;
        }
        function ci(n) {
          if (typeof n == "string") return n;
          if (gt(n)) return Xt(n, ci) + "";
          if (ui(n)) return Pd ? Pd.call(n) : "";
          var o = n + "";
          return o == "0" && 1 / n == -1 / 0 ? "-0" : o;
        }
        function ts(n, o, v) {
          var D = -1,
            T = oc,
            H = n.length,
            X = !0,
            ee = [],
            se = ee;
          if (v) (X = !1), (T = Ju);
          else if (H >= s) {
            var le = o ? null : P3(n);
            if (le) return uc(le);
            (X = !1), (T = Fa), (se = new _s());
          } else se = o ? [] : ee;
          e: for (; ++D < H; ) {
            var de = n[D],
              ge = o ? o(de) : de;
            if (((de = v || de !== 0 ? de : 0), X && ge === ge)) {
              for (var Pe = se.length; Pe--; ) if (se[Pe] === ge) continue e;
              o && se.push(ge), ee.push(de);
            } else T(se, ge, v) || (se !== ee && se.push(ge), ee.push(de));
          }
          return ee;
        }
        function Af(n, o) {
          return (
            (o = rs(o, n)), (n = S0(n, o)), n == null || delete n[cn(xi(o))]
          );
        }
        function Xd(n, o, v, D) {
          return Va(n, o, v(Es(n, o)), D);
        }
        function Pc(n, o, v, D) {
          for (
            var T = n.length, H = D ? T : -1;
            (D ? H-- : ++H < T) && o(n[H], H, n);

          );
          return v
            ? Ei(n, D ? 0 : H, D ? H + 1 : T)
            : Ei(n, D ? H + 1 : 0, D ? T : H);
        }
        function Zd(n, o) {
          var v = n;
          return (
            v instanceof Dt && (v = v.value()),
            Yu(
              o,
              function (D, T) {
                return T.func.apply(T.thisArg, Qn([D], T.args));
              },
              v,
            )
          );
        }
        function Ef(n, o, v) {
          var D = n.length;
          if (D < 2) return D ? ts(n[0]) : [];
          for (var T = -1, H = ue(D); ++T < D; )
            for (var X = n[T], ee = -1; ++ee < D; )
              ee != T && (H[T] = $a(H[T] || X, n[ee], o, v));
          return ts(Er(H, 1), o, v);
        }
        function e0(n, o, v) {
          for (var D = -1, T = n.length, H = o.length, X = {}; ++D < T; ) {
            var ee = D < H ? o[D] : t;
            v(X, n[D], ee);
          }
          return X;
        }
        function xf(n) {
          return sr(n) ? n : [];
        }
        function Sf(n) {
          return typeof n == "function" ? n : Zr;
        }
        function rs(n, o) {
          return gt(n) ? n : Tf(n, o) ? [n] : P0(Ft(n));
        }
        var y3 = At;
        function is(n, o, v) {
          var D = n.length;
          return (v = v === t ? D : v), !o && v >= D ? n : Ei(n, o, v);
        }
        var t0 =
          am ||
          function (n) {
            return Ot.clearTimeout(n);
          };
        function r0(n, o) {
          if (o) return n.slice();
          var v = n.length,
            D = Ed ? Ed(v) : new n.constructor(v);
          return n.copy(D), D;
        }
        function Mf(n) {
          var o = new n.constructor(n.byteLength);
          return new gc(o).set(new gc(n)), o;
        }
        function w3(n, o) {
          var v = o ? Mf(n.buffer) : n.buffer;
          return new n.constructor(v, n.byteOffset, n.byteLength);
        }
        function _3(n) {
          var o = new n.constructor(n.source, bt.exec(n));
          return (o.lastIndex = n.lastIndex), o;
        }
        function A3(n) {
          return ka ? Kt(ka.call(n)) : {};
        }
        function i0(n, o) {
          var v = o ? Mf(n.buffer) : n.buffer;
          return new n.constructor(v, n.byteOffset, n.length);
        }
        function n0(n, o) {
          if (n !== o) {
            var v = n !== t,
              D = n === null,
              T = n === n,
              H = ui(n),
              X = o !== t,
              ee = o === null,
              se = o === o,
              le = ui(o);
            if (
              (!ee && !le && !H && n > o) ||
              (H && X && se && !ee && !le) ||
              (D && X && se) ||
              (!v && se) ||
              !T
            )
              return 1;
            if (
              (!D && !H && !le && n < o) ||
              (le && v && T && !D && !H) ||
              (ee && v && T) ||
              (!X && T) ||
              !se
            )
              return -1;
          }
          return 0;
        }
        function E3(n, o, v) {
          for (
            var D = -1,
              T = n.criteria,
              H = o.criteria,
              X = T.length,
              ee = v.length;
            ++D < X;

          ) {
            var se = n0(T[D], H[D]);
            if (se) {
              if (D >= ee) return se;
              var le = v[D];
              return se * (le == "desc" ? -1 : 1);
            }
          }
          return n.index - o.index;
        }
        function s0(n, o, v, D) {
          for (
            var T = -1,
              H = n.length,
              X = v.length,
              ee = -1,
              se = o.length,
              le = dr(H - X, 0),
              de = ue(se + le),
              ge = !D;
            ++ee < se;

          )
            de[ee] = o[ee];
          for (; ++T < X; ) (ge || T < H) && (de[v[T]] = n[T]);
          for (; le--; ) de[ee++] = n[T++];
          return de;
        }
        function a0(n, o, v, D) {
          for (
            var T = -1,
              H = n.length,
              X = -1,
              ee = v.length,
              se = -1,
              le = o.length,
              de = dr(H - ee, 0),
              ge = ue(de + le),
              Pe = !D;
            ++T < de;

          )
            ge[T] = n[T];
          for (var We = T; ++se < le; ) ge[We + se] = o[se];
          for (; ++X < ee; ) (Pe || T < H) && (ge[We + v[X]] = n[T++]);
          return ge;
        }
        function Yr(n, o) {
          var v = -1,
            D = n.length;
          for (o || (o = ue(D)); ++v < D; ) o[v] = n[v];
          return o;
        }
        function on(n, o, v, D) {
          var T = !v;
          v || (v = {});
          for (var H = -1, X = o.length; ++H < X; ) {
            var ee = o[H],
              se = D ? D(v[ee], n[ee], ee, v, n) : t;
            se === t && (se = n[ee]), T ? On(v, ee, se) : ja(v, ee, se);
          }
          return v;
        }
        function x3(n, o) {
          return on(n, Nf(n), o);
        }
        function S3(n, o) {
          return on(n, y0(n), o);
        }
        function Cc(n, o) {
          return function (v, D) {
            var T = gt(v) ? C2 : Gm,
              H = o ? o() : {};
            return T(v, n, nt(D, 2), H);
          };
        }
        function aa(n) {
          return At(function (o, v) {
            var D = -1,
              T = v.length,
              H = T > 1 ? v[T - 1] : t,
              X = T > 2 ? v[2] : t;
            for (
              H = n.length > 3 && typeof H == "function" ? (T--, H) : t,
                X && Lr(v[0], v[1], X) && ((H = T < 3 ? t : H), (T = 1)),
                o = Kt(o);
              ++D < T;

            ) {
              var ee = v[D];
              ee && n(o, ee, D, H);
            }
            return o;
          });
        }
        function o0(n, o) {
          return function (v, D) {
            if (v == null) return v;
            if (!Qr(v)) return n(v, D);
            for (
              var T = v.length, H = o ? T : -1, X = Kt(v);
              (o ? H-- : ++H < T) && D(X[H], H, X) !== !1;

            );
            return v;
          };
        }
        function c0(n) {
          return function (o, v, D) {
            for (var T = -1, H = Kt(o), X = D(o), ee = X.length; ee--; ) {
              var se = X[n ? ee : ++T];
              if (v(H[se], se, H) === !1) break;
            }
            return o;
          };
        }
        function M3(n, o, v) {
          var D = o & L,
            T = Ga(n);
          function H() {
            var X = this && this !== Ot && this instanceof H ? T : n;
            return X.apply(D ? v : this, arguments);
          }
          return H;
        }
        function u0(n) {
          return function (o) {
            o = Ft(o);
            var v = Zs(o) ? ki(o) : t,
              D = v ? v[0] : o.charAt(0),
              T = v ? is(v, 1).join("") : o.slice(1);
            return D[n]() + T;
          };
        }
        function oa(n) {
          return function (o) {
            return Yu(op(ap(o).replace(Ta, "")), n, "");
          };
        }
        function Ga(n) {
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return new n();
              case 1:
                return new n(o[0]);
              case 2:
                return new n(o[0], o[1]);
              case 3:
                return new n(o[0], o[1], o[2]);
              case 4:
                return new n(o[0], o[1], o[2], o[3]);
              case 5:
                return new n(o[0], o[1], o[2], o[3], o[4]);
              case 6:
                return new n(o[0], o[1], o[2], o[3], o[4], o[5]);
              case 7:
                return new n(o[0], o[1], o[2], o[3], o[4], o[5], o[6]);
            }
            var v = sa(n.prototype),
              D = n.apply(v, o);
            return Zt(D) ? D : v;
          };
        }
        function I3(n, o, v) {
          var D = Ga(n);
          function T() {
            for (
              var H = arguments.length, X = ue(H), ee = H, se = ca(T);
              ee--;

            )
              X[ee] = arguments[ee];
            var le = H < 3 && X[0] !== se && X[H - 1] !== se ? [] : Xn(X, se);
            if (((H -= le.length), H < v))
              return p0(n, o, Oc, T.placeholder, t, X, le, t, t, v - H);
            var de = this && this !== Ot && this instanceof T ? D : n;
            return vr(de, this, X);
          }
          return T;
        }
        function f0(n) {
          return function (o, v, D) {
            var T = Kt(o);
            if (!Qr(o)) {
              var H = nt(v, 3);
              (o = br(o)),
                (v = function (ee) {
                  return H(T[ee], ee, T);
                });
            }
            var X = n(o, v, D);
            return X > -1 ? T[H ? o[X] : X] : t;
          };
        }
        function h0(n) {
          return Nn(function (o) {
            var v = o.length,
              D = v,
              T = _i.prototype.thru;
            for (n && o.reverse(); D--; ) {
              var H = o[D];
              if (typeof H != "function") throw new wi(f);
              if (T && !X && qc(H) == "wrapper") var X = new _i([], !0);
            }
            for (D = X ? D : v; ++D < v; ) {
              H = o[D];
              var ee = qc(H),
                se = ee == "wrapper" ? Of(H) : t;
              se &&
              qf(se[0]) &&
              se[1] == (E | K | z | U) &&
              !se[4].length &&
              se[9] == 1
                ? (X = X[qc(se[0])].apply(X, se[3]))
                : (X = H.length == 1 && qf(H) ? X[ee]() : X.thru(H));
            }
            return function () {
              var le = arguments,
                de = le[0];
              if (X && le.length == 1 && gt(de)) return X.plant(de).value();
              for (var ge = 0, Pe = v ? o[ge].apply(this, le) : de; ++ge < v; )
                Pe = o[ge].call(this, Pe);
              return Pe;
            };
          });
        }
        function Oc(n, o, v, D, T, H, X, ee, se, le) {
          var de = o & E,
            ge = o & L,
            Pe = o & V,
            We = o & (K | B),
            ot = o & te,
            wt = Pe ? t : Ga(n);
          function ct() {
            for (var St = arguments.length, Rt = ue(St), fi = St; fi--; )
              Rt[fi] = arguments[fi];
            if (We)
              var Ur = ca(ct),
                hi = U2(Rt, Ur);
            if (
              (D && (Rt = s0(Rt, D, T, We)),
              H && (Rt = a0(Rt, H, X, We)),
              (St -= hi),
              We && St < le)
            ) {
              var ar = Xn(Rt, Ur);
              return p0(n, o, Oc, ct.placeholder, v, Rt, ar, ee, se, le - St);
            }
            var Hi = ge ? v : this,
              Bn = Pe ? Hi[n] : n;
            return (
              (St = Rt.length),
              ee ? (Rt = G3(Rt, ee)) : ot && St > 1 && Rt.reverse(),
              de && se < St && (Rt.length = se),
              this && this !== Ot && this instanceof ct && (Bn = wt || Ga(Bn)),
              Bn.apply(Hi, Rt)
            );
          }
          return ct;
        }
        function l0(n, o) {
          return function (v, D) {
            return t3(v, n, o(D), {});
          };
        }
        function Rc(n, o) {
          return function (v, D) {
            var T;
            if (v === t && D === t) return o;
            if ((v !== t && (T = v), D !== t)) {
              if (T === t) return D;
              typeof v == "string" || typeof D == "string"
                ? ((v = ci(v)), (D = ci(D)))
                : ((v = Qd(v)), (D = Qd(D))),
                (T = n(v, D));
            }
            return T;
          };
        }
        function If(n) {
          return Nn(function (o) {
            return (
              (o = Xt(o, oi(nt()))),
              At(function (v) {
                var D = this;
                return n(o, function (T) {
                  return vr(T, D, v);
                });
              })
            );
          });
        }
        function Nc(n, o) {
          o = o === t ? " " : ci(o);
          var v = o.length;
          if (v < 2) return v ? wf(o, n) : o;
          var D = wf(o, yc(n / ea(o)));
          return Zs(o) ? is(ki(D), 0, n).join("") : D.slice(0, n);
        }
        function D3(n, o, v, D) {
          var T = o & L,
            H = Ga(n);
          function X() {
            for (
              var ee = -1,
                se = arguments.length,
                le = -1,
                de = D.length,
                ge = ue(de + se),
                Pe = this && this !== Ot && this instanceof X ? H : n;
              ++le < de;

            )
              ge[le] = D[le];
            for (; se--; ) ge[le++] = arguments[++ee];
            return vr(Pe, T ? v : this, ge);
          }
          return X;
        }
        function d0(n) {
          return function (o, v, D) {
            return (
              D && typeof D != "number" && Lr(o, v, D) && (v = D = t),
              (o = Fn(o)),
              v === t ? ((v = o), (o = 0)) : (v = Fn(v)),
              (D = D === t ? (o < v ? 1 : -1) : Fn(D)),
              d3(o, v, D, n)
            );
          };
        }
        function Tc(n) {
          return function (o, v) {
            return (
              (typeof o == "string" && typeof v == "string") ||
                ((o = Si(o)), (v = Si(v))),
              n(o, v)
            );
          };
        }
        function p0(n, o, v, D, T, H, X, ee, se, le) {
          var de = o & K,
            ge = de ? X : t,
            Pe = de ? t : X,
            We = de ? H : t,
            ot = de ? t : H;
          (o |= de ? z : q), (o &= ~(de ? q : z)), o & F || (o &= -4);
          var wt = [n, o, T, We, ge, ot, Pe, ee, se, le],
            ct = v.apply(t, wt);
          return qf(n) && M0(ct, wt), (ct.placeholder = D), I0(ct, n, o);
        }
        function Df(n) {
          var o = lr[n];
          return function (v, D) {
            if (
              ((v = Si(v)), (D = D == null ? 0 : Nr(yt(D), 292)), D && Id(v))
            ) {
              var T = (Ft(v) + "e").split("e"),
                H = o(T[0] + "e" + (+T[1] + D));
              return (
                (T = (Ft(H) + "e").split("e")), +(T[0] + "e" + (+T[1] - D))
              );
            }
            return o(v);
          };
        }
        var P3 =
          ia && 1 / uc(new ia([, -0]))[1] == A
            ? function (n) {
                return new ia(n);
              }
            : Yf;
        function g0(n) {
          return function (o) {
            var v = Tr(o);
            return v == fe ? nf(o) : v == Se ? V2(o) : L2(o, n(o));
          };
        }
        function Rn(n, o, v, D, T, H, X, ee) {
          var se = o & V;
          if (!se && typeof n != "function") throw new wi(f);
          var le = D ? D.length : 0;
          if (
            (le || ((o &= -97), (D = T = t)),
            (X = X === t ? X : dr(yt(X), 0)),
            (ee = ee === t ? ee : yt(ee)),
            (le -= T ? T.length : 0),
            o & q)
          ) {
            var de = D,
              ge = T;
            D = T = t;
          }
          var Pe = se ? t : Of(n),
            We = [n, o, v, D, T, de, ge, H, X, ee];
          if (
            (Pe && H3(We, Pe),
            (n = We[0]),
            (o = We[1]),
            (v = We[2]),
            (D = We[3]),
            (T = We[4]),
            (ee = We[9] =
              We[9] === t ? (se ? 0 : n.length) : dr(We[9] - le, 0)),
            !ee && o & (K | B) && (o &= -25),
            !o || o == L)
          )
            var ot = M3(n, o, v);
          else
            o == K || o == B
              ? (ot = I3(n, o, ee))
              : (o == z || o == (L | z)) && !T.length
                ? (ot = D3(n, o, v, D))
                : (ot = Oc.apply(t, We));
          var wt = Pe ? Jd : M0;
          return I0(wt(ot, We), n, o);
        }
        function v0(n, o, v, D) {
          return n === t || ($i(n, ra[v]) && !Lt.call(D, v)) ? o : n;
        }
        function b0(n, o, v, D, T, H) {
          return (
            Zt(n) && Zt(o) && (H.set(o, n), Ic(n, o, t, b0, H), H.delete(o)), n
          );
        }
        function C3(n) {
          return Ya(n) ? t : n;
        }
        function m0(n, o, v, D, T, H) {
          var X = v & C,
            ee = n.length,
            se = o.length;
          if (ee != se && !(X && se > ee)) return !1;
          var le = H.get(n),
            de = H.get(o);
          if (le && de) return le == o && de == n;
          var ge = -1,
            Pe = !0,
            We = v & R ? new _s() : t;
          for (H.set(n, o), H.set(o, n); ++ge < ee; ) {
            var ot = n[ge],
              wt = o[ge];
            if (D) var ct = X ? D(wt, ot, ge, o, n, H) : D(ot, wt, ge, n, o, H);
            if (ct !== t) {
              if (ct) continue;
              Pe = !1;
              break;
            }
            if (We) {
              if (
                !Qu(o, function (St, Rt) {
                  if (!Fa(We, Rt) && (ot === St || T(ot, St, v, D, H)))
                    return We.push(Rt);
                })
              ) {
                Pe = !1;
                break;
              }
            } else if (!(ot === wt || T(ot, wt, v, D, H))) {
              Pe = !1;
              break;
            }
          }
          return H.delete(n), H.delete(o), Pe;
        }
        function O3(n, o, v, D, T, H, X) {
          switch (v) {
            case ye:
              if (n.byteLength != o.byteLength || n.byteOffset != o.byteOffset)
                return !1;
              (n = n.buffer), (o = o.buffer);
            case Ee:
              return !(
                n.byteLength != o.byteLength || !H(new gc(n), new gc(o))
              );
            case W:
            case J:
            case be:
              return $i(+n, +o);
            case G:
              return n.name == o.name && n.message == o.message;
            case Te:
            case me:
              return n == o + "";
            case fe:
              var ee = nf;
            case Se:
              var se = D & C;
              if ((ee || (ee = uc), n.size != o.size && !se)) return !1;
              var le = X.get(n);
              if (le) return le == o;
              (D |= R), X.set(n, o);
              var de = m0(ee(n), ee(o), D, T, H, X);
              return X.delete(n), de;
            case Oe:
              if (ka) return ka.call(n) == ka.call(o);
          }
          return !1;
        }
        function R3(n, o, v, D, T, H) {
          var X = v & C,
            ee = Pf(n),
            se = ee.length,
            le = Pf(o),
            de = le.length;
          if (se != de && !X) return !1;
          for (var ge = se; ge--; ) {
            var Pe = ee[ge];
            if (!(X ? Pe in o : Lt.call(o, Pe))) return !1;
          }
          var We = H.get(n),
            ot = H.get(o);
          if (We && ot) return We == o && ot == n;
          var wt = !0;
          H.set(n, o), H.set(o, n);
          for (var ct = X; ++ge < se; ) {
            Pe = ee[ge];
            var St = n[Pe],
              Rt = o[Pe];
            if (D) var fi = X ? D(Rt, St, Pe, o, n, H) : D(St, Rt, Pe, n, o, H);
            if (!(fi === t ? St === Rt || T(St, Rt, v, D, H) : fi)) {
              wt = !1;
              break;
            }
            ct || (ct = Pe == "constructor");
          }
          if (wt && !ct) {
            var Ur = n.constructor,
              hi = o.constructor;
            Ur != hi &&
              "constructor" in n &&
              "constructor" in o &&
              !(
                typeof Ur == "function" &&
                Ur instanceof Ur &&
                typeof hi == "function" &&
                hi instanceof hi
              ) &&
              (wt = !1);
          }
          return H.delete(n), H.delete(o), wt;
        }
        function Nn(n) {
          return Bf(x0(n, t, N0), n + "");
        }
        function Pf(n) {
          return Ld(n, br, Nf);
        }
        function Cf(n) {
          return Ld(n, Xr, y0);
        }
        var Of = _c
          ? function (n) {
              return _c.get(n);
            }
          : Yf;
        function qc(n) {
          for (
            var o = n.name + "", v = na[o], D = Lt.call(na, o) ? v.length : 0;
            D--;

          ) {
            var T = v[D],
              H = T.func;
            if (H == null || H == n) return T.name;
          }
          return o;
        }
        function ca(n) {
          var o = Lt.call(j, "placeholder") ? j : n;
          return o.placeholder;
        }
        function nt() {
          var n = j.iteratee || Wf;
          return (
            (n = n === Wf ? kd : n),
            arguments.length ? n(arguments[0], arguments[1]) : n
          );
        }
        function Fc(n, o) {
          var v = n.__data__;
          return z3(o) ? v[typeof o == "string" ? "string" : "hash"] : v.map;
        }
        function Rf(n) {
          for (var o = br(n), v = o.length; v--; ) {
            var D = o[v],
              T = n[D];
            o[v] = [D, T, A0(T)];
          }
          return o;
        }
        function xs(n, o) {
          var v = $2(n, o);
          return zd(v) ? v : t;
        }
        function N3(n) {
          var o = Lt.call(n, ys),
            v = n[ys];
          try {
            n[ys] = t;
            var D = !0;
          } catch {}
          var T = dc.call(n);
          return D && (o ? (n[ys] = v) : delete n[ys]), T;
        }
        var Nf = af
            ? function (n) {
                return n == null
                  ? []
                  : ((n = Kt(n)),
                    Yn(af(n), function (o) {
                      return Sd.call(n, o);
                    }));
              }
            : Qf,
          y0 = af
            ? function (n) {
                for (var o = []; n; ) Qn(o, Nf(n)), (n = vc(n));
                return o;
              }
            : Qf,
          Tr = Br;
        ((of && Tr(new of(new ArrayBuffer(1))) != ye) ||
          (La && Tr(new La()) != fe) ||
          (cf && Tr(cf.resolve()) != Je) ||
          (ia && Tr(new ia()) != Se) ||
          (Ua && Tr(new Ua()) != ve)) &&
          (Tr = function (n) {
            var o = Br(n),
              v = o == Ie ? n.constructor : t,
              D = v ? Ss(v) : "";
            if (D)
              switch (D) {
                case gm:
                  return ye;
                case vm:
                  return fe;
                case bm:
                  return Je;
                case mm:
                  return Se;
                case ym:
                  return ve;
              }
            return o;
          });
        function T3(n, o, v) {
          for (var D = -1, T = v.length; ++D < T; ) {
            var H = v[D],
              X = H.size;
            switch (H.type) {
              case "drop":
                n += X;
                break;
              case "dropRight":
                o -= X;
                break;
              case "take":
                o = Nr(o, n + X);
                break;
              case "takeRight":
                n = dr(n, o - X);
                break;
            }
          }
          return { start: n, end: o };
        }
        function q3(n) {
          var o = n.match(Qe);
          return o ? o[1].split(ft) : [];
        }
        function w0(n, o, v) {
          o = rs(o, n);
          for (var D = -1, T = o.length, H = !1; ++D < T; ) {
            var X = cn(o[D]);
            if (!(H = n != null && v(n, X))) break;
            n = n[X];
          }
          return H || ++D != T
            ? H
            : ((T = n == null ? 0 : n.length),
              !!T && $c(T) && Tn(X, T) && (gt(n) || Ms(n)));
        }
        function F3(n) {
          var o = n.length,
            v = new n.constructor(o);
          return (
            o &&
              typeof n[0] == "string" &&
              Lt.call(n, "index") &&
              ((v.index = n.index), (v.input = n.input)),
            v
          );
        }
        function _0(n) {
          return typeof n.constructor == "function" && !Wa(n) ? sa(vc(n)) : {};
        }
        function B3(n, o, v) {
          var D = n.constructor;
          switch (o) {
            case Ee:
              return Mf(n);
            case W:
            case J:
              return new D(+n);
            case ye:
              return w3(n, v);
            case Le:
            case De:
            case _e:
            case He:
            case Ve:
            case xe:
            case Ke:
            case ht:
            case Ge:
              return i0(n, v);
            case fe:
              return new D();
            case be:
            case me:
              return new D(n);
            case Te:
              return _3(n);
            case Se:
              return new D();
            case Oe:
              return A3(n);
          }
        }
        function L3(n, o) {
          var v = o.length;
          if (!v) return n;
          var D = v - 1;
          return (
            (o[D] = (v > 1 ? "& " : "") + o[D]),
            (o = o.join(v > 2 ? ", " : " ")),
            n.replace(
              Be,
              `{
/* [wrapped with ` +
                o +
                `] */
`,
            )
          );
        }
        function U3(n) {
          return gt(n) || Ms(n) || !!(Md && n && n[Md]);
        }
        function Tn(n, o) {
          var v = typeof n;
          return (
            (o = o ?? P),
            !!o &&
              (v == "number" || (v != "symbol" && Rr.test(n))) &&
              n > -1 &&
              n % 1 == 0 &&
              n < o
          );
        }
        function Lr(n, o, v) {
          if (!Zt(v)) return !1;
          var D = typeof o;
          return (
            D == "number" ? Qr(v) && Tn(o, v.length) : D == "string" && o in v
          )
            ? $i(v[o], n)
            : !1;
        }
        function Tf(n, o) {
          if (gt(n)) return !1;
          var v = typeof n;
          return v == "number" ||
            v == "symbol" ||
            v == "boolean" ||
            n == null ||
            ui(n)
            ? !0
            : ze.test(n) || !Ze.test(n) || (o != null && n in Kt(o));
        }
        function z3(n) {
          var o = typeof n;
          return o == "string" ||
            o == "number" ||
            o == "symbol" ||
            o == "boolean"
            ? n !== "__proto__"
            : n === null;
        }
        function qf(n) {
          var o = qc(n),
            v = j[o];
          if (typeof v != "function" || !(o in Dt.prototype)) return !1;
          if (n === v) return !0;
          var D = Of(v);
          return !!D && n === D[0];
        }
        function k3(n) {
          return !!Ad && Ad in n;
        }
        var j3 = hc ? qn : Xf;
        function Wa(n) {
          var o = n && n.constructor,
            v = (typeof o == "function" && o.prototype) || ra;
          return n === v;
        }
        function A0(n) {
          return n === n && !Zt(n);
        }
        function E0(n, o) {
          return function (v) {
            return v == null ? !1 : v[n] === o && (o !== t || n in Kt(v));
          };
        }
        function $3(n) {
          var o = kc(n, function (D) {
              return v.size === u && v.clear(), D;
            }),
            v = o.cache;
          return o;
        }
        function H3(n, o) {
          var v = n[1],
            D = o[1],
            T = v | D,
            H = T < (L | V | E),
            X =
              (D == E && v == K) ||
              (D == E && v == U && n[7].length <= o[8]) ||
              (D == (E | U) && o[7].length <= o[8] && v == K);
          if (!(H || X)) return n;
          D & L && ((n[2] = o[2]), (T |= v & L ? 0 : F));
          var ee = o[3];
          if (ee) {
            var se = n[3];
            (n[3] = se ? s0(se, ee, o[4]) : ee),
              (n[4] = se ? Xn(n[3], b) : o[4]);
          }
          return (
            (ee = o[5]),
            ee &&
              ((se = n[5]),
              (n[5] = se ? a0(se, ee, o[6]) : ee),
              (n[6] = se ? Xn(n[5], b) : o[6])),
            (ee = o[7]),
            ee && (n[7] = ee),
            D & E && (n[8] = n[8] == null ? o[8] : Nr(n[8], o[8])),
            n[9] == null && (n[9] = o[9]),
            (n[0] = o[0]),
            (n[1] = T),
            n
          );
        }
        function K3(n) {
          var o = [];
          if (n != null) for (var v in Kt(n)) o.push(v);
          return o;
        }
        function V3(n) {
          return dc.call(n);
        }
        function x0(n, o, v) {
          return (
            (o = dr(o === t ? n.length - 1 : o, 0)),
            function () {
              for (
                var D = arguments, T = -1, H = dr(D.length - o, 0), X = ue(H);
                ++T < H;

              )
                X[T] = D[o + T];
              T = -1;
              for (var ee = ue(o + 1); ++T < o; ) ee[T] = D[T];
              return (ee[o] = v(X)), vr(n, this, ee);
            }
          );
        }
        function S0(n, o) {
          return o.length < 2 ? n : Es(n, Ei(o, 0, -1));
        }
        function G3(n, o) {
          for (var v = n.length, D = Nr(o.length, v), T = Yr(n); D--; ) {
            var H = o[D];
            n[D] = Tn(H, v) ? T[H] : t;
          }
          return n;
        }
        function Ff(n, o) {
          if (
            !(o === "constructor" && typeof n[o] == "function") &&
            o != "__proto__"
          )
            return n[o];
        }
        var M0 = D0(Jd),
          Ja =
            cm ||
            function (n, o) {
              return Ot.setTimeout(n, o);
            },
          Bf = D0(v3);
        function I0(n, o, v) {
          var D = o + "";
          return Bf(n, L3(D, W3(q3(D), v)));
        }
        function D0(n) {
          var o = 0,
            v = 0;
          return function () {
            var D = lm(),
              T = c - (D - v);
            if (((v = D), T > 0)) {
              if (++o >= y) return arguments[0];
            } else o = 0;
            return n.apply(t, arguments);
          };
        }
        function Bc(n, o) {
          var v = -1,
            D = n.length,
            T = D - 1;
          for (o = o === t ? D : o; ++v < o; ) {
            var H = yf(v, T),
              X = n[H];
            (n[H] = n[v]), (n[v] = X);
          }
          return (n.length = o), n;
        }
        var P0 = $3(function (n) {
          var o = [];
          return (
            n.charCodeAt(0) === 46 && o.push(""),
            n.replace(ut, function (v, D, T, H) {
              o.push(T ? H.replace(Tt, "$1") : D || v);
            }),
            o
          );
        });
        function cn(n) {
          if (typeof n == "string" || ui(n)) return n;
          var o = n + "";
          return o == "0" && 1 / n == -1 / 0 ? "-0" : o;
        }
        function Ss(n) {
          if (n != null) {
            try {
              return lc.call(n);
            } catch {}
            try {
              return n + "";
            } catch {}
          }
          return "";
        }
        function W3(n, o) {
          return (
            yi(re, function (v) {
              var D = "_." + v[0];
              o & v[1] && !oc(n, D) && n.push(D);
            }),
            n.sort()
          );
        }
        function C0(n) {
          if (n instanceof Dt) return n.clone();
          var o = new _i(n.__wrapped__, n.__chain__);
          return (
            (o.__actions__ = Yr(n.__actions__)),
            (o.__index__ = n.__index__),
            (o.__values__ = n.__values__),
            o
          );
        }
        function J3(n, o, v) {
          (v ? Lr(n, o, v) : o === t) ? (o = 1) : (o = dr(yt(o), 0));
          var D = n == null ? 0 : n.length;
          if (!D || o < 1) return [];
          for (var T = 0, H = 0, X = ue(yc(D / o)); T < D; )
            X[H++] = Ei(n, T, (T += o));
          return X;
        }
        function Y3(n) {
          for (
            var o = -1, v = n == null ? 0 : n.length, D = 0, T = [];
            ++o < v;

          ) {
            var H = n[o];
            H && (T[D++] = H);
          }
          return T;
        }
        function Q3() {
          var n = arguments.length;
          if (!n) return [];
          for (var o = ue(n - 1), v = arguments[0], D = n; D--; )
            o[D - 1] = arguments[D];
          return Qn(gt(v) ? Yr(v) : [v], Er(o, 1));
        }
        var X3 = At(function (n, o) {
            return sr(n) ? $a(n, Er(o, 1, sr, !0)) : [];
          }),
          Z3 = At(function (n, o) {
            var v = xi(o);
            return (
              sr(v) && (v = t), sr(n) ? $a(n, Er(o, 1, sr, !0), nt(v, 2)) : []
            );
          }),
          e6 = At(function (n, o) {
            var v = xi(o);
            return sr(v) && (v = t), sr(n) ? $a(n, Er(o, 1, sr, !0), t, v) : [];
          });
        function t6(n, o, v) {
          var D = n == null ? 0 : n.length;
          return D
            ? ((o = v || o === t ? 1 : yt(o)), Ei(n, o < 0 ? 0 : o, D))
            : [];
        }
        function r6(n, o, v) {
          var D = n == null ? 0 : n.length;
          return D
            ? ((o = v || o === t ? 1 : yt(o)),
              (o = D - o),
              Ei(n, 0, o < 0 ? 0 : o))
            : [];
        }
        function i6(n, o) {
          return n && n.length ? Pc(n, nt(o, 3), !0, !0) : [];
        }
        function n6(n, o) {
          return n && n.length ? Pc(n, nt(o, 3), !0) : [];
        }
        function s6(n, o, v, D) {
          var T = n == null ? 0 : n.length;
          return T
            ? (v && typeof v != "number" && Lr(n, o, v) && ((v = 0), (D = T)),
              Qm(n, o, v, D))
            : [];
        }
        function O0(n, o, v) {
          var D = n == null ? 0 : n.length;
          if (!D) return -1;
          var T = v == null ? 0 : yt(v);
          return T < 0 && (T = dr(D + T, 0)), cc(n, nt(o, 3), T);
        }
        function R0(n, o, v) {
          var D = n == null ? 0 : n.length;
          if (!D) return -1;
          var T = D - 1;
          return (
            v !== t && ((T = yt(v)), (T = v < 0 ? dr(D + T, 0) : Nr(T, D - 1))),
            cc(n, nt(o, 3), T, !0)
          );
        }
        function N0(n) {
          var o = n == null ? 0 : n.length;
          return o ? Er(n, 1) : [];
        }
        function a6(n) {
          var o = n == null ? 0 : n.length;
          return o ? Er(n, A) : [];
        }
        function o6(n, o) {
          var v = n == null ? 0 : n.length;
          return v ? ((o = o === t ? 1 : yt(o)), Er(n, o)) : [];
        }
        function c6(n) {
          for (var o = -1, v = n == null ? 0 : n.length, D = {}; ++o < v; ) {
            var T = n[o];
            D[T[0]] = T[1];
          }
          return D;
        }
        function T0(n) {
          return n && n.length ? n[0] : t;
        }
        function u6(n, o, v) {
          var D = n == null ? 0 : n.length;
          if (!D) return -1;
          var T = v == null ? 0 : yt(v);
          return T < 0 && (T = dr(D + T, 0)), Xs(n, o, T);
        }
        function f6(n) {
          var o = n == null ? 0 : n.length;
          return o ? Ei(n, 0, -1) : [];
        }
        var h6 = At(function (n) {
            var o = Xt(n, xf);
            return o.length && o[0] === n[0] ? pf(o) : [];
          }),
          l6 = At(function (n) {
            var o = xi(n),
              v = Xt(n, xf);
            return (
              o === xi(v) ? (o = t) : v.pop(),
              v.length && v[0] === n[0] ? pf(v, nt(o, 2)) : []
            );
          }),
          d6 = At(function (n) {
            var o = xi(n),
              v = Xt(n, xf);
            return (
              (o = typeof o == "function" ? o : t),
              o && v.pop(),
              v.length && v[0] === n[0] ? pf(v, t, o) : []
            );
          });
        function p6(n, o) {
          return n == null ? "" : fm.call(n, o);
        }
        function xi(n) {
          var o = n == null ? 0 : n.length;
          return o ? n[o - 1] : t;
        }
        function g6(n, o, v) {
          var D = n == null ? 0 : n.length;
          if (!D) return -1;
          var T = D;
          return (
            v !== t && ((T = yt(v)), (T = T < 0 ? dr(D + T, 0) : Nr(T, D - 1))),
            o === o ? W2(n, o, T) : cc(n, pd, T, !0)
          );
        }
        function v6(n, o) {
          return n && n.length ? Kd(n, yt(o)) : t;
        }
        var b6 = At(q0);
        function q0(n, o) {
          return n && n.length && o && o.length ? mf(n, o) : n;
        }
        function m6(n, o, v) {
          return n && n.length && o && o.length ? mf(n, o, nt(v, 2)) : n;
        }
        function y6(n, o, v) {
          return n && n.length && o && o.length ? mf(n, o, t, v) : n;
        }
        var w6 = Nn(function (n, o) {
          var v = n == null ? 0 : n.length,
            D = ff(n, o);
          return (
            Wd(
              n,
              Xt(o, function (T) {
                return Tn(T, v) ? +T : T;
              }).sort(n0),
            ),
            D
          );
        });
        function _6(n, o) {
          var v = [];
          if (!(n && n.length)) return v;
          var D = -1,
            T = [],
            H = n.length;
          for (o = nt(o, 3); ++D < H; ) {
            var X = n[D];
            o(X, D, n) && (v.push(X), T.push(D));
          }
          return Wd(n, T), v;
        }
        function Lf(n) {
          return n == null ? n : pm.call(n);
        }
        function A6(n, o, v) {
          var D = n == null ? 0 : n.length;
          return D
            ? (v && typeof v != "number" && Lr(n, o, v)
                ? ((o = 0), (v = D))
                : ((o = o == null ? 0 : yt(o)), (v = v === t ? D : yt(v))),
              Ei(n, o, v))
            : [];
        }
        function E6(n, o) {
          return Dc(n, o);
        }
        function x6(n, o, v) {
          return _f(n, o, nt(v, 2));
        }
        function S6(n, o) {
          var v = n == null ? 0 : n.length;
          if (v) {
            var D = Dc(n, o);
            if (D < v && $i(n[D], o)) return D;
          }
          return -1;
        }
        function M6(n, o) {
          return Dc(n, o, !0);
        }
        function I6(n, o, v) {
          return _f(n, o, nt(v, 2), !0);
        }
        function D6(n, o) {
          var v = n == null ? 0 : n.length;
          if (v) {
            var D = Dc(n, o, !0) - 1;
            if ($i(n[D], o)) return D;
          }
          return -1;
        }
        function P6(n) {
          return n && n.length ? Yd(n) : [];
        }
        function C6(n, o) {
          return n && n.length ? Yd(n, nt(o, 2)) : [];
        }
        function O6(n) {
          var o = n == null ? 0 : n.length;
          return o ? Ei(n, 1, o) : [];
        }
        function R6(n, o, v) {
          return n && n.length
            ? ((o = v || o === t ? 1 : yt(o)), Ei(n, 0, o < 0 ? 0 : o))
            : [];
        }
        function N6(n, o, v) {
          var D = n == null ? 0 : n.length;
          return D
            ? ((o = v || o === t ? 1 : yt(o)),
              (o = D - o),
              Ei(n, o < 0 ? 0 : o, D))
            : [];
        }
        function T6(n, o) {
          return n && n.length ? Pc(n, nt(o, 3), !1, !0) : [];
        }
        function q6(n, o) {
          return n && n.length ? Pc(n, nt(o, 3)) : [];
        }
        var F6 = At(function (n) {
            return ts(Er(n, 1, sr, !0));
          }),
          B6 = At(function (n) {
            var o = xi(n);
            return sr(o) && (o = t), ts(Er(n, 1, sr, !0), nt(o, 2));
          }),
          L6 = At(function (n) {
            var o = xi(n);
            return (
              (o = typeof o == "function" ? o : t), ts(Er(n, 1, sr, !0), t, o)
            );
          });
        function U6(n) {
          return n && n.length ? ts(n) : [];
        }
        function z6(n, o) {
          return n && n.length ? ts(n, nt(o, 2)) : [];
        }
        function k6(n, o) {
          return (
            (o = typeof o == "function" ? o : t),
            n && n.length ? ts(n, t, o) : []
          );
        }
        function Uf(n) {
          if (!(n && n.length)) return [];
          var o = 0;
          return (
            (n = Yn(n, function (v) {
              if (sr(v)) return (o = dr(v.length, o)), !0;
            })),
            tf(o, function (v) {
              return Xt(n, Xu(v));
            })
          );
        }
        function F0(n, o) {
          if (!(n && n.length)) return [];
          var v = Uf(n);
          return o == null
            ? v
            : Xt(v, function (D) {
                return vr(o, t, D);
              });
        }
        var j6 = At(function (n, o) {
            return sr(n) ? $a(n, o) : [];
          }),
          $6 = At(function (n) {
            return Ef(Yn(n, sr));
          }),
          H6 = At(function (n) {
            var o = xi(n);
            return sr(o) && (o = t), Ef(Yn(n, sr), nt(o, 2));
          }),
          K6 = At(function (n) {
            var o = xi(n);
            return (o = typeof o == "function" ? o : t), Ef(Yn(n, sr), t, o);
          }),
          V6 = At(Uf);
        function G6(n, o) {
          return e0(n || [], o || [], ja);
        }
        function W6(n, o) {
          return e0(n || [], o || [], Va);
        }
        var J6 = At(function (n) {
          var o = n.length,
            v = o > 1 ? n[o - 1] : t;
          return (v = typeof v == "function" ? (n.pop(), v) : t), F0(n, v);
        });
        function B0(n) {
          var o = j(n);
          return (o.__chain__ = !0), o;
        }
        function Y6(n, o) {
          return o(n), n;
        }
        function Lc(n, o) {
          return o(n);
        }
        var Q6 = Nn(function (n) {
          var o = n.length,
            v = o ? n[0] : 0,
            D = this.__wrapped__,
            T = function (H) {
              return ff(H, n);
            };
          return o > 1 ||
            this.__actions__.length ||
            !(D instanceof Dt) ||
            !Tn(v)
            ? this.thru(T)
            : ((D = D.slice(v, +v + (o ? 1 : 0))),
              D.__actions__.push({ func: Lc, args: [T], thisArg: t }),
              new _i(D, this.__chain__).thru(function (H) {
                return o && !H.length && H.push(t), H;
              }));
        });
        function X6() {
          return B0(this);
        }
        function Z6() {
          return new _i(this.value(), this.__chain__);
        }
        function ey() {
          this.__values__ === t && (this.__values__ = Q0(this.value()));
          var n = this.__index__ >= this.__values__.length,
            o = n ? t : this.__values__[this.__index__++];
          return { done: n, value: o };
        }
        function ty() {
          return this;
        }
        function ry(n) {
          for (var o, v = this; v instanceof Ec; ) {
            var D = C0(v);
            (D.__index__ = 0),
              (D.__values__ = t),
              o ? (T.__wrapped__ = D) : (o = D);
            var T = D;
            v = v.__wrapped__;
          }
          return (T.__wrapped__ = n), o;
        }
        function iy() {
          var n = this.__wrapped__;
          if (n instanceof Dt) {
            var o = n;
            return (
              this.__actions__.length && (o = new Dt(this)),
              (o = o.reverse()),
              o.__actions__.push({ func: Lc, args: [Lf], thisArg: t }),
              new _i(o, this.__chain__)
            );
          }
          return this.thru(Lf);
        }
        function ny() {
          return Zd(this.__wrapped__, this.__actions__);
        }
        var sy = Cc(function (n, o, v) {
          Lt.call(n, v) ? ++n[v] : On(n, v, 1);
        });
        function ay(n, o, v) {
          var D = gt(n) ? ld : Ym;
          return v && Lr(n, o, v) && (o = t), D(n, nt(o, 3));
        }
        function oy(n, o) {
          var v = gt(n) ? Yn : Fd;
          return v(n, nt(o, 3));
        }
        var cy = f0(O0),
          uy = f0(R0);
        function fy(n, o) {
          return Er(Uc(n, o), 1);
        }
        function hy(n, o) {
          return Er(Uc(n, o), A);
        }
        function ly(n, o, v) {
          return (v = v === t ? 1 : yt(v)), Er(Uc(n, o), v);
        }
        function L0(n, o) {
          var v = gt(n) ? yi : es;
          return v(n, nt(o, 3));
        }
        function U0(n, o) {
          var v = gt(n) ? O2 : qd;
          return v(n, nt(o, 3));
        }
        var dy = Cc(function (n, o, v) {
          Lt.call(n, v) ? n[v].push(o) : On(n, v, [o]);
        });
        function py(n, o, v, D) {
          (n = Qr(n) ? n : fa(n)), (v = v && !D ? yt(v) : 0);
          var T = n.length;
          return (
            v < 0 && (v = dr(T + v, 0)),
            Hc(n) ? v <= T && n.indexOf(o, v) > -1 : !!T && Xs(n, o, v) > -1
          );
        }
        var gy = At(function (n, o, v) {
            var D = -1,
              T = typeof o == "function",
              H = Qr(n) ? ue(n.length) : [];
            return (
              es(n, function (X) {
                H[++D] = T ? vr(o, X, v) : Ha(X, o, v);
              }),
              H
            );
          }),
          vy = Cc(function (n, o, v) {
            On(n, v, o);
          });
        function Uc(n, o) {
          var v = gt(n) ? Xt : jd;
          return v(n, nt(o, 3));
        }
        function by(n, o, v, D) {
          return n == null
            ? []
            : (gt(o) || (o = o == null ? [] : [o]),
              (v = D ? t : v),
              gt(v) || (v = v == null ? [] : [v]),
              Vd(n, o, v));
        }
        var my = Cc(
          function (n, o, v) {
            n[v ? 0 : 1].push(o);
          },
          function () {
            return [[], []];
          },
        );
        function yy(n, o, v) {
          var D = gt(n) ? Yu : vd,
            T = arguments.length < 3;
          return D(n, nt(o, 4), v, T, es);
        }
        function wy(n, o, v) {
          var D = gt(n) ? R2 : vd,
            T = arguments.length < 3;
          return D(n, nt(o, 4), v, T, qd);
        }
        function _y(n, o) {
          var v = gt(n) ? Yn : Fd;
          return v(n, jc(nt(o, 3)));
        }
        function Ay(n) {
          var o = gt(n) ? Od : p3;
          return o(n);
        }
        function Ey(n, o, v) {
          (v ? Lr(n, o, v) : o === t) ? (o = 1) : (o = yt(o));
          var D = gt(n) ? Km : g3;
          return D(n, o);
        }
        function xy(n) {
          var o = gt(n) ? Vm : b3;
          return o(n);
        }
        function Sy(n) {
          if (n == null) return 0;
          if (Qr(n)) return Hc(n) ? ea(n) : n.length;
          var o = Tr(n);
          return o == fe || o == Se ? n.size : vf(n).length;
        }
        function My(n, o, v) {
          var D = gt(n) ? Qu : m3;
          return v && Lr(n, o, v) && (o = t), D(n, nt(o, 3));
        }
        var Iy = At(function (n, o) {
            if (n == null) return [];
            var v = o.length;
            return (
              v > 1 && Lr(n, o[0], o[1])
                ? (o = [])
                : v > 2 && Lr(o[0], o[1], o[2]) && (o = [o[0]]),
              Vd(n, Er(o, 1), [])
            );
          }),
          zc =
            om ||
            function () {
              return Ot.Date.now();
            };
        function Dy(n, o) {
          if (typeof o != "function") throw new wi(f);
          return (
            (n = yt(n)),
            function () {
              if (--n < 1) return o.apply(this, arguments);
            }
          );
        }
        function z0(n, o, v) {
          return (
            (o = v ? t : o),
            (o = n && o == null ? n.length : o),
            Rn(n, E, t, t, t, t, o)
          );
        }
        function k0(n, o) {
          var v;
          if (typeof o != "function") throw new wi(f);
          return (
            (n = yt(n)),
            function () {
              return (
                --n > 0 && (v = o.apply(this, arguments)), n <= 1 && (o = t), v
              );
            }
          );
        }
        var zf = At(function (n, o, v) {
            var D = L;
            if (v.length) {
              var T = Xn(v, ca(zf));
              D |= z;
            }
            return Rn(n, D, o, v, T);
          }),
          j0 = At(function (n, o, v) {
            var D = L | V;
            if (v.length) {
              var T = Xn(v, ca(j0));
              D |= z;
            }
            return Rn(o, D, n, v, T);
          });
        function $0(n, o, v) {
          o = v ? t : o;
          var D = Rn(n, K, t, t, t, t, t, o);
          return (D.placeholder = $0.placeholder), D;
        }
        function H0(n, o, v) {
          o = v ? t : o;
          var D = Rn(n, B, t, t, t, t, t, o);
          return (D.placeholder = H0.placeholder), D;
        }
        function K0(n, o, v) {
          var D,
            T,
            H,
            X,
            ee,
            se,
            le = 0,
            de = !1,
            ge = !1,
            Pe = !0;
          if (typeof n != "function") throw new wi(f);
          (o = Si(o) || 0),
            Zt(v) &&
              ((de = !!v.leading),
              (ge = "maxWait" in v),
              (H = ge ? dr(Si(v.maxWait) || 0, o) : H),
              (Pe = "trailing" in v ? !!v.trailing : Pe));
          function We(ar) {
            var Hi = D,
              Bn = T;
            return (D = T = t), (le = ar), (X = n.apply(Bn, Hi)), X;
          }
          function ot(ar) {
            return (le = ar), (ee = Ja(St, o)), de ? We(ar) : X;
          }
          function wt(ar) {
            var Hi = ar - se,
              Bn = ar - le,
              fp = o - Hi;
            return ge ? Nr(fp, H - Bn) : fp;
          }
          function ct(ar) {
            var Hi = ar - se,
              Bn = ar - le;
            return se === t || Hi >= o || Hi < 0 || (ge && Bn >= H);
          }
          function St() {
            var ar = zc();
            if (ct(ar)) return Rt(ar);
            ee = Ja(St, wt(ar));
          }
          function Rt(ar) {
            return (ee = t), Pe && D ? We(ar) : ((D = T = t), X);
          }
          function fi() {
            ee !== t && t0(ee), (le = 0), (D = se = T = ee = t);
          }
          function Ur() {
            return ee === t ? X : Rt(zc());
          }
          function hi() {
            var ar = zc(),
              Hi = ct(ar);
            if (((D = arguments), (T = this), (se = ar), Hi)) {
              if (ee === t) return ot(se);
              if (ge) return t0(ee), (ee = Ja(St, o)), We(se);
            }
            return ee === t && (ee = Ja(St, o)), X;
          }
          return (hi.cancel = fi), (hi.flush = Ur), hi;
        }
        var Py = At(function (n, o) {
            return Td(n, 1, o);
          }),
          Cy = At(function (n, o, v) {
            return Td(n, Si(o) || 0, v);
          });
        function Oy(n) {
          return Rn(n, te);
        }
        function kc(n, o) {
          if (typeof n != "function" || (o != null && typeof o != "function"))
            throw new wi(f);
          var v = function () {
            var D = arguments,
              T = o ? o.apply(this, D) : D[0],
              H = v.cache;
            if (H.has(T)) return H.get(T);
            var X = n.apply(this, D);
            return (v.cache = H.set(T, X) || H), X;
          };
          return (v.cache = new (kc.Cache || Cn)()), v;
        }
        kc.Cache = Cn;
        function jc(n) {
          if (typeof n != "function") throw new wi(f);
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return !n.call(this);
              case 1:
                return !n.call(this, o[0]);
              case 2:
                return !n.call(this, o[0], o[1]);
              case 3:
                return !n.call(this, o[0], o[1], o[2]);
            }
            return !n.apply(this, o);
          };
        }
        function Ry(n) {
          return k0(2, n);
        }
        var Ny = y3(function (n, o) {
            o =
              o.length == 1 && gt(o[0])
                ? Xt(o[0], oi(nt()))
                : Xt(Er(o, 1), oi(nt()));
            var v = o.length;
            return At(function (D) {
              for (var T = -1, H = Nr(D.length, v); ++T < H; )
                D[T] = o[T].call(this, D[T]);
              return vr(n, this, D);
            });
          }),
          kf = At(function (n, o) {
            var v = Xn(o, ca(kf));
            return Rn(n, z, t, o, v);
          }),
          V0 = At(function (n, o) {
            var v = Xn(o, ca(V0));
            return Rn(n, q, t, o, v);
          }),
          Ty = Nn(function (n, o) {
            return Rn(n, U, t, t, t, o);
          });
        function qy(n, o) {
          if (typeof n != "function") throw new wi(f);
          return (o = o === t ? o : yt(o)), At(n, o);
        }
        function Fy(n, o) {
          if (typeof n != "function") throw new wi(f);
          return (
            (o = o == null ? 0 : dr(yt(o), 0)),
            At(function (v) {
              var D = v[o],
                T = is(v, 0, o);
              return D && Qn(T, D), vr(n, this, T);
            })
          );
        }
        function By(n, o, v) {
          var D = !0,
            T = !0;
          if (typeof n != "function") throw new wi(f);
          return (
            Zt(v) &&
              ((D = "leading" in v ? !!v.leading : D),
              (T = "trailing" in v ? !!v.trailing : T)),
            K0(n, o, { leading: D, maxWait: o, trailing: T })
          );
        }
        function Ly(n) {
          return z0(n, 1);
        }
        function Uy(n, o) {
          return kf(Sf(o), n);
        }
        function zy() {
          if (!arguments.length) return [];
          var n = arguments[0];
          return gt(n) ? n : [n];
        }
        function ky(n) {
          return Ai(n, M);
        }
        function jy(n, o) {
          return (o = typeof o == "function" ? o : t), Ai(n, M, o);
        }
        function $y(n) {
          return Ai(n, _ | M);
        }
        function Hy(n, o) {
          return (o = typeof o == "function" ? o : t), Ai(n, _ | M, o);
        }
        function Ky(n, o) {
          return o == null || Nd(n, o, br(o));
        }
        function $i(n, o) {
          return n === o || (n !== n && o !== o);
        }
        var Vy = Tc(df),
          Gy = Tc(function (n, o) {
            return n >= o;
          }),
          Ms = Ud(
            (function () {
              return arguments;
            })(),
          )
            ? Ud
            : function (n) {
                return tr(n) && Lt.call(n, "callee") && !Sd.call(n, "callee");
              },
          gt = ue.isArray,
          Wy = Fr ? oi(Fr) : r3;
        function Qr(n) {
          return n != null && $c(n.length) && !qn(n);
        }
        function sr(n) {
          return tr(n) && Qr(n);
        }
        function Jy(n) {
          return n === !0 || n === !1 || (tr(n) && Br(n) == W);
        }
        var ns = um || Xf,
          Yy = zi ? oi(zi) : i3;
        function Qy(n) {
          return tr(n) && n.nodeType === 1 && !Ya(n);
        }
        function Xy(n) {
          if (n == null) return !0;
          if (
            Qr(n) &&
            (gt(n) ||
              typeof n == "string" ||
              typeof n.splice == "function" ||
              ns(n) ||
              ua(n) ||
              Ms(n))
          )
            return !n.length;
          var o = Tr(n);
          if (o == fe || o == Se) return !n.size;
          if (Wa(n)) return !vf(n).length;
          for (var v in n) if (Lt.call(n, v)) return !1;
          return !0;
        }
        function Zy(n, o) {
          return Ka(n, o);
        }
        function e5(n, o, v) {
          v = typeof v == "function" ? v : t;
          var D = v ? v(n, o) : t;
          return D === t ? Ka(n, o, t, v) : !!D;
        }
        function jf(n) {
          if (!tr(n)) return !1;
          var o = Br(n);
          return (
            o == G ||
            o == x ||
            (typeof n.message == "string" &&
              typeof n.name == "string" &&
              !Ya(n))
          );
        }
        function t5(n) {
          return typeof n == "number" && Id(n);
        }
        function qn(n) {
          if (!Zt(n)) return !1;
          var o = Br(n);
          return o == ae || o == ce || o == $ || o == Ce;
        }
        function G0(n) {
          return typeof n == "number" && n == yt(n);
        }
        function $c(n) {
          return typeof n == "number" && n > -1 && n % 1 == 0 && n <= P;
        }
        function Zt(n) {
          var o = typeof n;
          return n != null && (o == "object" || o == "function");
        }
        function tr(n) {
          return n != null && typeof n == "object";
        }
        var W0 = mi ? oi(mi) : s3;
        function r5(n, o) {
          return n === o || gf(n, o, Rf(o));
        }
        function i5(n, o, v) {
          return (v = typeof v == "function" ? v : t), gf(n, o, Rf(o), v);
        }
        function n5(n) {
          return J0(n) && n != +n;
        }
        function s5(n) {
          if (j3(n)) throw new dt(a);
          return zd(n);
        }
        function a5(n) {
          return n === null;
        }
        function o5(n) {
          return n == null;
        }
        function J0(n) {
          return typeof n == "number" || (tr(n) && Br(n) == be);
        }
        function Ya(n) {
          if (!tr(n) || Br(n) != Ie) return !1;
          var o = vc(n);
          if (o === null) return !0;
          var v = Lt.call(o, "constructor") && o.constructor;
          return typeof v == "function" && v instanceof v && lc.call(v) == im;
        }
        var $f = sn ? oi(sn) : a3;
        function c5(n) {
          return G0(n) && n >= -9007199254740991 && n <= P;
        }
        var Y0 = qa ? oi(qa) : o3;
        function Hc(n) {
          return typeof n == "string" || (!gt(n) && tr(n) && Br(n) == me);
        }
        function ui(n) {
          return typeof n == "symbol" || (tr(n) && Br(n) == Oe);
        }
        var ua = ms ? oi(ms) : c3;
        function u5(n) {
          return n === t;
        }
        function f5(n) {
          return tr(n) && Tr(n) == ve;
        }
        function h5(n) {
          return tr(n) && Br(n) == Ne;
        }
        var l5 = Tc(bf),
          d5 = Tc(function (n, o) {
            return n <= o;
          });
        function Q0(n) {
          if (!n) return [];
          if (Qr(n)) return Hc(n) ? ki(n) : Yr(n);
          if (Ba && n[Ba]) return K2(n[Ba]());
          var o = Tr(n),
            v = o == fe ? nf : o == Se ? uc : fa;
          return v(n);
        }
        function Fn(n) {
          if (!n) return n === 0 ? n : 0;
          if (((n = Si(n)), n === A || n === -1 / 0)) {
            var o = n < 0 ? -1 : 1;
            return o * S;
          }
          return n === n ? n : 0;
        }
        function yt(n) {
          var o = Fn(n),
            v = o % 1;
          return o === o ? (v ? o - v : o) : 0;
        }
        function X0(n) {
          return n ? As(yt(n), 0, m) : 0;
        }
        function Si(n) {
          if (typeof n == "number") return n;
          if (ui(n)) return g;
          if (Zt(n)) {
            var o = typeof n.valueOf == "function" ? n.valueOf() : n;
            n = Zt(o) ? o + "" : o;
          }
          if (typeof n != "string") return n === 0 ? n : +n;
          n = bd(n);
          var v = Pr.test(n);
          return v || Or.test(n)
            ? pt(n.slice(2), v ? 2 : 8)
            : Dr.test(n)
              ? g
              : +n;
        }
        function Z0(n) {
          return on(n, Xr(n));
        }
        function p5(n) {
          return n ? As(yt(n), -9007199254740991, P) : n === 0 ? n : 0;
        }
        function Ft(n) {
          return n == null ? "" : ci(n);
        }
        var g5 = aa(function (n, o) {
            if (Wa(o) || Qr(o)) {
              on(o, br(o), n);
              return;
            }
            for (var v in o) Lt.call(o, v) && ja(n, v, o[v]);
          }),
          ep = aa(function (n, o) {
            on(o, Xr(o), n);
          }),
          Kc = aa(function (n, o, v, D) {
            on(o, Xr(o), n, D);
          }),
          v5 = aa(function (n, o, v, D) {
            on(o, br(o), n, D);
          }),
          b5 = Nn(ff);
        function m5(n, o) {
          var v = sa(n);
          return o == null ? v : Rd(v, o);
        }
        var y5 = At(function (n, o) {
            n = Kt(n);
            var v = -1,
              D = o.length,
              T = D > 2 ? o[2] : t;
            for (T && Lr(o[0], o[1], T) && (D = 1); ++v < D; )
              for (
                var H = o[v], X = Xr(H), ee = -1, se = X.length;
                ++ee < se;

              ) {
                var le = X[ee],
                  de = n[le];
                (de === t || ($i(de, ra[le]) && !Lt.call(n, le))) &&
                  (n[le] = H[le]);
              }
            return n;
          }),
          w5 = At(function (n) {
            return n.push(t, b0), vr(tp, t, n);
          });
        function _5(n, o) {
          return dd(n, nt(o, 3), an);
        }
        function A5(n, o) {
          return dd(n, nt(o, 3), lf);
        }
        function E5(n, o) {
          return n == null ? n : hf(n, nt(o, 3), Xr);
        }
        function x5(n, o) {
          return n == null ? n : Bd(n, nt(o, 3), Xr);
        }
        function S5(n, o) {
          return n && an(n, nt(o, 3));
        }
        function M5(n, o) {
          return n && lf(n, nt(o, 3));
        }
        function I5(n) {
          return n == null ? [] : Mc(n, br(n));
        }
        function D5(n) {
          return n == null ? [] : Mc(n, Xr(n));
        }
        function Hf(n, o, v) {
          var D = n == null ? t : Es(n, o);
          return D === t ? v : D;
        }
        function P5(n, o) {
          return n != null && w0(n, o, Xm);
        }
        function Kf(n, o) {
          return n != null && w0(n, o, Zm);
        }
        var C5 = l0(function (n, o, v) {
            o != null && typeof o.toString != "function" && (o = dc.call(o)),
              (n[o] = v);
          }, Gf(Zr)),
          O5 = l0(function (n, o, v) {
            o != null && typeof o.toString != "function" && (o = dc.call(o)),
              Lt.call(n, o) ? n[o].push(v) : (n[o] = [v]);
          }, nt),
          R5 = At(Ha);
        function br(n) {
          return Qr(n) ? Cd(n) : vf(n);
        }
        function Xr(n) {
          return Qr(n) ? Cd(n, !0) : u3(n);
        }
        function N5(n, o) {
          var v = {};
          return (
            (o = nt(o, 3)),
            an(n, function (D, T, H) {
              On(v, o(D, T, H), D);
            }),
            v
          );
        }
        function T5(n, o) {
          var v = {};
          return (
            (o = nt(o, 3)),
            an(n, function (D, T, H) {
              On(v, T, o(D, T, H));
            }),
            v
          );
        }
        var q5 = aa(function (n, o, v) {
            Ic(n, o, v);
          }),
          tp = aa(function (n, o, v, D) {
            Ic(n, o, v, D);
          }),
          F5 = Nn(function (n, o) {
            var v = {};
            if (n == null) return v;
            var D = !1;
            (o = Xt(o, function (H) {
              return (H = rs(H, n)), D || (D = H.length > 1), H;
            })),
              on(n, Cf(n), v),
              D && (v = Ai(v, _ | I | M, C3));
            for (var T = o.length; T--; ) Af(v, o[T]);
            return v;
          });
        function B5(n, o) {
          return rp(n, jc(nt(o)));
        }
        var L5 = Nn(function (n, o) {
          return n == null ? {} : h3(n, o);
        });
        function rp(n, o) {
          if (n == null) return {};
          var v = Xt(Cf(n), function (D) {
            return [D];
          });
          return (
            (o = nt(o)),
            Gd(n, v, function (D, T) {
              return o(D, T[0]);
            })
          );
        }
        function U5(n, o, v) {
          o = rs(o, n);
          var D = -1,
            T = o.length;
          for (T || ((T = 1), (n = t)); ++D < T; ) {
            var H = n == null ? t : n[cn(o[D])];
            H === t && ((D = T), (H = v)), (n = qn(H) ? H.call(n) : H);
          }
          return n;
        }
        function z5(n, o, v) {
          return n == null ? n : Va(n, o, v);
        }
        function k5(n, o, v, D) {
          return (
            (D = typeof D == "function" ? D : t), n == null ? n : Va(n, o, v, D)
          );
        }
        var ip = g0(br),
          np = g0(Xr);
        function j5(n, o, v) {
          var D = gt(n),
            T = D || ns(n) || ua(n);
          if (((o = nt(o, 4)), v == null)) {
            var H = n && n.constructor;
            T
              ? (v = D ? new H() : [])
              : Zt(n)
                ? (v = qn(H) ? sa(vc(n)) : {})
                : (v = {});
          }
          return (
            (T ? yi : an)(n, function (X, ee, se) {
              return o(v, X, ee, se);
            }),
            v
          );
        }
        function $5(n, o) {
          return n == null ? !0 : Af(n, o);
        }
        function H5(n, o, v) {
          return n == null ? n : Xd(n, o, Sf(v));
        }
        function K5(n, o, v, D) {
          return (
            (D = typeof D == "function" ? D : t),
            n == null ? n : Xd(n, o, Sf(v), D)
          );
        }
        function fa(n) {
          return n == null ? [] : rf(n, br(n));
        }
        function V5(n) {
          return n == null ? [] : rf(n, Xr(n));
        }
        function G5(n, o, v) {
          return (
            v === t && ((v = o), (o = t)),
            v !== t && ((v = Si(v)), (v = v === v ? v : 0)),
            o !== t && ((o = Si(o)), (o = o === o ? o : 0)),
            As(Si(n), o, v)
          );
        }
        function W5(n, o, v) {
          return (
            (o = Fn(o)),
            v === t ? ((v = o), (o = 0)) : (v = Fn(v)),
            (n = Si(n)),
            e3(n, o, v)
          );
        }
        function J5(n, o, v) {
          if (
            (v && typeof v != "boolean" && Lr(n, o, v) && (o = v = t),
            v === t &&
              (typeof o == "boolean"
                ? ((v = o), (o = t))
                : typeof n == "boolean" && ((v = n), (n = t))),
            n === t && o === t
              ? ((n = 0), (o = 1))
              : ((n = Fn(n)), o === t ? ((o = n), (n = 0)) : (o = Fn(o))),
            n > o)
          ) {
            var D = n;
            (n = o), (o = D);
          }
          if (v || n % 1 || o % 1) {
            var T = Dd();
            return Nr(n + T * (o - n + $t("1e-" + ((T + "").length - 1))), o);
          }
          return yf(n, o);
        }
        var Y5 = oa(function (n, o, v) {
          return (o = o.toLowerCase()), n + (v ? sp(o) : o);
        });
        function sp(n) {
          return Vf(Ft(n).toLowerCase());
        }
        function ap(n) {
          return (n = Ft(n)), n && n.replace(er, z2).replace(Gu, "");
        }
        function Q5(n, o, v) {
          (n = Ft(n)), (o = ci(o));
          var D = n.length;
          v = v === t ? D : As(yt(v), 0, D);
          var T = v;
          return (v -= o.length), v >= 0 && n.slice(v, T) == o;
        }
        function X5(n) {
          return (n = Ft(n)), n && Xe.test(n) ? n.replace(It, k2) : n;
        }
        function Z5(n) {
          return (n = Ft(n)), n && ke.test(n) ? n.replace(rt, "\\$&") : n;
        }
        var ew = oa(function (n, o, v) {
            return n + (v ? "-" : "") + o.toLowerCase();
          }),
          tw = oa(function (n, o, v) {
            return n + (v ? " " : "") + o.toLowerCase();
          }),
          rw = u0("toLowerCase");
        function iw(n, o, v) {
          (n = Ft(n)), (o = yt(o));
          var D = o ? ea(n) : 0;
          if (!o || D >= o) return n;
          var T = (o - D) / 2;
          return Nc(wc(T), v) + n + Nc(yc(T), v);
        }
        function nw(n, o, v) {
          (n = Ft(n)), (o = yt(o));
          var D = o ? ea(n) : 0;
          return o && D < o ? n + Nc(o - D, v) : n;
        }
        function sw(n, o, v) {
          (n = Ft(n)), (o = yt(o));
          var D = o ? ea(n) : 0;
          return o && D < o ? Nc(o - D, v) + n : n;
        }
        function aw(n, o, v) {
          return (
            v || o == null ? (o = 0) : o && (o = +o),
            dm(Ft(n).replace(it, ""), o || 0)
          );
        }
        function ow(n, o, v) {
          return (
            (v ? Lr(n, o, v) : o === t) ? (o = 1) : (o = yt(o)), wf(Ft(n), o)
          );
        }
        function cw() {
          var n = arguments,
            o = Ft(n[0]);
          return n.length < 3 ? o : o.replace(n[1], n[2]);
        }
        var uw = oa(function (n, o, v) {
          return n + (v ? "_" : "") + o.toLowerCase();
        });
        function fw(n, o, v) {
          return (
            v && typeof v != "number" && Lr(n, o, v) && (o = v = t),
            (v = v === t ? m : v >>> 0),
            v
              ? ((n = Ft(n)),
                n &&
                (typeof o == "string" || (o != null && !$f(o))) &&
                ((o = ci(o)), !o && Zs(n))
                  ? is(ki(n), 0, v)
                  : n.split(o, v))
              : []
          );
        }
        var hw = oa(function (n, o, v) {
          return n + (v ? " " : "") + Vf(o);
        });
        function lw(n, o, v) {
          return (
            (n = Ft(n)),
            (v = v == null ? 0 : As(yt(v), 0, n.length)),
            (o = ci(o)),
            n.slice(v, v + o.length) == o
          );
        }
        function dw(n, o, v) {
          var D = j.templateSettings;
          v && Lr(n, o, v) && (o = t), (n = Ft(n)), (o = Kc({}, o, D, v0));
          var T = Kc({}, o.imports, D.imports, v0),
            H = br(T),
            X = rf(T, H),
            ee,
            se,
            le = 0,
            de = o.interpolate || Vr,
            ge = "__p += '",
            Pe = sf(
              (o.escape || Vr).source +
                "|" +
                de.source +
                "|" +
                (de === et ? at : Vr).source +
                "|" +
                (o.evaluate || Vr).source +
                "|$",
              "g",
            ),
            We =
              "//# sourceURL=" +
              (Lt.call(o, "sourceURL")
                ? (o.sourceURL + "").replace(/\s/g, " ")
                : "lodash.templateSources[" + ++Wu + "]") +
              `
`;
          n.replace(Pe, function (ct, St, Rt, fi, Ur, hi) {
            return (
              Rt || (Rt = fi),
              (ge += n.slice(le, hi).replace(Ti, j2)),
              St &&
                ((ee = !0),
                (ge +=
                  `' +
__e(` +
                  St +
                  `) +
'`)),
              Ur &&
                ((se = !0),
                (ge +=
                  `';
` +
                  Ur +
                  `;
__p += '`)),
              Rt &&
                (ge +=
                  `' +
((__t = (` +
                  Rt +
                  `)) == null ? '' : __t) +
'`),
              (le = hi + ct.length),
              ct
            );
          }),
            (ge += `';
`);
          var ot = Lt.call(o, "variable") && o.variable;
          if (!ot)
            ge =
              `with (obj) {
` +
              ge +
              `
}
`;
          else if (Nt.test(ot)) throw new dt(h);
          (ge = (se ? ge.replace(_t, "") : ge)
            .replace(lt, "$1")
            .replace(Ye, "$1;")),
            (ge =
              "function(" +
              (ot || "obj") +
              `) {
` +
              (ot
                ? ""
                : `obj || (obj = {});
`) +
              "var __t, __p = ''" +
              (ee ? ", __e = _.escape" : "") +
              (se
                ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`
                : `;
`) +
              ge +
              `return __p
}`);
          var wt = cp(function () {
            return qt(H, We + "return " + ge).apply(t, X);
          });
          if (((wt.source = ge), jf(wt))) throw wt;
          return wt;
        }
        function pw(n) {
          return Ft(n).toLowerCase();
        }
        function gw(n) {
          return Ft(n).toUpperCase();
        }
        function vw(n, o, v) {
          if (((n = Ft(n)), n && (v || o === t))) return bd(n);
          if (!n || !(o = ci(o))) return n;
          var D = ki(n),
            T = ki(o),
            H = md(D, T),
            X = yd(D, T) + 1;
          return is(D, H, X).join("");
        }
        function bw(n, o, v) {
          if (((n = Ft(n)), n && (v || o === t))) return n.slice(0, _d(n) + 1);
          if (!n || !(o = ci(o))) return n;
          var D = ki(n),
            T = yd(D, ki(o)) + 1;
          return is(D, 0, T).join("");
        }
        function mw(n, o, v) {
          if (((n = Ft(n)), n && (v || o === t))) return n.replace(it, "");
          if (!n || !(o = ci(o))) return n;
          var D = ki(n),
            T = md(D, ki(o));
          return is(D, T).join("");
        }
        function yw(n, o) {
          var v = oe,
            D = k;
          if (Zt(o)) {
            var T = "separator" in o ? o.separator : T;
            (v = "length" in o ? yt(o.length) : v),
              (D = "omission" in o ? ci(o.omission) : D);
          }
          n = Ft(n);
          var H = n.length;
          if (Zs(n)) {
            var X = ki(n);
            H = X.length;
          }
          if (v >= H) return n;
          var ee = v - ea(D);
          if (ee < 1) return D;
          var se = X ? is(X, 0, ee).join("") : n.slice(0, ee);
          if (T === t) return se + D;
          if ((X && (ee += se.length - ee), $f(T))) {
            if (n.slice(ee).search(T)) {
              var le,
                de = se;
              for (
                T.global || (T = sf(T.source, Ft(bt.exec(T)) + "g")),
                  T.lastIndex = 0;
                (le = T.exec(de));

              )
                var ge = le.index;
              se = se.slice(0, ge === t ? ee : ge);
            }
          } else if (n.indexOf(ci(T), ee) != ee) {
            var Pe = se.lastIndexOf(T);
            Pe > -1 && (se = se.slice(0, Pe));
          }
          return se + D;
        }
        function ww(n) {
          return (n = Ft(n)), n && qe.test(n) ? n.replace(xt, J2) : n;
        }
        var _w = oa(function (n, o, v) {
            return n + (v ? " " : "") + o.toUpperCase();
          }),
          Vf = u0("toUpperCase");
        function op(n, o, v) {
          return (
            (n = Ft(n)),
            (o = v ? t : o),
            o === t ? (H2(n) ? X2(n) : q2(n)) : n.match(o) || []
          );
        }
        var cp = At(function (n, o) {
            try {
              return vr(n, t, o);
            } catch (v) {
              return jf(v) ? v : new dt(v);
            }
          }),
          Aw = Nn(function (n, o) {
            return (
              yi(o, function (v) {
                (v = cn(v)), On(n, v, zf(n[v], n));
              }),
              n
            );
          });
        function Ew(n) {
          var o = n == null ? 0 : n.length,
            v = nt();
          return (
            (n = o
              ? Xt(n, function (D) {
                  if (typeof D[1] != "function") throw new wi(f);
                  return [v(D[0]), D[1]];
                })
              : []),
            At(function (D) {
              for (var T = -1; ++T < o; ) {
                var H = n[T];
                if (vr(H[0], this, D)) return vr(H[1], this, D);
              }
            })
          );
        }
        function xw(n) {
          return Jm(Ai(n, _));
        }
        function Gf(n) {
          return function () {
            return n;
          };
        }
        function Sw(n, o) {
          return n == null || n !== n ? o : n;
        }
        var Mw = h0(),
          Iw = h0(!0);
        function Zr(n) {
          return n;
        }
        function Wf(n) {
          return kd(typeof n == "function" ? n : Ai(n, _));
        }
        function Dw(n) {
          return $d(Ai(n, _));
        }
        function Pw(n, o) {
          return Hd(n, Ai(o, _));
        }
        var Cw = At(function (n, o) {
            return function (v) {
              return Ha(v, n, o);
            };
          }),
          Ow = At(function (n, o) {
            return function (v) {
              return Ha(n, v, o);
            };
          });
        function Jf(n, o, v) {
          var D = br(o),
            T = Mc(o, D);
          v == null &&
            !(Zt(o) && (T.length || !D.length)) &&
            ((v = o), (o = n), (n = this), (T = Mc(o, br(o))));
          var H = !(Zt(v) && "chain" in v) || !!v.chain,
            X = qn(n);
          return (
            yi(T, function (ee) {
              var se = o[ee];
              (n[ee] = se),
                X &&
                  (n.prototype[ee] = function () {
                    var le = this.__chain__;
                    if (H || le) {
                      var de = n(this.__wrapped__),
                        ge = (de.__actions__ = Yr(this.__actions__));
                      return (
                        ge.push({ func: se, args: arguments, thisArg: n }),
                        (de.__chain__ = le),
                        de
                      );
                    }
                    return se.apply(n, Qn([this.value()], arguments));
                  });
            }),
            n
          );
        }
        function Rw() {
          return Ot._ === this && (Ot._ = nm), this;
        }
        function Yf() {}
        function Nw(n) {
          return (
            (n = yt(n)),
            At(function (o) {
              return Kd(o, n);
            })
          );
        }
        var Tw = If(Xt),
          qw = If(ld),
          Fw = If(Qu);
        function up(n) {
          return Tf(n) ? Xu(cn(n)) : l3(n);
        }
        function Bw(n) {
          return function (o) {
            return n == null ? t : Es(n, o);
          };
        }
        var Lw = d0(),
          Uw = d0(!0);
        function Qf() {
          return [];
        }
        function Xf() {
          return !1;
        }
        function zw() {
          return {};
        }
        function kw() {
          return "";
        }
        function jw() {
          return !0;
        }
        function $w(n, o) {
          if (((n = yt(n)), n < 1 || n > P)) return [];
          var v = m,
            D = Nr(n, m);
          (o = nt(o)), (n -= m);
          for (var T = tf(D, o); ++v < n; ) o(v);
          return T;
        }
        function Hw(n) {
          return gt(n) ? Xt(n, cn) : ui(n) ? [n] : Yr(P0(Ft(n)));
        }
        function Kw(n) {
          var o = ++rm;
          return Ft(n) + o;
        }
        var Vw = Rc(function (n, o) {
            return n + o;
          }, 0),
          Gw = Df("ceil"),
          Ww = Rc(function (n, o) {
            return n / o;
          }, 1),
          Jw = Df("floor");
        function Yw(n) {
          return n && n.length ? Sc(n, Zr, df) : t;
        }
        function Qw(n, o) {
          return n && n.length ? Sc(n, nt(o, 2), df) : t;
        }
        function Xw(n) {
          return gd(n, Zr);
        }
        function Zw(n, o) {
          return gd(n, nt(o, 2));
        }
        function e8(n) {
          return n && n.length ? Sc(n, Zr, bf) : t;
        }
        function t8(n, o) {
          return n && n.length ? Sc(n, nt(o, 2), bf) : t;
        }
        var r8 = Rc(function (n, o) {
            return n * o;
          }, 1),
          i8 = Df("round"),
          n8 = Rc(function (n, o) {
            return n - o;
          }, 0);
        function s8(n) {
          return n && n.length ? ef(n, Zr) : 0;
        }
        function a8(n, o) {
          return n && n.length ? ef(n, nt(o, 2)) : 0;
        }
        return (
          (j.after = Dy),
          (j.ary = z0),
          (j.assign = g5),
          (j.assignIn = ep),
          (j.assignInWith = Kc),
          (j.assignWith = v5),
          (j.at = b5),
          (j.before = k0),
          (j.bind = zf),
          (j.bindAll = Aw),
          (j.bindKey = j0),
          (j.castArray = zy),
          (j.chain = B0),
          (j.chunk = J3),
          (j.compact = Y3),
          (j.concat = Q3),
          (j.cond = Ew),
          (j.conforms = xw),
          (j.constant = Gf),
          (j.countBy = sy),
          (j.create = m5),
          (j.curry = $0),
          (j.curryRight = H0),
          (j.debounce = K0),
          (j.defaults = y5),
          (j.defaultsDeep = w5),
          (j.defer = Py),
          (j.delay = Cy),
          (j.difference = X3),
          (j.differenceBy = Z3),
          (j.differenceWith = e6),
          (j.drop = t6),
          (j.dropRight = r6),
          (j.dropRightWhile = i6),
          (j.dropWhile = n6),
          (j.fill = s6),
          (j.filter = oy),
          (j.flatMap = fy),
          (j.flatMapDeep = hy),
          (j.flatMapDepth = ly),
          (j.flatten = N0),
          (j.flattenDeep = a6),
          (j.flattenDepth = o6),
          (j.flip = Oy),
          (j.flow = Mw),
          (j.flowRight = Iw),
          (j.fromPairs = c6),
          (j.functions = I5),
          (j.functionsIn = D5),
          (j.groupBy = dy),
          (j.initial = f6),
          (j.intersection = h6),
          (j.intersectionBy = l6),
          (j.intersectionWith = d6),
          (j.invert = C5),
          (j.invertBy = O5),
          (j.invokeMap = gy),
          (j.iteratee = Wf),
          (j.keyBy = vy),
          (j.keys = br),
          (j.keysIn = Xr),
          (j.map = Uc),
          (j.mapKeys = N5),
          (j.mapValues = T5),
          (j.matches = Dw),
          (j.matchesProperty = Pw),
          (j.memoize = kc),
          (j.merge = q5),
          (j.mergeWith = tp),
          (j.method = Cw),
          (j.methodOf = Ow),
          (j.mixin = Jf),
          (j.negate = jc),
          (j.nthArg = Nw),
          (j.omit = F5),
          (j.omitBy = B5),
          (j.once = Ry),
          (j.orderBy = by),
          (j.over = Tw),
          (j.overArgs = Ny),
          (j.overEvery = qw),
          (j.overSome = Fw),
          (j.partial = kf),
          (j.partialRight = V0),
          (j.partition = my),
          (j.pick = L5),
          (j.pickBy = rp),
          (j.property = up),
          (j.propertyOf = Bw),
          (j.pull = b6),
          (j.pullAll = q0),
          (j.pullAllBy = m6),
          (j.pullAllWith = y6),
          (j.pullAt = w6),
          (j.range = Lw),
          (j.rangeRight = Uw),
          (j.rearg = Ty),
          (j.reject = _y),
          (j.remove = _6),
          (j.rest = qy),
          (j.reverse = Lf),
          (j.sampleSize = Ey),
          (j.set = z5),
          (j.setWith = k5),
          (j.shuffle = xy),
          (j.slice = A6),
          (j.sortBy = Iy),
          (j.sortedUniq = P6),
          (j.sortedUniqBy = C6),
          (j.split = fw),
          (j.spread = Fy),
          (j.tail = O6),
          (j.take = R6),
          (j.takeRight = N6),
          (j.takeRightWhile = T6),
          (j.takeWhile = q6),
          (j.tap = Y6),
          (j.throttle = By),
          (j.thru = Lc),
          (j.toArray = Q0),
          (j.toPairs = ip),
          (j.toPairsIn = np),
          (j.toPath = Hw),
          (j.toPlainObject = Z0),
          (j.transform = j5),
          (j.unary = Ly),
          (j.union = F6),
          (j.unionBy = B6),
          (j.unionWith = L6),
          (j.uniq = U6),
          (j.uniqBy = z6),
          (j.uniqWith = k6),
          (j.unset = $5),
          (j.unzip = Uf),
          (j.unzipWith = F0),
          (j.update = H5),
          (j.updateWith = K5),
          (j.values = fa),
          (j.valuesIn = V5),
          (j.without = j6),
          (j.words = op),
          (j.wrap = Uy),
          (j.xor = $6),
          (j.xorBy = H6),
          (j.xorWith = K6),
          (j.zip = V6),
          (j.zipObject = G6),
          (j.zipObjectDeep = W6),
          (j.zipWith = J6),
          (j.entries = ip),
          (j.entriesIn = np),
          (j.extend = ep),
          (j.extendWith = Kc),
          Jf(j, j),
          (j.add = Vw),
          (j.attempt = cp),
          (j.camelCase = Y5),
          (j.capitalize = sp),
          (j.ceil = Gw),
          (j.clamp = G5),
          (j.clone = ky),
          (j.cloneDeep = $y),
          (j.cloneDeepWith = Hy),
          (j.cloneWith = jy),
          (j.conformsTo = Ky),
          (j.deburr = ap),
          (j.defaultTo = Sw),
          (j.divide = Ww),
          (j.endsWith = Q5),
          (j.eq = $i),
          (j.escape = X5),
          (j.escapeRegExp = Z5),
          (j.every = ay),
          (j.find = cy),
          (j.findIndex = O0),
          (j.findKey = _5),
          (j.findLast = uy),
          (j.findLastIndex = R0),
          (j.findLastKey = A5),
          (j.floor = Jw),
          (j.forEach = L0),
          (j.forEachRight = U0),
          (j.forIn = E5),
          (j.forInRight = x5),
          (j.forOwn = S5),
          (j.forOwnRight = M5),
          (j.get = Hf),
          (j.gt = Vy),
          (j.gte = Gy),
          (j.has = P5),
          (j.hasIn = Kf),
          (j.head = T0),
          (j.identity = Zr),
          (j.includes = py),
          (j.indexOf = u6),
          (j.inRange = W5),
          (j.invoke = R5),
          (j.isArguments = Ms),
          (j.isArray = gt),
          (j.isArrayBuffer = Wy),
          (j.isArrayLike = Qr),
          (j.isArrayLikeObject = sr),
          (j.isBoolean = Jy),
          (j.isBuffer = ns),
          (j.isDate = Yy),
          (j.isElement = Qy),
          (j.isEmpty = Xy),
          (j.isEqual = Zy),
          (j.isEqualWith = e5),
          (j.isError = jf),
          (j.isFinite = t5),
          (j.isFunction = qn),
          (j.isInteger = G0),
          (j.isLength = $c),
          (j.isMap = W0),
          (j.isMatch = r5),
          (j.isMatchWith = i5),
          (j.isNaN = n5),
          (j.isNative = s5),
          (j.isNil = o5),
          (j.isNull = a5),
          (j.isNumber = J0),
          (j.isObject = Zt),
          (j.isObjectLike = tr),
          (j.isPlainObject = Ya),
          (j.isRegExp = $f),
          (j.isSafeInteger = c5),
          (j.isSet = Y0),
          (j.isString = Hc),
          (j.isSymbol = ui),
          (j.isTypedArray = ua),
          (j.isUndefined = u5),
          (j.isWeakMap = f5),
          (j.isWeakSet = h5),
          (j.join = p6),
          (j.kebabCase = ew),
          (j.last = xi),
          (j.lastIndexOf = g6),
          (j.lowerCase = tw),
          (j.lowerFirst = rw),
          (j.lt = l5),
          (j.lte = d5),
          (j.max = Yw),
          (j.maxBy = Qw),
          (j.mean = Xw),
          (j.meanBy = Zw),
          (j.min = e8),
          (j.minBy = t8),
          (j.stubArray = Qf),
          (j.stubFalse = Xf),
          (j.stubObject = zw),
          (j.stubString = kw),
          (j.stubTrue = jw),
          (j.multiply = r8),
          (j.nth = v6),
          (j.noConflict = Rw),
          (j.noop = Yf),
          (j.now = zc),
          (j.pad = iw),
          (j.padEnd = nw),
          (j.padStart = sw),
          (j.parseInt = aw),
          (j.random = J5),
          (j.reduce = yy),
          (j.reduceRight = wy),
          (j.repeat = ow),
          (j.replace = cw),
          (j.result = U5),
          (j.round = i8),
          (j.runInContext = ne),
          (j.sample = Ay),
          (j.size = Sy),
          (j.snakeCase = uw),
          (j.some = My),
          (j.sortedIndex = E6),
          (j.sortedIndexBy = x6),
          (j.sortedIndexOf = S6),
          (j.sortedLastIndex = M6),
          (j.sortedLastIndexBy = I6),
          (j.sortedLastIndexOf = D6),
          (j.startCase = hw),
          (j.startsWith = lw),
          (j.subtract = n8),
          (j.sum = s8),
          (j.sumBy = a8),
          (j.template = dw),
          (j.times = $w),
          (j.toFinite = Fn),
          (j.toInteger = yt),
          (j.toLength = X0),
          (j.toLower = pw),
          (j.toNumber = Si),
          (j.toSafeInteger = p5),
          (j.toString = Ft),
          (j.toUpper = gw),
          (j.trim = vw),
          (j.trimEnd = bw),
          (j.trimStart = mw),
          (j.truncate = yw),
          (j.unescape = ww),
          (j.uniqueId = Kw),
          (j.upperCase = _w),
          (j.upperFirst = Vf),
          (j.each = L0),
          (j.eachRight = U0),
          (j.first = T0),
          Jf(
            j,
            (function () {
              var n = {};
              return (
                an(j, function (o, v) {
                  Lt.call(j.prototype, v) || (n[v] = o);
                }),
                n
              );
            })(),
            { chain: !1 },
          ),
          (j.VERSION = i),
          yi(
            [
              "bind",
              "bindKey",
              "curry",
              "curryRight",
              "partial",
              "partialRight",
            ],
            function (n) {
              j[n].placeholder = j;
            },
          ),
          yi(["drop", "take"], function (n, o) {
            (Dt.prototype[n] = function (v) {
              v = v === t ? 1 : dr(yt(v), 0);
              var D = this.__filtered__ && !o ? new Dt(this) : this.clone();
              return (
                D.__filtered__
                  ? (D.__takeCount__ = Nr(v, D.__takeCount__))
                  : D.__views__.push({
                      size: Nr(v, m),
                      type: n + (D.__dir__ < 0 ? "Right" : ""),
                    }),
                D
              );
            }),
              (Dt.prototype[n + "Right"] = function (v) {
                return this.reverse()[n](v).reverse();
              });
          }),
          yi(["filter", "map", "takeWhile"], function (n, o) {
            var v = o + 1,
              D = v == l || v == w;
            Dt.prototype[n] = function (T) {
              var H = this.clone();
              return (
                H.__iteratees__.push({ iteratee: nt(T, 3), type: v }),
                (H.__filtered__ = H.__filtered__ || D),
                H
              );
            };
          }),
          yi(["head", "last"], function (n, o) {
            var v = "take" + (o ? "Right" : "");
            Dt.prototype[n] = function () {
              return this[v](1).value()[0];
            };
          }),
          yi(["initial", "tail"], function (n, o) {
            var v = "drop" + (o ? "" : "Right");
            Dt.prototype[n] = function () {
              return this.__filtered__ ? new Dt(this) : this[v](1);
            };
          }),
          (Dt.prototype.compact = function () {
            return this.filter(Zr);
          }),
          (Dt.prototype.find = function (n) {
            return this.filter(n).head();
          }),
          (Dt.prototype.findLast = function (n) {
            return this.reverse().find(n);
          }),
          (Dt.prototype.invokeMap = At(function (n, o) {
            return typeof n == "function"
              ? new Dt(this)
              : this.map(function (v) {
                  return Ha(v, n, o);
                });
          })),
          (Dt.prototype.reject = function (n) {
            return this.filter(jc(nt(n)));
          }),
          (Dt.prototype.slice = function (n, o) {
            n = yt(n);
            var v = this;
            return v.__filtered__ && (n > 0 || o < 0)
              ? new Dt(v)
              : (n < 0 ? (v = v.takeRight(-n)) : n && (v = v.drop(n)),
                o !== t &&
                  ((o = yt(o)), (v = o < 0 ? v.dropRight(-o) : v.take(o - n))),
                v);
          }),
          (Dt.prototype.takeRightWhile = function (n) {
            return this.reverse().takeWhile(n).reverse();
          }),
          (Dt.prototype.toArray = function () {
            return this.take(m);
          }),
          an(Dt.prototype, function (n, o) {
            var v = /^(?:filter|find|map|reject)|While$/.test(o),
              D = /^(?:head|last)$/.test(o),
              T = j[D ? "take" + (o == "last" ? "Right" : "") : o],
              H = D || /^find/.test(o);
            T &&
              (j.prototype[o] = function () {
                var X = this.__wrapped__,
                  ee = D ? [1] : arguments,
                  se = X instanceof Dt,
                  le = ee[0],
                  de = se || gt(X),
                  ge = function (St) {
                    var Rt = T.apply(j, Qn([St], ee));
                    return D && Pe ? Rt[0] : Rt;
                  };
                de &&
                  v &&
                  typeof le == "function" &&
                  le.length != 1 &&
                  (se = de = !1);
                var Pe = this.__chain__,
                  We = !!this.__actions__.length,
                  ot = H && !Pe,
                  wt = se && !We;
                if (!H && de) {
                  X = wt ? X : new Dt(this);
                  var ct = n.apply(X, ee);
                  return (
                    ct.__actions__.push({ func: Lc, args: [ge], thisArg: t }),
                    new _i(ct, Pe)
                  );
                }
                return ot && wt
                  ? n.apply(this, ee)
                  : ((ct = this.thru(ge)),
                    ot ? (D ? ct.value()[0] : ct.value()) : ct);
              });
          }),
          yi(
            ["pop", "push", "shift", "sort", "splice", "unshift"],
            function (n) {
              var o = fc[n],
                v = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru",
                D = /^(?:pop|shift)$/.test(n);
              j.prototype[n] = function () {
                var T = arguments;
                if (D && !this.__chain__) {
                  var H = this.value();
                  return o.apply(gt(H) ? H : [], T);
                }
                return this[v](function (X) {
                  return o.apply(gt(X) ? X : [], T);
                });
              };
            },
          ),
          an(Dt.prototype, function (n, o) {
            var v = j[o];
            if (v) {
              var D = v.name + "";
              Lt.call(na, D) || (na[D] = []), na[D].push({ name: o, func: v });
            }
          }),
          (na[Oc(t, V).name] = [{ name: "wrapper", func: t }]),
          (Dt.prototype.clone = wm),
          (Dt.prototype.reverse = _m),
          (Dt.prototype.value = Am),
          (j.prototype.at = Q6),
          (j.prototype.chain = X6),
          (j.prototype.commit = Z6),
          (j.prototype.next = ey),
          (j.prototype.plant = ry),
          (j.prototype.reverse = iy),
          (j.prototype.toJSON = j.prototype.valueOf = j.prototype.value = ny),
          (j.prototype.first = j.prototype.head),
          Ba && (j.prototype[Ba] = ty),
          j
        );
      },
      ta = Z2();
    nr ? (((nr.exports = ta)._ = ta), (Ht._ = ta)) : (Ot._ = ta);
  }).call(po);
})(Ll, Ll.exports);
var HP = Object.defineProperty,
  KP = Object.defineProperties,
  VP = Object.getOwnPropertyDescriptors,
  Av = Object.getOwnPropertySymbols,
  GP = Object.prototype.hasOwnProperty,
  WP = Object.prototype.propertyIsEnumerable,
  Ev = (r, e, t) =>
    e in r
      ? HP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  nu = (r, e) => {
    for (var t in e || (e = {})) GP.call(e, t) && Ev(r, t, e[t]);
    if (Av) for (var t of Av(e)) WP.call(e, t) && Ev(r, t, e[t]);
    return r;
  },
  JP = (r, e) => KP(r, VP(e));
function Zi(r, e, t) {
  var i;
  const s = yo(r);
  return (
    ((i = e.rpcMap) == null ? void 0 : i[s.reference]) ||
    `${I2}?chainId=${s.namespace}:${s.reference}&projectId=${t}`
  );
}
function Gs(r) {
  return r.includes(":") ? r.split(":")[1] : r;
}
function D2(r) {
  return r.map((e) => `${e.split(":")[0]}:${e.split(":")[1]}`);
}
function YP(r, e) {
  const t = Object.keys(e.namespaces).filter((s) => s.includes(r));
  if (!t.length) return [];
  const i = [];
  return (
    t.forEach((s) => {
      const a = e.namespaces[s].accounts;
      i.push(...a);
    }),
    i
  );
}
function bl(r = {}, e = {}) {
  const t = xv(r),
    i = xv(e);
  return Ll.exports.merge(t, i);
}
function xv(r) {
  var e, t, i, s;
  const a = {};
  if (!Po(r)) return a;
  for (const [f, h] of Object.entries(r)) {
    const d = td(f) ? [f] : h.chains,
      u = h.methods || [],
      b = h.events || [],
      _ = h.rpcMap || {},
      I = bo(f);
    a[I] = JP(nu(nu({}, a[I]), h), {
      chains: uu(d, (e = a[I]) == null ? void 0 : e.chains),
      methods: uu(u, (t = a[I]) == null ? void 0 : t.methods),
      events: uu(b, (i = a[I]) == null ? void 0 : i.events),
      rpcMap: nu(nu({}, _), (s = a[I]) == null ? void 0 : s.rpcMap),
    });
  }
  return a;
}
function QP(r) {
  return r.includes(":") ? r.split(":")[2] : r;
}
function Sv(r) {
  const e = {};
  for (const [t, i] of Object.entries(r)) {
    const s = i.methods || [],
      a = i.events || [],
      f = i.accounts || [],
      h = td(t) ? [t] : i.chains ? i.chains : D2(i.accounts);
    e[t] = { chains: h, methods: s, events: a, accounts: f };
  }
  return e;
}
function ml(r) {
  return typeof r == "number"
    ? r
    : r.includes("0x")
      ? parseInt(r, 16)
      : ((r = r.includes(":") ? r.split(":")[1] : r),
        isNaN(Number(r)) ? r : Number(r));
}
const P2 = {},
  Bt = (r) => P2[r],
  yl = (r, e) => {
    P2[r] = e;
  };
class XP {
  constructor(e) {
    (this.name = "polkadot"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Gs(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
var ZP = Object.defineProperty,
  eC = Object.defineProperties,
  tC = Object.getOwnPropertyDescriptors,
  Mv = Object.getOwnPropertySymbols,
  rC = Object.prototype.hasOwnProperty,
  iC = Object.prototype.propertyIsEnumerable,
  Iv = (r, e, t) =>
    e in r
      ? ZP(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Dv = (r, e) => {
    for (var t in e || (e = {})) rC.call(e, t) && Iv(r, t, e[t]);
    if (Mv) for (var t of Mv(e)) iC.call(e, t) && Iv(r, t, e[t]);
    return r;
  },
  Pv = (r, e) => eC(r, tC(e));
class nC {
  constructor(e) {
    (this.name = "eip155"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.httpProviders = this.createHttpProviders()),
      (this.chainId = parseInt(this.getDefaultChain()));
  }
  async request(e) {
    switch (e.request.method) {
      case "eth_requestAccounts":
        return this.getAccounts();
      case "eth_accounts":
        return this.getAccounts();
      case "wallet_switchEthereumChain":
        return await this.handleSwitchChain(e);
      case "eth_chainId":
        return parseInt(this.getDefaultChain());
      case "wallet_getCapabilities":
        return await this.getCapabilities(e);
      case "wallet_getCallsStatus":
        return await this.getCallStatus(e);
    }
    return this.namespace.methods.includes(e.request.method)
      ? await this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(parseInt(e), t),
      (this.chainId = parseInt(e)),
      this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId.toString();
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  createHttpProvider(e, t) {
    const i =
      t || Zi(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = parseInt(Gs(t));
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  getHttpProvider() {
    const e = this.chainId,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  async handleSwitchChain(e) {
    var t, i;
    let s = e.request.params
      ? (t = e.request.params[0]) == null
        ? void 0
        : t.chainId
      : "0x0";
    s = s.startsWith("0x") ? s : `0x${s}`;
    const a = parseInt(s, 16);
    if (this.isChainApproved(a)) this.setDefaultChain(`${a}`);
    else if (this.namespace.methods.includes("wallet_switchEthereumChain"))
      await this.client.request({
        topic: e.topic,
        request: { method: e.request.method, params: [{ chainId: s }] },
        chainId: (i = this.namespace.chains) == null ? void 0 : i[0],
      }),
        this.setDefaultChain(`${a}`);
    else
      throw new Error(
        `Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`,
      );
    return null;
  }
  isChainApproved(e) {
    return this.namespace.chains.includes(`${this.name}:${e}`);
  }
  async getCapabilities(e) {
    var t, i, s;
    const a =
      (i = (t = e.request) == null ? void 0 : t.params) == null ? void 0 : i[0];
    if (!a)
      throw new Error(
        "Missing address parameter in `wallet_getCapabilities` request",
      );
    const f = this.client.session.get(e.topic),
      h =
        ((s = f == null ? void 0 : f.sessionProperties) == null
          ? void 0
          : s.capabilities) || {};
    if (h != null && h[a]) return h == null ? void 0 : h[a];
    const d = await this.client.request(e);
    try {
      await this.client.session.update(e.topic, {
        sessionProperties: Pv(Dv({}, f.sessionProperties || {}), {
          capabilities: Pv(Dv({}, h || {}), { [a]: d }),
        }),
      });
    } catch (u) {
      console.warn("Failed to update session with capabilities", u);
    }
    return d;
  }
  async getCallStatus(e) {
    var t, i;
    const s = this.client.session.get(e.topic),
      a = (t = s.sessionProperties) == null ? void 0 : t.bundler_name;
    if (a) {
      const h = this.getBundlerUrl(e.chainId, a);
      try {
        return await this.getUserOperationReceipt(h, e);
      } catch (d) {
        console.warn("Failed to fetch call status from bundler", d, h);
      }
    }
    const f = (i = s.sessionProperties) == null ? void 0 : i.bundler_url;
    if (f)
      try {
        return await this.getUserOperationReceipt(f, e);
      } catch (h) {
        console.warn("Failed to fetch call status from custom bundler", h, f);
      }
    if (this.namespace.methods.includes(e.request.method))
      return await this.client.request(e);
    throw new Error("Fetching call status not approved by the wallet.");
  }
  async getUserOperationReceipt(e, t) {
    var i;
    const s = new URL(e),
      a = await fetch(s, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(
          ls("eth_getUserOperationReceipt", [
            (i = t.request.params) == null ? void 0 : i[0],
          ]),
        ),
      });
    if (!a.ok)
      throw new Error(`Failed to fetch user operation receipt - ${a.status}`);
    return await a.json();
  }
  getBundlerUrl(e, t) {
    return `${$P}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`;
  }
}
class sC {
  constructor(e) {
    (this.name = "solana"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Gs(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
class aC {
  constructor(e) {
    (this.name = "cosmos"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        rn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`,
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Gs(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
class oC {
  constructor(e) {
    (this.name = "algorand"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (!this.httpProviders[e]) {
      const i =
        t ||
        Zi(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    (this.chainId = e),
      this.events.emit(
        rn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`,
      );
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    return typeof i > "u"
      ? void 0
      : new tn(new In(i, Bt("disableProviderPing")));
  }
}
class cC {
  constructor(e) {
    (this.name = "cip34"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        rn.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`,
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        const i = this.getCardanoRPCUrl(t),
          s = Gs(t);
        e[s] = this.createHttpProvider(s, i);
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  getCardanoRPCUrl(e) {
    const t = this.namespace.rpcMap;
    if (t) return t[e];
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || this.getCardanoRPCUrl(e);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
class uC {
  constructor(e) {
    (this.name = "elrond"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Gs(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
class fC {
  constructor(e) {
    (this.name = "multiversx"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Gs(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
class hC {
  constructor(e) {
    (this.name = "near"),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (((this.chainId = e), !this.httpProviders[e])) {
      const i = t || Zi(`${this.name}:${e}`, this.namespace);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t],
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace);
    return typeof i > "u"
      ? void 0
      : new tn(new In(i, Bt("disableProviderPing")));
  }
}
class lC {
  constructor(e) {
    (this.name = va),
      (this.namespace = e.namespace),
      (this.events = Bt("events")),
      (this.client = Bt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    (this.namespace.chains = [
      ...new Set((this.namespace.chains || []).concat(e.chains || [])),
    ]),
      (this.namespace.accounts = [
        ...new Set((this.namespace.accounts || []).concat(e.accounts || [])),
      ]),
      (this.namespace.methods = [
        ...new Set((this.namespace.methods || []).concat(e.methods || [])),
      ]),
      (this.namespace.events = [
        ...new Set((this.namespace.events || []).concat(e.events || [])),
      ]),
      (this.httpProviders = this.createHttpProviders());
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider(e.chainId).request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(rn.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2]),
          ),
        ]
      : [];
  }
  createHttpProviders() {
    var e, t;
    const i = {};
    return (
      (t = (e = this.namespace) == null ? void 0 : e.accounts) == null ||
        t.forEach((s) => {
          const a = yo(s);
          i[`${a.namespace}:${a.reference}`] = this.createHttpProvider(s);
        }),
      i
    );
  }
  getHttpProvider(e) {
    const t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Zi(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new tn(new In(i, Bt("disableProviderPing")));
  }
}
var dC = Object.defineProperty,
  pC = Object.defineProperties,
  gC = Object.getOwnPropertyDescriptors,
  Cv = Object.getOwnPropertySymbols,
  vC = Object.prototype.hasOwnProperty,
  bC = Object.prototype.propertyIsEnumerable,
  Ov = (r, e, t) =>
    e in r
      ? dC(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  su = (r, e) => {
    for (var t in e || (e = {})) vC.call(e, t) && Ov(r, t, e[t]);
    if (Cv) for (var t of Cv(e)) bC.call(e, t) && Ov(r, t, e[t]);
    return r;
  },
  wl = (r, e) => pC(r, gC(e));
class fd {
  constructor(e) {
    (this.events = new jl()),
      (this.rpcProviders = {}),
      (this.shouldAbortPairingAttempt = !1),
      (this.maxPairingAttempts = 10),
      (this.disableProviderPing = !1),
      (this.providerOpts = e),
      (this.logger =
        typeof (e == null ? void 0 : e.logger) < "u" &&
        typeof (e == null ? void 0 : e.logger) != "string"
          ? e.logger
          : ko(Bu({ level: (e == null ? void 0 : e.logger) || wv }))),
      (this.disableProviderPing =
        (e == null ? void 0 : e.disableProviderPing) || !1);
  }
  static async init(e) {
    const t = new fd(e);
    return await t.initialize(), t;
  }
  async request(e, t, i) {
    const [s, a] = this.validateChain(t);
    if (!this.session)
      throw new Error("Please call connect() before request()");
    return await this.getProvider(s).request({
      request: su({}, e),
      chainId: `${s}:${a}`,
      topic: this.session.topic,
      expiry: i,
    });
  }
  sendAsync(e, t, i, s) {
    const a = new Date().getTime();
    this.request(e, i, s)
      .then((f) => t(null, Lu(a, f)))
      .catch((f) => t(f, void 0));
  }
  async enable() {
    if (!this.client) throw new Error("Sign Client not initialized");
    return (
      this.session ||
        (await this.connect({
          namespaces: this.namespaces,
          optionalNamespaces: this.optionalNamespaces,
          sessionProperties: this.sessionProperties,
        })),
      await this.requestAccounts()
    );
  }
  async disconnect() {
    var e;
    if (!this.session) throw new Error("Please call connect() before enable()");
    await this.client.disconnect({
      topic: (e = this.session) == null ? void 0 : e.topic,
      reason: Ut("USER_DISCONNECTED"),
    }),
      await this.cleanup();
  }
  async connect(e) {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (
      (this.setNamespaces(e),
      await this.cleanupPendingPairings(),
      !e.skipPairing)
    )
      return await this.pair(e.pairingTopic);
  }
  async authenticate(e, t) {
    if (!this.client) throw new Error("Sign Client not initialized");
    this.setNamespaces(e), await this.cleanupPendingPairings();
    const { uri: i, response: s } = await this.client.authenticate(e, t);
    i && ((this.uri = i), this.events.emit("display_uri", i));
    const a = await s();
    if (((this.session = a.session), this.session)) {
      const f = Sv(this.session.namespaces);
      (this.namespaces = bl(this.namespaces, f)),
        this.persist("namespaces", this.namespaces),
        this.onConnect();
    }
    return a;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  get isWalletConnect() {
    return !0;
  }
  async pair(e) {
    this.shouldAbortPairingAttempt = !1;
    let t = 0;
    do {
      if (this.shouldAbortPairingAttempt) throw new Error("Pairing aborted");
      if (t >= this.maxPairingAttempts)
        throw new Error("Max auto pairing attempts reached");
      const { uri: i, approval: s } = await this.client.connect({
        pairingTopic: e,
        requiredNamespaces: this.namespaces,
        optionalNamespaces: this.optionalNamespaces,
        sessionProperties: this.sessionProperties,
      });
      i && ((this.uri = i), this.events.emit("display_uri", i)),
        await s()
          .then((a) => {
            this.session = a;
            const f = Sv(a.namespaces);
            (this.namespaces = bl(this.namespaces, f)),
              this.persist("namespaces", this.namespaces);
          })
          .catch((a) => {
            if (a.message !== M2) throw a;
            t++;
          });
    } while (!this.session);
    return this.onConnect(), this.session;
  }
  setDefaultChain(e, t) {
    try {
      if (!this.session) return;
      const [i, s] = this.validateChain(e),
        a = this.getProvider(i);
      a.name === va
        ? a.setDefaultChain(`${i}:${s}`, t)
        : a.setDefaultChain(s, t);
    } catch (i) {
      if (!/Please call connect/.test(i.message)) throw i;
    }
  }
  async cleanupPendingPairings(e = {}) {
    this.logger.info("Cleaning up inactive pairings...");
    const t = this.client.pairing.getAll();
    if (En(t)) {
      for (const i of t)
        e.deletePairings
          ? this.client.core.expirer.set(i.topic, 0)
          : await this.client.core.relayer.subscriber.unsubscribe(i.topic);
      this.logger.info(`Inactive pairings cleared: ${t.length}`);
    }
  }
  abortPairingAttempt() {
    this.shouldAbortPairingAttempt = !0;
  }
  async checkStorage() {
    if (
      ((this.namespaces = await this.getFromStore("namespaces")),
      (this.optionalNamespaces =
        (await this.getFromStore("optionalNamespaces")) || {}),
      this.client.session.length)
    ) {
      const e = this.client.session.keys.length - 1;
      (this.session = this.client.session.get(this.client.session.keys[e])),
        this.createProviders();
    }
  }
  async initialize() {
    this.logger.trace("Initialized"),
      await this.createClient(),
      await this.checkStorage(),
      this.registerEventListeners();
  }
  async createClient() {
    (this.client =
      this.providerOpts.client ||
      (await ud.init({
        core: this.providerOpts.core,
        logger: this.providerOpts.logger || wv,
        relayUrl: this.providerOpts.relayUrl || zP,
        projectId: this.providerOpts.projectId,
        metadata: this.providerOpts.metadata,
        storageOptions: this.providerOpts.storageOptions,
        storage: this.providerOpts.storage,
        name: this.providerOpts.name,
        customStoragePrefix: this.providerOpts.customStoragePrefix,
        telemetryEnabled: this.providerOpts.telemetryEnabled,
      }))),
      this.logger.trace("SignClient Initialized");
  }
  createProviders() {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (!this.session)
      throw new Error(
        "Session not initialized. Please call connect() before enable()",
      );
    const e = [
      ...new Set(Object.keys(this.session.namespaces).map((t) => bo(t))),
    ];
    yl("client", this.client),
      yl("events", this.events),
      yl("disableProviderPing", this.disableProviderPing),
      e.forEach((t) => {
        if (!this.session) return;
        const i = YP(t, this.session),
          s = D2(i),
          a = bl(this.namespaces, this.optionalNamespaces),
          f = wl(su({}, a[t]), { accounts: i, chains: s });
        switch (t) {
          case "eip155":
            this.rpcProviders[t] = new nC({ namespace: f });
            break;
          case "algorand":
            this.rpcProviders[t] = new oC({ namespace: f });
            break;
          case "solana":
            this.rpcProviders[t] = new sC({ namespace: f });
            break;
          case "cosmos":
            this.rpcProviders[t] = new aC({ namespace: f });
            break;
          case "polkadot":
            this.rpcProviders[t] = new XP({ namespace: f });
            break;
          case "cip34":
            this.rpcProviders[t] = new cC({ namespace: f });
            break;
          case "elrond":
            this.rpcProviders[t] = new uC({ namespace: f });
            break;
          case "multiversx":
            this.rpcProviders[t] = new fC({ namespace: f });
            break;
          case "near":
            this.rpcProviders[t] = new hC({ namespace: f });
            break;
          default:
            this.rpcProviders[va]
              ? this.rpcProviders[va].updateNamespace(f)
              : (this.rpcProviders[va] = new lC({ namespace: f }));
        }
      });
  }
  registerEventListeners() {
    if (typeof this.client > "u")
      throw new Error("Sign Client is not initialized");
    this.client.on("session_ping", (e) => {
      this.events.emit("session_ping", e);
    }),
      this.client.on("session_event", (e) => {
        const { params: t } = e,
          { event: i } = t;
        if (i.name === "accountsChanged") {
          const s = i.data;
          s && En(s) && this.events.emit("accountsChanged", s.map(QP));
        } else if (i.name === "chainChanged") {
          const s = t.chainId,
            a = t.event.data,
            f = bo(s),
            h = ml(s) !== ml(a) ? `${f}:${ml(a)}` : s;
          this.onChainChanged(h);
        } else this.events.emit(i.name, i.data);
        this.events.emit("session_event", e);
      }),
      this.client.on("session_update", ({ topic: e, params: t }) => {
        var i;
        const { namespaces: s } = t,
          a = (i = this.client) == null ? void 0 : i.session.get(e);
        (this.session = wl(su({}, a), { namespaces: s })),
          this.onSessionUpdate(),
          this.events.emit("session_update", { topic: e, params: t });
      }),
      this.client.on("session_delete", async (e) => {
        await this.cleanup(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            wl(su({}, Ut("USER_DISCONNECTED")), { data: e.topic }),
          );
      }),
      this.on(rn.DEFAULT_CHAIN_CHANGED, (e) => {
        this.onChainChanged(e, !0);
      });
  }
  getProvider(e) {
    return this.rpcProviders[e] || this.rpcProviders[va];
  }
  onSessionUpdate() {
    Object.keys(this.rpcProviders).forEach((e) => {
      var t;
      this.getProvider(e).updateNamespace(
        (t = this.session) == null ? void 0 : t.namespaces[e],
      );
    });
  }
  setNamespaces(e) {
    const { namespaces: t, optionalNamespaces: i, sessionProperties: s } = e;
    t && Object.keys(t).length && (this.namespaces = t),
      i && Object.keys(i).length && (this.optionalNamespaces = i),
      (this.sessionProperties = s),
      this.persist("namespaces", t),
      this.persist("optionalNamespaces", i);
  }
  validateChain(e) {
    const [t, i] = (e == null ? void 0 : e.split(":")) || ["", ""];
    if (!this.namespaces || !Object.keys(this.namespaces).length) return [t, i];
    if (
      t &&
      !Object.keys(this.namespaces || {})
        .map((f) => bo(f))
        .includes(t)
    )
      throw new Error(
        `Namespace '${t}' is not configured. Please call connect() first with namespace config.`,
      );
    if (t && i) return [t, i];
    const s = bo(Object.keys(this.namespaces)[0]),
      a = this.rpcProviders[s].getDefaultChain();
    return [s, a];
  }
  async requestAccounts() {
    const [e] = this.validateChain();
    return await this.getProvider(e).requestAccounts();
  }
  onChainChanged(e, t = !1) {
    if (!this.namespaces) return;
    const [i, s] = this.validateChain(e);
    s &&
      (t || this.getProvider(i).setDefaultChain(s),
      this.namespaces[i]
        ? (this.namespaces[i].defaultChain = s)
        : this.namespaces[`${i}:${s}`]
          ? (this.namespaces[`${i}:${s}`].defaultChain = s)
          : (this.namespaces[`${i}:${s}`] = { defaultChain: s }),
      this.persist("namespaces", this.namespaces),
      this.events.emit("chainChanged", s));
  }
  onConnect() {
    this.createProviders(),
      this.events.emit("connect", { session: this.session });
  }
  async cleanup() {
    (this.session = void 0),
      (this.namespaces = void 0),
      (this.optionalNamespaces = void 0),
      (this.sessionProperties = void 0),
      this.persist("namespaces", void 0),
      this.persist("optionalNamespaces", void 0),
      this.persist("sessionProperties", void 0),
      await this.cleanupPendingPairings({ deletePairings: !0 });
  }
  persist(e, t) {
    this.client.core.storage.setItem(`${_v}/${e}`, t);
  }
  async getFromStore(e) {
    return await this.client.core.storage.getItem(`${_v}/${e}`);
  }
}
const mC = fd,
  yC = "wc",
  wC = "ethereum_provider",
  _C = `${yC}@2:${wC}:`,
  AC = "https://rpc.walletconnect.org/v1/",
  Ul = ["eth_sendTransaction", "personal_sign"],
  EC = [
    "eth_accounts",
    "eth_requestAccounts",
    "eth_sendRawTransaction",
    "eth_sign",
    "eth_signTransaction",
    "eth_signTypedData",
    "eth_signTypedData_v3",
    "eth_signTypedData_v4",
    "eth_sendTransaction",
    "personal_sign",
    "wallet_switchEthereumChain",
    "wallet_addEthereumChain",
    "wallet_getPermissions",
    "wallet_requestPermissions",
    "wallet_registerOnboarding",
    "wallet_watchAsset",
    "wallet_scanQRCode",
    "wallet_sendCalls",
    "wallet_getCapabilities",
    "wallet_getCallsStatus",
    "wallet_showCallsStatus",
  ],
  zl = ["chainChanged", "accountsChanged"],
  xC = ["chainChanged", "accountsChanged", "message", "disconnect", "connect"];
var SC = Object.defineProperty,
  MC = Object.defineProperties,
  IC = Object.getOwnPropertyDescriptors,
  Rv = Object.getOwnPropertySymbols,
  DC = Object.prototype.hasOwnProperty,
  PC = Object.prototype.propertyIsEnumerable,
  Nv = (r, e, t) =>
    e in r
      ? SC(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ba = (r, e) => {
    for (var t in e || (e = {})) DC.call(e, t) && Nv(r, t, e[t]);
    if (Rv) for (var t of Rv(e)) PC.call(e, t) && Nv(r, t, e[t]);
    return r;
  },
  _l = (r, e) => MC(r, IC(e));
function Cu(r) {
  return Number(r[0].split(":")[1]);
}
function au(r) {
  return `0x${r.toString(16)}`;
}
function CC(r) {
  const {
    chains: e,
    optionalChains: t,
    methods: i,
    optionalMethods: s,
    events: a,
    optionalEvents: f,
    rpcMap: h,
  } = r;
  if (!En(e)) throw new Error("Invalid chains");
  const d = {
      chains: e,
      methods: i || Ul,
      events: a || zl,
      rpcMap: ba({}, e.length ? { [Cu(e)]: h[Cu(e)] } : {}),
    },
    u = a == null ? void 0 : a.filter((M) => !zl.includes(M)),
    b = i == null ? void 0 : i.filter((M) => !Ul.includes(M));
  if (!t && !f && !s && !(u != null && u.length) && !(b != null && b.length))
    return { required: e.length ? d : void 0 };
  const _ =
      ((u == null ? void 0 : u.length) && (b == null ? void 0 : b.length)) ||
      !t,
    I = {
      chains: [...new Set(_ ? d.chains.concat(t || []) : t)],
      methods: [...new Set(d.methods.concat(s != null && s.length ? s : EC))],
      events: [...new Set(d.events.concat(f != null && f.length ? f : xC))],
      rpcMap: h,
    };
  return { required: e.length ? d : void 0, optional: t.length ? I : void 0 };
}
class hd {
  constructor() {
    (this.events = new gi.EventEmitter()),
      (this.namespace = "eip155"),
      (this.accounts = []),
      (this.chainId = 1),
      (this.STORAGE_KEY = _C),
      (this.on = (e, t) => (this.events.on(e, t), this)),
      (this.once = (e, t) => (this.events.once(e, t), this)),
      (this.removeListener = (e, t) => (
        this.events.removeListener(e, t), this
      )),
      (this.off = (e, t) => (this.events.off(e, t), this)),
      (this.parseAccount = (e) =>
        this.isCompatibleChainId(e) ? this.parseAccountId(e).address : e),
      (this.signer = {}),
      (this.rpc = {});
  }
  static async init(e) {
    const t = new hd();
    return await t.initialize(e), t;
  }
  async request(e, t) {
    return await this.signer.request(e, this.formatChainId(this.chainId), t);
  }
  sendAsync(e, t, i) {
    this.signer.sendAsync(e, t, this.formatChainId(this.chainId), i);
  }
  get connected() {
    return this.signer.client ? this.signer.client.core.relayer.connected : !1;
  }
  get connecting() {
    return this.signer.client ? this.signer.client.core.relayer.connecting : !1;
  }
  async enable() {
    return (
      this.session || (await this.connect()),
      await this.request({ method: "eth_requestAccounts" })
    );
  }
  async connect(e) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts(e);
    const { required: t, optional: i } = CC(this.rpc);
    try {
      const s = await new Promise(async (f, h) => {
        var d;
        this.rpc.showQrModal &&
          ((d = this.modal) == null ||
            d.subscribeModal((u) => {
              !u.open &&
                !this.signer.session &&
                (this.signer.abortPairingAttempt(),
                h(new Error("Connection request reset. Please try again.")));
            })),
          await this.signer
            .connect(
              _l(
                ba(
                  { namespaces: ba({}, t && { [this.namespace]: t }) },
                  i && { optionalNamespaces: { [this.namespace]: i } },
                ),
                { pairingTopic: e == null ? void 0 : e.pairingTopic },
              ),
            )
            .then((u) => {
              f(u);
            })
            .catch((u) => {
              h(new Error(u.message));
            });
      });
      if (!s) return;
      const a = N1(s.namespaces, [this.namespace]);
      this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
        this.setAccounts(a),
        this.events.emit("connect", { chainId: au(this.chainId) });
    } catch (s) {
      throw (this.signer.logger.error(s), s);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async authenticate(e, t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts({ chains: e == null ? void 0 : e.chains });
    try {
      const i = await new Promise(async (a, f) => {
          var h;
          this.rpc.showQrModal &&
            ((h = this.modal) == null ||
              h.subscribeModal((d) => {
                !d.open &&
                  !this.signer.session &&
                  (this.signer.abortPairingAttempt(),
                  f(new Error("Connection request reset. Please try again.")));
              })),
            await this.signer
              .authenticate(_l(ba({}, e), { chains: this.rpc.chains }), t)
              .then((d) => {
                a(d);
              })
              .catch((d) => {
                f(new Error(d.message));
              });
        }),
        s = i.session;
      if (s) {
        const a = N1(s.namespaces, [this.namespace]);
        this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
          this.setAccounts(a),
          this.events.emit("connect", { chainId: au(this.chainId) });
      }
      return i;
    } catch (i) {
      throw (this.signer.logger.error(i), i);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async disconnect() {
    this.session && (await this.signer.disconnect()), this.reset();
  }
  get isWalletConnect() {
    return !0;
  }
  get session() {
    return this.signer.session;
  }
  registerEventListeners() {
    this.signer.on("session_event", (e) => {
      const { params: t } = e,
        { event: i } = t;
      i.name === "accountsChanged"
        ? ((this.accounts = this.parseAccounts(i.data)),
          this.events.emit("accountsChanged", this.accounts))
        : i.name === "chainChanged"
          ? this.setChainId(this.formatChainId(i.data))
          : this.events.emit(i.name, i.data),
        this.events.emit("session_event", e);
    }),
      this.signer.on("chainChanged", (e) => {
        const t = parseInt(e);
        (this.chainId = t),
          this.events.emit("chainChanged", au(this.chainId)),
          this.persist();
      }),
      this.signer.on("session_update", (e) => {
        this.events.emit("session_update", e);
      }),
      this.signer.on("session_delete", (e) => {
        this.reset(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            _l(ba({}, Ut("USER_DISCONNECTED")), {
              data: e.topic,
              name: "USER_DISCONNECTED",
            }),
          );
      }),
      this.signer.on("display_uri", (e) => {
        var t, i;
        this.rpc.showQrModal &&
          ((t = this.modal) == null || t.closeModal(),
          (i = this.modal) == null || i.openModal({ uri: e })),
          this.events.emit("display_uri", e);
      });
  }
  switchEthereumChain(e) {
    this.request({
      method: "wallet_switchEthereumChain",
      params: [{ chainId: e.toString(16) }],
    });
  }
  isCompatibleChainId(e) {
    return typeof e == "string" ? e.startsWith(`${this.namespace}:`) : !1;
  }
  formatChainId(e) {
    return `${this.namespace}:${e}`;
  }
  parseChainId(e) {
    return Number(e.split(":")[1]);
  }
  setChainIds(e) {
    const t = e
      .filter((i) => this.isCompatibleChainId(i))
      .map((i) => this.parseChainId(i));
    t.length &&
      ((this.chainId = t[0]),
      this.events.emit("chainChanged", au(this.chainId)),
      this.persist());
  }
  setChainId(e) {
    if (this.isCompatibleChainId(e)) {
      const t = this.parseChainId(e);
      (this.chainId = t), this.switchEthereumChain(t);
    }
  }
  parseAccountId(e) {
    const [t, i, s] = e.split(":");
    return { chainId: `${t}:${i}`, address: s };
  }
  setAccounts(e) {
    (this.accounts = e
      .filter(
        (t) =>
          this.parseChainId(this.parseAccountId(t).chainId) === this.chainId,
      )
      .map((t) => this.parseAccountId(t).address)),
      this.events.emit("accountsChanged", this.accounts);
  }
  getRpcConfig(e) {
    var t, i;
    const s = (t = e == null ? void 0 : e.chains) != null ? t : [],
      a = (i = e == null ? void 0 : e.optionalChains) != null ? i : [],
      f = s.concat(a);
    if (!f.length)
      throw new Error(
        "No chains specified in either `chains` or `optionalChains`",
      );
    const h = s.length ? (e == null ? void 0 : e.methods) || Ul : [],
      d = s.length ? (e == null ? void 0 : e.events) || zl : [],
      u = (e == null ? void 0 : e.optionalMethods) || [],
      b = (e == null ? void 0 : e.optionalEvents) || [],
      _ = (e == null ? void 0 : e.rpcMap) || this.buildRpcMap(f, e.projectId),
      I = (e == null ? void 0 : e.qrModalOptions) || void 0;
    return {
      chains: s == null ? void 0 : s.map((M) => this.formatChainId(M)),
      optionalChains: a.map((M) => this.formatChainId(M)),
      methods: h,
      events: d,
      optionalMethods: u,
      optionalEvents: b,
      rpcMap: _,
      showQrModal: !!(e != null && e.showQrModal),
      qrModalOptions: I,
      projectId: e.projectId,
      metadata: e.metadata,
    };
  }
  buildRpcMap(e, t) {
    const i = {};
    return (
      e.forEach((s) => {
        i[s] = this.getRpcUrl(s, t);
      }),
      i
    );
  }
  async initialize(e) {
    if (
      ((this.rpc = this.getRpcConfig(e)),
      (this.chainId = this.rpc.chains.length
        ? Cu(this.rpc.chains)
        : Cu(this.rpc.optionalChains)),
      (this.signer = await mC.init({
        projectId: this.rpc.projectId,
        metadata: this.rpc.metadata,
        disableProviderPing: e.disableProviderPing,
        relayUrl: e.relayUrl,
        storageOptions: e.storageOptions,
        customStoragePrefix: e.customStoragePrefix,
        telemetryEnabled: e.telemetryEnabled,
      })),
      this.registerEventListeners(),
      await this.loadPersistedSession(),
      this.rpc.showQrModal)
    ) {
      let t;
      try {
        const { WalletConnectModal: i } = await c8(
          () => import("./index-kiaA3-eT.js").then((s) => s.i),
          __vite__mapDeps([0, 1, 2, 3]),
        );
        t = i;
      } catch {
        throw new Error(
          "To use QR modal, please install @walletconnect/modal package",
        );
      }
      if (t)
        try {
          this.modal = new t(
            ba({ projectId: this.rpc.projectId }, this.rpc.qrModalOptions),
          );
        } catch (i) {
          throw (
            (this.signer.logger.error(i),
            new Error("Could not generate WalletConnectModal Instance"))
          );
        }
    }
  }
  loadConnectOpts(e) {
    if (!e) return;
    const { chains: t, optionalChains: i, rpcMap: s } = e;
    t &&
      En(t) &&
      ((this.rpc.chains = t.map((a) => this.formatChainId(a))),
      t.forEach((a) => {
        this.rpc.rpcMap[a] = (s == null ? void 0 : s[a]) || this.getRpcUrl(a);
      })),
      i &&
        En(i) &&
        ((this.rpc.optionalChains = []),
        (this.rpc.optionalChains =
          i == null ? void 0 : i.map((a) => this.formatChainId(a))),
        i.forEach((a) => {
          this.rpc.rpcMap[a] = (s == null ? void 0 : s[a]) || this.getRpcUrl(a);
        }));
  }
  getRpcUrl(e, t) {
    var i;
    return (
      ((i = this.rpc.rpcMap) == null ? void 0 : i[e]) ||
      `${AC}?chainId=eip155:${e}&projectId=${t || this.rpc.projectId}`
    );
  }
  async loadPersistedSession() {
    if (this.session)
      try {
        const e = await this.signer.client.core.storage.getItem(
            `${this.STORAGE_KEY}/chainId`,
          ),
          t = this.session.namespaces[`${this.namespace}:${e}`]
            ? this.session.namespaces[`${this.namespace}:${e}`]
            : this.session.namespaces[this.namespace];
        this.setChainIds(
          e ? [this.formatChainId(e)] : t == null ? void 0 : t.accounts,
        ),
          this.setAccounts(t == null ? void 0 : t.accounts);
      } catch (e) {
        this.signer.logger.error(
          "Failed to load persisted session, clearing state...",
        ),
          this.signer.logger.error(e),
          await this.disconnect().catch((t) => this.signer.logger.warn(t));
      }
  }
  reset() {
    (this.chainId = 1), (this.accounts = []);
  }
  persist() {
    this.session &&
      this.signer.client.core.storage.setItem(
        `${this.STORAGE_KEY}/chainId`,
        this.chainId,
      );
  }
  parseAccounts(e) {
    return typeof e == "string" || e instanceof String
      ? [this.parseAccount(e)]
      : e.map((t) => this.parseAccount(t));
  }
}
const iO = hd;
export {
  iO as EthereumProvider,
  xC as OPTIONAL_EVENTS,
  EC as OPTIONAL_METHODS,
  zl as REQUIRED_EVENTS,
  Ul as REQUIRED_METHODS,
  hd as default,
};
